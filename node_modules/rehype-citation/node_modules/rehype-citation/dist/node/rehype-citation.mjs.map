{"version":3,"file":"rehype-citation.mjs","sources":["../../src/regex.js","../../src/parse-citation.js","../../src/utils.js","../../src/html-transform-node.js","../../src/generator.js","../../src/citation-js/core/Cite/log.js","../../src/citation-js/core/Cite/validate.js","../../src/citation-js/core/Cite/options.js","../../src/citation-js/core/plugins/input/dataType.js","../../src/citation-js/core/plugins/input/graph.js","../../src/citation-js/core/logger.js","../../src/citation-js/core/plugins/input/type.js","../../src/citation-js/core/plugins/input/parser.js","../../src/citation-js/core/plugins/input/csl.js","../../src/citation-js/core/util/deepCopy.js","../../src/citation-js/core/plugins/input/chain.js","../../src/citation-js/core/plugins/input/data.js","../../src/citation-js/core/plugins/input/register.js","../../src/citation-js/core/plugins/input/index.js","../../src/citation-js/core/util/fetchId.js","../../src/citation-js/core/Cite/set.js","../../src/citation-js/core/plugin-common/output/label.js","../../src/citation-js/core/Cite/sort.js","../../src/citation-js/core/Cite/async.js","../../src/citation-js/core/util/register.js","../../src/citation-js/core/plugins/output.js","../../src/citation-js/core/Cite/get.js","../../src/citation-js/core/Cite/index.js","../../src/citation-js/core/plugins/dict.js","../../src/citation-js/core/plugins/config.js","../../src/citation-js/core/plugins/index.js","../../node_modules/webidl-conversions/lib/index.js","../../node_modules/whatwg-url/lib/utils.js","../../node_modules/tr46/index.js","../../node_modules/whatwg-url/lib/url-state-machine.js","../../node_modules/whatwg-url/lib/URL-impl.js","../../node_modules/whatwg-url/lib/URL.js","../../node_modules/whatwg-url/lib/public-api.js","../../node_modules/sync-fetch/node_modules/node-fetch/lib/index.mjs","../../node_modules/sync-fetch/shared.js","../../node_modules/sync-fetch/index.js","../../node_modules/isomorphic-fetch/node_modules/node-fetch/lib/index.mjs","../../node_modules/isomorphic-fetch/fetch-npm-node.js","../../src/citation-js/core/util/fetchFile.js","../../src/citation-js/core/util/stack.js","../../src/citation-js/core/util/grammar.js","../../src/citation-js/core/util/translator.js","../../src/citation-js/core/plugin-common/input/empty.js","../../src/citation-js/core/plugin-common/input/json.js","../../src/citation-js/core/plugin-common/input/jquery.js","../../src/citation-js/core/plugin-common/input/html.js","../../src/citation-js/core/plugin-common/input/index.js","../../src/citation-js/core/plugin-common/output/json.js","../../src/citation-js/core/plugin-common/output/index.js","../../src/citation-js/core/plugin-common/index.js","../../src/citation-js/core/index.js","../../src/citation-js/plugin-bibjson/json.js","../../src/citation-js/plugin-bibjson/index.js","../../node_modules/moo/moo.js","../../src/citation-js/plugin-bibtex/input/required.js","../../src/citation-js/plugin-bibtex/input/fieldTypes.js","../../src/citation-js/plugin-bibtex/input/unicode.js","../../src/citation-js/plugin-bibtex/input/constants.js","../../src/citation-js/plugin-bibtex/input/file.js","../../src/citation-js/plugin-bibtex/input/bibtxt.js","../../src/citation-js/plugin-bibtex/mapping/biblatexTypes.js","../../src/citation-js/plugin-bibtex/mapping/bibtexTypes.js","../../src/citation-js/plugin-bibtex/config.js","../../src/citation-js/plugin-bibtex/mapping/shared.js","../../src/citation-js/plugin-bibtex/mapping/biblatex.js","../../src/citation-js/plugin-bibtex/mapping/bibtex.js","../../src/citation-js/plugin-bibtex/mapping/index.js","../../src/citation-js/plugin-bibtex/input/name.js","../../src/citation-js/plugin-bibtex/input/value.js","../../src/citation-js/plugin-bibtex/input/entries.js","../../src/citation-js/plugin-bibtex/input/index.js","../../src/citation-js/plugin-bibtex/output/value.js","../../src/citation-js/plugin-bibtex/output/entries.js","../../src/citation-js/plugin-bibtex/output/bibtex.js","../../src/citation-js/plugin-bibtex/output/bibtxt.js","../../src/citation-js/plugin-bibtex/output/index.js","../../src/citation-js/plugin-bibtex/index.js","../../src/citation-js/plugin-csl/locales.js","../../src/citation-js/plugin-csl/styles.js","../../src/citation-js/plugin-csl/engines.js","../../src/citation-js/plugin-csl/attr.js","../../src/citation-js/plugin-csl/bibliography.js","../../src/citation-js/plugin-csl/citation.js","../../src/citation-js/plugin-csl/index.js","../../src/cite.js","../../styles/mla.js","../../styles/chicago.js","../../styles/harvard1.js","../../styles/vancouver.js","../../src/index.js"],"sourcesContent":["/**\n * Captures normal citation in square bracket and in-text citation\n * Citation key start should start with a letter, digit, or _,\n * and contains only alphanumerics and single internal punctuation characters (:.#$%&-+?<>~/),\n *\n * e.g. [-@wadler1990], [@hughes1989, sec 3.4], [see @wadler1990; and @hughes1989, pp. 4]\n * and @wadler1990\n *\n * Group #1 - citation term without [] bracket e.g. -@wadler1990\n * Group #2 - in-text citation term e.g. @wadler1990\n *\n * \\[([^[\\]]*@[^[\\]]+)\\] for group #1\n * (?!\\b)@([a-zA-Z0-9_][a-zA-Z0-9_:.#$%&\\-+?<>~]*) for group #2\n * Use (?!\\b) to avoid email like address e.g. xyx@google.com\n * */\nexport const citeExtractorRe =\n  /\\[([^[\\]]*@[^[\\]]+)\\]|(?!\\b)(@[a-zA-Z0-9_][a-zA-Z0-9_:.#$%&\\-+?<>~]*)/\nexport const citeKeyRe = /@([a-zA-Z0-9_][a-zA-Z0-9_:.#$%&\\-+?<>~]*)/\nexport const citeBracketRe = /\\[.*\\]/\n","/**\n * @typedef CiteItem\n *   Cite item to be passed into citeproc-js\n * @property {string} [id]\n *   The id field is required\n * @property {string} [locator]\n *   A string identifying a page number or other pinpoint location or range within the resource;\n * @property {string} [label]\n *   Path to file\n * @property {string} [prefix]\n *   A string to print before this cite item\n * @property {string} [suffix]\n *   A string to print after this cite item\n * @property {boolean} [suppress-author]\n *   If true, author names will not be included in the citation output for this cite\n * @property {boolean} [author-only]\n *   If true, only the author name will be included in the citation output for this cite\n */\n\nimport { citeBracketRe, citeKeyRe } from './regex.js'\n\nconst locatorMapping = {\n  book: 'book',\n  'bk.': 'book',\n  'bks.': 'book',\n  chapter: 'chapter',\n  'chap.': 'chapter',\n  'chaps.': 'chapter',\n  column: 'column',\n  'col.': 'column',\n  'cols.': 'column',\n  figure: 'figure',\n  'fig.': 'figure',\n  'figs.': 'figure',\n  folio: 'folio',\n  'fol.': 'folio',\n  'fols.': 'folio',\n  number: 'number',\n  'no.': 'number',\n  'nos.': 'number',\n  line: 'line',\n  'l.': 'line',\n  'll.': 'line',\n  note: 'note',\n  'n.': 'note',\n  'nn.': 'note',\n  opus: 'opus',\n  'op.': 'opus',\n  'opp.': 'opus',\n  page: 'page',\n  'p.': 'page',\n  'pp.': 'page',\n  paragraph: 'paragraph',\n  'para.': 'paragraph',\n  'paras.': 'paragraph',\n  part: 'part',\n  'pt.': 'part',\n  'pts.': 'part',\n  section: 'section',\n  'sec.': 'section',\n  'secs.': 'section',\n  'sub verbo': 'sub verbo',\n  's.v.': 'sub verbo',\n  's.vv.': 'sub verbo',\n  verse: 'verse',\n  'v.': 'verse',\n  'vv.': 'verse',\n  volume: 'volume',\n  'vol.': 'volume',\n  'vols.': 'volume',\n  '¶': 'paragraph',\n  '¶¶': 'paragraph',\n  '§': 'section',\n  '§§': 'section',\n}\n\n/**\n * Parses a given citation string and return properties and entries required for cite-proc.\n * Adapted from https://github.com/Zettlr/Citr/blob/master/lib/citr.ts\n *\n * @param {string} citeString Cite string in the form of '[@item]' or '@item'\n * @return {[Object, CiteItem[]]} [properties, entries]\n */\nexport const parseCitation = (citeString) => {\n  /** @type {CiteItem[]} */\n  let entries = []\n  let properties\n  if (citeBracketRe.test(citeString)) {\n    properties = { noteIndex: 0 }\n    // Handle citations in the form of [@item1; @item2]\n    const citeItems = citeString.substr(1, citeString.length - 2).split(';')\n    for (const citeItem of citeItems) {\n      // Prefix is the portion before @ e.g. [see @item1] or an empty string\n      let prefix = ''\n      let locator = ''\n      let label = 'page'\n      let suffix = ''\n      const citeChunk = citeItem.split('@')\n      if (citeChunk.length === 1) {\n        throw new Error('Cite key should be in the form of @key')\n      } else if (citeChunk.length > 2) {\n        throw new Error('More than one cite key @ detected, please separate keys with ;')\n      }\n      prefix += citeChunk[0]\n      prefix = prefix.trim()\n\n      // If [-@item1], suppress author\n      let suppressAuthor = citeItem.indexOf('@') > 0 && citeItem[citeItem.indexOf('@') - 1] === '-'\n      if (suppressAuthor) prefix = prefix.substr(0, prefix.length - 1).trim()\n\n      // The citation key can be terminated with a comma or space\n      let commaIndex = citeChunk[1].indexOf(',') + 1\n      // If the commaIndex is 0, this means there was no comma - check for space\n      if (commaIndex === 0) commaIndex = citeChunk[1].indexOf(' ') + 1\n      // Pass undefined to extract everything\n      if (commaIndex <= 0) commaIndex = undefined\n      const citeKey = citeItem.substr(citeItem.indexOf('@'), commaIndex).match(citeKeyRe)[0]\n\n      // We are left with the locator, suffix and label\n      let afterKey = citeItem.split('@')[1].substr(citeKey.length).trim()\n      if (afterKey[0] === ',') afterKey = afterKey.substr(1).trim()\n      // Locator should be in the form of 11-22, 33\n      // Would not work form roman numerals or alphabetical sections\n      const locatorMatch = afterKey.match(/(\\d|-| |,)+/g)\n      if (locatorMatch !== null) {\n        locator = locatorMatch[0].trim()\n        // String before the locator is taken to be the label\n        // Use heuristic from https://pandoc.org/MANUAL.html#citation-syntax to convert locator label to valid\n        // Label has to be one of the following: https://docs.citationstyles.org/en/stable/specification.html#locators\n        label = afterKey.split(locator)[0].trim()\n        label = locatorMapping[label] || 'page'\n        // String after the locator is taken to be the suffix\n        suffix = afterKey.split(locator)[1].trim()\n      } else {\n        // If no locator is found, entire string is assumed to be the suffix\n        suffix = afterKey.trim()\n      }\n\n      entries.push({\n        // Get the first capture group which returns the citekey without @\n        id: citeItem.match(citeKeyRe)[1],\n        locator,\n        label,\n        prefix,\n        suffix,\n        'suppress-author': suppressAuthor,\n      })\n    }\n  } else {\n    // Single item in the form of @item1\n    // See https://citeproc-js.readthedocs.io/en/latest/running.html#special-citation-forms\n    properties = { noteIndex: 0, mode: 'composite' }\n    entries = [citeString].map((str) => ({\n      id: str.match(citeKeyRe)[1],\n    }))\n  }\n  return [properties, entries]\n}\n","import fetch from 'cross-fetch'\n\nexport const isNode = typeof window === 'undefined'\n\nexport const readFile = async (path) => {\n  if (isValidHttpUrl(path)) {\n    return fetch(path)\n      .then((response) => response.text())\n      .then((data) => data)\n  } else {\n    if (isNode) {\n      return import('fs').then((fs) => fs.readFileSync(path, 'utf8'))\n    } else {\n      throw new Error(`Cannot read non valid URL in node env.`)\n    }\n  }\n}\n\n/**\n * Check if valid URL\n * https://stackoverflow.com/questions/5717093/check-if-a-javascript-string-is-a-url\n *\n * @param {string} str\n * @return {boolean}\n */\nexport const isValidHttpUrl = (str) => {\n  let url\n\n  try {\n    url = new URL(str)\n  } catch (_) {\n    return false\n  }\n\n  return url.protocol === 'http:' || url.protocol === 'https:'\n}\n\n/**\n * Get bibliography by merging options and vfile data\n *\n * @param {import('./generator.js').Options} options\n * @param {import('vfile').VFile} file\n */\nexport const getBibliography = async (options, file) => {\n  let bibliography = ''\n  if (options.bibliography) {\n    bibliography = options.bibliography\n    // @ts-ignore\n  } else if (file?.data?.frontmatter?.bibliography) {\n    // @ts-ignore\n    bibliography = file.data.frontmatter.bibliography\n    // If local path, get absolute path\n    if (!isValidHttpUrl(bibliography)) {\n      if (isNode) {\n        bibliography = await import('path').then((path) =>\n          path.join(options.path || file.cwd, bibliography)\n        )\n      } else {\n        throw new Error(`Cannot read non valid bibliography URL in node env.`)\n      }\n    }\n  }\n\n  return bibliography\n}\n","import parse5 from 'parse5'\nimport { fromParse5 } from 'hast-util-from-parse5'\n\n/**\n * Convert HTML to HAST node\n *\n * @param {string} html\n */\nexport const htmlToHast = (html) => {\n  const p5ast = parse5.parseFragment(html)\n  return fromParse5(p5ast).children[0]\n}\n","/**\n * @typedef {import('hast').Node} Node\n * @typedef {import('hast').Parent} Parent\n * @typedef {import('hast').Root} Root\n * @typedef {import('unist-util-visit').Visitor<Node>} Visitor\n * @typedef {import('./parse-citation').CiteItem} CiteItem\n * @typedef Options\n *   Configuration.\n * @property {string} [bibliography]\n *   Name of bibtex or CSL-JSON file\n * @property {string} [path]\n *   Optional path to file (node). Will be joined with `options.bibliography` and used in place of cwd of file if provided.\n * @property {'apa'|'vancouver'|'harvard1'|'chicago'|'mla'|string} [csl]\n *   One of 'apa', 'vancouver', 'harvard1', 'chicago', 'mla' or name of the local csl file\n * @property {string} [lang]\n *   Locale to use in formatting citations. Defaults to en-US.\n * @property {boolean} [suppressBibliography]\n *   By default, biliography is inserted after the entire markdown file.\n *   If the file contains `[^Ref]`, the biliography will be inserted there instead.\n * @property {string[]} [noCite]\n *   Citation IDs (@item1) to include in the bibliography even if they are not cited in the document\n */\n\nimport { visit } from 'unist-util-visit'\nimport fetch from 'cross-fetch'\nimport { parseCitation } from './parse-citation.js'\nimport { citeExtractorRe } from './regex.js'\nimport { isNode, isValidHttpUrl, readFile, getBibliography } from './utils.js'\nimport { htmlToHast } from './html-transform-node.js'\n\nconst defaultCiteFormat = 'apa'\nconst permittedTags = ['div', 'p', 'span', 'li']\n\n/**\n * Generate citation using citeproc\n * This accounts for prev citations and additional properties\n *\n * @param {*} citeproc\n * @param {CiteItem[]} entries\n * @param {string} citationId\n * @param {any[]} citationPre\n * @param {*} [properties={ noteIndex: 0 }]\n * @return {*}\n */\nconst genCitation = (citeproc, entries, citationId, citationPre, properties = { noteIndex: 0 }) => {\n  const c = citeproc.processCitationCluster(\n    {\n      citationID: citationId,\n      citationItems: entries,\n      properties: properties,\n    },\n    citationPre.length > 0 ? citationPre : [],\n    []\n  )\n  // c = [ { bibchange: true, citation_errors: [] }, [ [ 0, '(1)', 'CITATION-1' ] ]]\n  const result = c[1].filter((x) => x[2] === citationId)\n  // Coerce to html to parse HTML code e.g. &#38; and return text node\n  const citeNode = htmlToHast(`<div>${result[0][1]}</div>`)\n  const textNode = citeNode.children[0]\n  return textNode\n}\n\n/**\n * Generate bibliography in html and convert it to hast\n *\n * @param {*} citeproc\n */\nconst genBiblioNode = (citeproc) => {\n  const [, bibBody] = citeproc.makeBibliography()\n  const bibliography =\n    '<div id=\"refs\" class=\"references csl-bib-body\">\\n' + bibBody.join('') + '</div>'\n  const biblioNode = htmlToHast(bibliography)\n  return biblioNode\n}\n\n/**\n * Rehype plugin that formats citations in markdown documents and insert bibliography in html format\n *\n *    [-@wadler1990]                              --> (1990)\n *    [@hughes1989, sec 3.4]                      --> (Hughes 1989, sec 3.4)\n *    [see @wadler1990; and @hughes1989, pp. 4]   --> (see Wadler 1990 and Hughes 1989, pp. 4)\n *\n * @param {*} Cite cite object from citation-js configured with the required CSLs\n * @return {import('unified').Plugin<[Options?], Root>}\n */\nconst rehypeCitationGenerator = (Cite) => {\n  return (options = {}) => {\n    return async (tree, file) => {\n      let bibliography = await getBibliography(options, file)\n      if (!bibliography) {\n        return\n      }\n\n      /** @type {string} */\n      let bibtexFile\n      /** @type {string} */ // @ts-ignore\n      const citeFormat = options.csl || file?.data?.frontmatter?.csl || defaultCiteFormat\n      if (isValidHttpUrl(bibliography)) {\n        isNode\n        const response = await fetch(bibliography)\n        bibtexFile = await response.text()\n      } else {\n        if (isNode) {\n          bibtexFile = await readFile(bibliography)\n        } else {\n          throw new Error(`Cannot read non valid bibliography URL in node env.`)\n        }\n      }\n\n      const citations = new Cite(bibtexFile)\n      const citationIds = citations.data.map((x) => x.id)\n      const citationPre = []\n      let citationId = 1\n      const config = Cite.plugins.config.get('@csl')\n      const citeproc = config.engine(citations.data, citeFormat, options.lang || 'en-US', 'html')\n      visit(tree, 'text', (node, idx, parent) => {\n        const match = node.value.match(citeExtractorRe)\n        //@ts-ignore\n        if (!match || !permittedTags.includes(parent.tagName)) return\n        const citeStartIdx = match.index\n        const citeEndIdx = match.index + match[0].length\n        const newChildren = []\n        // if preceding string\n        if (citeStartIdx !== 0) {\n          // create a new child node\n          newChildren.push({\n            type: 'text',\n            value: node.value.slice(0, citeStartIdx),\n          })\n        }\n\n        const [properties, entries] = parseCitation(match[0])\n\n        // If id is not in citation file (e.g. route alias or js package), abort process\n        for (const citeItem of entries) {\n          if (!citationIds.includes(citeItem.id)) return\n        }\n\n        const citedTextNode = genCitation(\n          citeproc,\n          entries,\n          `CITATION-${citationId}`,\n          citationPre,\n          properties\n        )\n\n        // Prepare citationPre and citationId for the next cite instance\n        citationPre.push([`CITATION-${citationId}`, 0])\n        citationId = citationId + 1\n\n        // TODO: return html with link\n        newChildren.push(citedTextNode)\n\n        // if trailing string\n        if (citeEndIdx < node.value.length) {\n          newChildren.push({\n            type: 'text',\n            value: node.value.slice(citeEndIdx),\n          })\n        }\n\n        // insert into the parent\n        parent.children = [\n          ...parent.children.slice(0, idx),\n          ...newChildren,\n          ...parent.children.slice(idx + 1),\n        ]\n      })\n\n      if (options.noCite) {\n        citeproc.updateItems(options.noCite.map((x) => x.replace('@', '')))\n      }\n\n      if (!options.suppressBibliography && citeproc.registry.mylist.length >= 1) {\n        const biblioNode = genBiblioNode(citeproc)\n        let bilioInserted = false\n\n        // Insert it at ^ref, if not found insert it as the last element of the tree\n        visit(tree, 'element', (node, idx, parent) => {\n          if (\n            (node.tagName === 'p' || node.tagName === 'div') &&\n            node.children[0].value === '[^ref]'\n          ) {\n            parent.children[idx] = biblioNode\n            bilioInserted = true\n          }\n        })\n\n        if (!bilioInserted) {\n          tree.children.push(biblioNode)\n        }\n      }\n    }\n  }\n}\n\nexport default rehypeCitationGenerator\n","import Cite from './index.js'\n\nconst currentVersion = function () {\n  return this.log.length\n}\n\nconst retrieveVersion = function (versnum = 1) {\n  if (versnum <= 0 || versnum > this.currentVersion()) {\n    return null\n  } else {\n    const [data, options] = this.log[versnum - 1]\n    const image = new Cite(JSON.parse(data), JSON.parse(options))\n    image.log = this.log.slice(0, versnum)\n    return image\n  }\n}\n\nconst undo = function (number = 1) {\n  return this.retrieveVersion(this.currentVersion() - number)\n}\n\nconst retrieveLastVersion = function () {\n  return this.retrieveVersion(this.currentVersion())\n}\n\nconst save = function () {\n  this.log.push([JSON.stringify(this.data), JSON.stringify(this._options)])\n  return this\n}\n\nexport { currentVersion, retrieveVersion, retrieveLastVersion, undo, save }\n","const formats = ['real', 'string']\nconst types = ['json', 'html', 'string', 'rtf']\nconst styles = ['csl', 'bibtex', 'bibtxt', 'citation-*', 'ris', 'ndjson']\nconst wrapperTypes = ['string', 'function']\nexport function validateOutputOptions(options) {\n  if (typeof options !== 'object') {\n    throw new TypeError('Options not an object!')\n  }\n\n  const { format, type, style, lang, append, prepend } = options\n\n  if (format && !formats.includes(format)) {\n    throw new TypeError(`Option format (\"${format}\") should be one of: ${formats}`)\n  } else if (type && !types.includes(type)) {\n    throw new TypeError(`Option type (\"${type}\") should be one of: ${types}`)\n  } else if (style && !styles.includes(style) && !/^citation/.test(style)) {\n    throw new TypeError(`Option style (\"${style}\") should be one of: ${styles}`)\n  } else if (lang && typeof lang !== 'string') {\n    throw new TypeError(`Option lang should be a string, but is a ${typeof lang}`)\n  } else if (prepend && !wrapperTypes.includes(typeof prepend)) {\n    throw new TypeError(\n      `Option prepend should be a string or a function, but is a ${typeof prepend}`\n    )\n  } else if (append && !wrapperTypes.includes(typeof append)) {\n    throw new TypeError(`Option append should be a string or a function, but is a ${typeof append}`)\n  }\n\n  if (/^citation/.test(style) && type === 'json') {\n    throw new Error(`Combination type/style of json/citation-* is not valid: ${type}/${style}`)\n  }\n\n  return true\n}\nexport function validateOptions(options) {\n  if (typeof options !== 'object') {\n    throw new TypeError('Options should be an object')\n  }\n\n  if (options.output) {\n    validateOutputOptions(options.output)\n  } else if (options.maxChainLength && typeof options.maxChainLength !== 'number') {\n    throw new TypeError('Option maxChainLength should be a number')\n  } else if (options.forceType && typeof options.forceType !== 'string') {\n    throw new TypeError('Option forceType should be a string')\n  } else if (options.generateGraph != null && typeof options.generateGraph !== 'boolean') {\n    throw new TypeError('Option generateGraph should be a boolean')\n  } else if (options.strict != null && typeof options.strict !== 'boolean') {\n    throw new TypeError('Option strict should be a boolean')\n  } else if (options.target != null && typeof options.target !== 'string') {\n    throw new TypeError('Option target should be a boolean')\n  }\n\n  return true\n}\n","import { validateOutputOptions as validate } from './validate.js'\nconst defaultOptions = {\n  format: 'real',\n  type: 'json',\n  style: 'csl',\n  lang: 'en-US',\n}\n\nconst options = function (options, log) {\n  validate(options)\n\n  if (log) {\n    this.save()\n  }\n\n  Object.assign(this._options, options)\n  return this\n}\n\nexport { options, defaultOptions }\n","export const typeOf = (thing) => {\n  switch (thing) {\n    case undefined:\n      return 'Undefined'\n\n    case null:\n      return 'Null'\n\n    default:\n      return thing.constructor.name\n  }\n}\nexport const dataTypeOf = (thing) => {\n  switch (typeof thing) {\n    case 'string':\n      return 'String'\n\n    case 'object':\n      if (Array.isArray(thing)) {\n        return 'Array'\n      } else if (typeOf(thing) === 'Object') {\n        return 'SimpleObject'\n      } else if (typeOf(thing) !== 'Null') {\n        return 'ComplexObject'\n      }\n\n    default:\n      return 'Primitive'\n  }\n}\n","export const applyGraph = (entry, graph) => {\n  if (entry._graph) {\n    const index = graph.findIndex(({ type }) => type === '@else/list+object')\n\n    if (index !== -1) {\n      graph.splice(index + 1, 0, ...entry._graph.slice(0, -1))\n    }\n  }\n\n  entry._graph = graph\n  return entry\n}\nexport const removeGraph = (entry) => {\n  delete entry._graph\n  return entry\n}\n","const logger = {\n  _output(level, scope, msg) {\n    this._log.push(scope, msg)\n\n    if (this._levels.indexOf(level) < this._levels.indexOf(this.level)) {\n      return\n    }\n\n    this._console.log(scope, ...msg)\n  },\n\n  _console: null,\n  _log: [],\n  _levels: ['http', 'debug', 'unmapped', 'info', 'warn', 'error', 'silent'],\n  level: 'silent',\n}\n\nfor (const level of logger._levels) {\n  logger[level] = (scope, ...msg) => logger._output(level, scope, msg)\n}\n\nif (typeof console.Console === 'function') {\n  logger._console = new console.Console(process.stderr)\n} else {\n  logger._console = console\n}\n\nexport default logger\n","import logger from '../../logger.js'\nimport { dataTypeOf } from './dataType.js'\nconst types = {}\nconst dataTypes = {}\nconst unregExts = {}\n\nconst parseNativeTypes = (input, dataType) => {\n  switch (dataType) {\n    case 'Array':\n      if (input.length === 0 || input.every((entry) => type(entry) === '@csl/object')) {\n        return '@csl/list+object'\n      } else {\n        return '@else/list+object'\n      }\n\n    case 'SimpleObject':\n    case 'ComplexObject':\n      return '@csl/object'\n\n    default:\n      return '@invalid'\n  }\n}\n\nconst matchType = (typeList = [], data) => {\n  for (const type of typeList) {\n    if (types[type].predicate(data)) {\n      return matchType(types[type].extensions, data) || type\n    }\n  }\n}\n\nexport const type = (input) => {\n  const dataType = dataTypeOf(input)\n\n  if (dataType === 'Array' && input.length === 0) {\n    return parseNativeTypes(input, dataType)\n  }\n\n  const match = matchType(dataTypes[dataType], input)\n  return match || parseNativeTypes(input, dataType)\n}\nexport const addTypeParser = (format, { dataType, predicate, extends: extend }) => {\n  let extensions = []\n\n  if (format in unregExts) {\n    extensions = unregExts[format]\n    delete unregExts[format]\n    logger.debug(\n      '[core]',\n      `Subclasses \"${extensions}\" finally registered to parent type \"${format}\"`\n    )\n  }\n\n  const object = {\n    predicate,\n    extensions,\n  }\n  types[format] = object\n\n  if (extend) {\n    const parentTypeParser = types[extend]\n\n    if (parentTypeParser) {\n      parentTypeParser.extensions.push(format)\n    } else {\n      if (!unregExts[extend]) {\n        unregExts[extend] = []\n      }\n\n      unregExts[extend].push(format)\n      logger.debug('[core]', `Subclass \"${format}\" is waiting on parent type \"${extend}\"`)\n    }\n  } else {\n    const typeList = dataTypes[dataType] || (dataTypes[dataType] = [])\n    typeList.push(format)\n  }\n}\nexport const hasTypeParser = (type) => Object.prototype.hasOwnProperty.call(types, type)\nexport const removeTypeParser = (type) => {\n  delete types[type]\n  const typeLists = [\n    ...Object.keys(dataTypes).map((key) => dataTypes[key]),\n    ...Object.keys(types)\n      .map((type) => types[type].extensions)\n      .filter((list) => list.length > 0),\n  ]\n  typeLists.forEach((typeList) => {\n    const index = typeList.indexOf(type)\n\n    if (index > -1) {\n      typeList.splice(index, 1)\n    }\n  })\n}\nexport const listTypeParser = () => Object.keys(types)\nexport const treeTypeParser = () => {\n  const attachNode = (name) => ({\n    name,\n    children: types[name].extensions.map(attachNode),\n  })\n\n  return {\n    name: 'Type tree',\n    children: Object.keys(dataTypes).map((name) => ({\n      name,\n      children: dataTypes[name].map(attachNode),\n    })),\n  }\n}\nexport const typeMatcher = /^(?:@(.+?))(?:\\/(?:(.+?)\\+)?(?:(.+)))?$/\n","//@ts-nocheck\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true,\n    })\n  } else {\n    obj[key] = value\n  }\n  return obj\n}\n\nimport { type, typeMatcher } from './type.js'\n\nclass TypeParser {\n  constructor(data) {\n    _defineProperty(this, 'validDataTypes', [\n      'String',\n      'Array',\n      'SimpleObject',\n      'ComplexObject',\n      'Primitive',\n    ])\n\n    this.data = data\n  }\n\n  validateDataType() {\n    const dataType = this.data.dataType\n\n    if (dataType && !this.validDataTypes.includes(dataType)) {\n      throw new RangeError(`dataType was ${dataType}; expected one of ${this.validDataTypes}`)\n    }\n  }\n\n  validateParseType() {\n    const predicate = this.data.predicate\n\n    if (predicate && !(predicate instanceof RegExp || typeof predicate === 'function')) {\n      throw new TypeError(`predicate was ${typeof predicate}; expected RegExp or function`)\n    }\n  }\n\n  validateTokenList() {\n    const tokenList = this.data.tokenList\n\n    if (tokenList && typeof tokenList !== 'object') {\n      throw new TypeError(`tokenList was ${typeof tokenList}; expected object or RegExp`)\n    }\n  }\n\n  validatePropertyConstraint() {\n    const propertyConstraint = this.data.propertyConstraint\n\n    if (propertyConstraint && typeof propertyConstraint !== 'object') {\n      throw new TypeError(\n        `propertyConstraint was ${typeof propertyConstraint}; expected array or object`\n      )\n    }\n  }\n\n  validateElementConstraint() {\n    const elementConstraint = this.data.elementConstraint\n\n    if (elementConstraint && typeof elementConstraint !== 'string') {\n      throw new TypeError(`elementConstraint was ${typeof elementConstraint}; expected string`)\n    }\n  }\n\n  validateExtends() {\n    const extend = this.data.extends\n\n    if (extend && typeof extend !== 'string') {\n      throw new TypeError(`extends was ${typeof extend}; expected string`)\n    }\n  }\n\n  validate() {\n    if (this.data === null || typeof this.data !== 'object') {\n      throw new TypeError(`typeParser was ${typeof this.data}; expected object`)\n    }\n\n    this.validateDataType()\n    this.validateParseType()\n    this.validateTokenList()\n    this.validatePropertyConstraint()\n    this.validateElementConstraint()\n    this.validateExtends()\n  }\n\n  parseTokenList() {\n    let tokenList = this.data.tokenList\n\n    if (!tokenList) {\n      return []\n    } else if (tokenList instanceof RegExp) {\n      tokenList = {\n        token: tokenList,\n      }\n    }\n\n    const { token, split = /\\s+/, trim = true, every = true } = tokenList\n\n    const trimInput = (input) => (trim ? input.trim() : input)\n\n    const testTokens = every ? 'every' : 'some'\n\n    const predicate = (input) =>\n      trimInput(input)\n        .split(split)\n        [testTokens]((part) => token.test(part))\n\n    return [predicate]\n  }\n\n  parsePropertyConstraint() {\n    const constraints = [].concat(this.data.propertyConstraint || [])\n    return constraints.map(({ props, match, value }) => {\n      props = [].concat(props)\n\n      switch (match) {\n        case 'any':\n        case 'some':\n          return (input) => props.some((prop) => prop in input && (!value || value(input[prop])))\n\n        case 'none':\n          return (input) => !props.some((prop) => prop in input && (!value || value(input[prop])))\n\n        case 'every':\n        default:\n          return (input) => props.every((prop) => prop in input && (!value || value(input[prop])))\n      }\n    })\n  }\n\n  parseElementConstraint() {\n    const constraint = this.data.elementConstraint\n    return !constraint ? [] : [(input) => input.every((entry) => type(entry) === constraint)]\n  }\n\n  parsePredicate() {\n    if (this.data.predicate instanceof RegExp) {\n      return [this.data.predicate.test.bind(this.data.predicate)]\n    } else if (this.data.predicate) {\n      return [this.data.predicate]\n    } else {\n      return []\n    }\n  }\n\n  getCombinedPredicate() {\n    const predicates = [\n      ...this.parsePredicate(),\n      ...this.parseTokenList(),\n      ...this.parsePropertyConstraint(),\n      ...this.parseElementConstraint(),\n    ]\n\n    if (predicates.length === 0) {\n      return () => true\n    } else if (predicates.length === 1) {\n      return predicates[0]\n    } else {\n      return (input) => predicates.every((predicate) => predicate(input))\n    }\n  }\n\n  getDataType() {\n    if (this.data.dataType) {\n      return this.data.dataType\n    } else if (this.data.predicate instanceof RegExp) {\n      return 'String'\n    } else if (this.data.tokenList) {\n      return 'String'\n    } else if (this.data.elementConstraint) {\n      return 'Array'\n    } else {\n      return 'Primitive'\n    }\n  }\n\n  get dataType() {\n    return this.getDataType()\n  }\n\n  get predicate() {\n    return this.getCombinedPredicate()\n  }\n\n  get extends() {\n    return this.data.extends\n  }\n}\n\nclass DataParser {\n  constructor(parser, { async } = {}) {\n    this.parser = parser\n    this.async = async\n  }\n\n  validate() {\n    const parser = this.parser\n\n    if (typeof parser !== 'function') {\n      throw new TypeError(`parser was ${typeof parser}; expected function`)\n    }\n  }\n}\n\nclass FormatParser {\n  constructor(format, parsers = {}) {\n    this.format = format\n\n    if (parsers.parseType) {\n      this.typeParser = new TypeParser(parsers.parseType)\n    }\n\n    if (parsers.parse) {\n      this.dataParser = new DataParser(parsers.parse, {\n        async: false,\n      })\n    }\n\n    if (parsers.parseAsync) {\n      this.asyncDataParser = new DataParser(parsers.parseAsync, {\n        async: true,\n      })\n    }\n  }\n\n  validateFormat() {\n    const format = this.format\n\n    if (!typeMatcher.test(format)) {\n      throw new TypeError(`format name was \"${format}\"; didn't match expected pattern`)\n    }\n  }\n\n  validate() {\n    this.validateFormat()\n\n    if (this.typeParser) {\n      this.typeParser.validate()\n    }\n\n    if (this.dataParser) {\n      this.dataParser.validate()\n    }\n\n    if (this.asyncDataParser) {\n      this.asyncDataParser.validate()\n    }\n  }\n}\n\nexport { TypeParser, DataParser, FormatParser }\n","function ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object)\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object)\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable\n      })\n    }\n    keys.push.apply(keys, symbols)\n  }\n  return keys\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {}\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key])\n      })\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source))\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key))\n      })\n    }\n  }\n  return target\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true,\n    })\n  } else {\n    obj[key] = value\n  }\n  return obj\n}\n\nimport { parse as parseName } from '@citation-js/name'\nconst NAME = 1\nconst NAME_LIST = 2\nconst DATE = 3\nconst TYPE = 4\nconst entryTypes = {\n  article: true,\n  'article-journal': true,\n  'article-magazine': true,\n  'article-newspaper': true,\n  bill: true,\n  book: true,\n  broadcast: true,\n  chapter: true,\n  classic: true,\n  collection: true,\n  dataset: true,\n  document: true,\n  entry: true,\n  'entry-dictionary': true,\n  'entry-encyclopedia': true,\n  event: true,\n  figure: true,\n  graphic: true,\n  hearing: true,\n  interview: true,\n  legal_case: true,\n  legislation: true,\n  manuscript: true,\n  map: true,\n  motion_picture: true,\n  musical_score: true,\n  pamphlet: true,\n  'paper-conference': true,\n  patent: true,\n  performance: true,\n  periodical: true,\n  personal_communication: true,\n  post: true,\n  'post-weblog': true,\n  regulation: true,\n  report: true,\n  review: true,\n  'review-book': true,\n  software: true,\n  song: true,\n  speech: true,\n  standard: true,\n  thesis: true,\n  treaty: true,\n  webpage: true,\n  'journal-article': 'article-journal',\n  'book-chapter': 'chapter',\n  'posted-content': 'manuscript',\n  'proceedings-article': 'paper-conference',\n}\nconst fieldTypes = {\n  author: NAME_LIST,\n  'collection-editor': NAME_LIST,\n  composer: NAME_LIST,\n  'container-author': NAME_LIST,\n  editor: NAME_LIST,\n  'editorial-director': NAME_LIST,\n  director: NAME_LIST,\n  interviewer: NAME_LIST,\n  illustrator: NAME_LIST,\n  'original-author': NAME_LIST,\n  'reviewed-author': NAME_LIST,\n  recipient: NAME_LIST,\n  translator: NAME_LIST,\n  accessed: DATE,\n  container: DATE,\n  'event-date': DATE,\n  issued: DATE,\n  'original-date': DATE,\n  submitted: DATE,\n  type: TYPE,\n  categories: 'object',\n  id: ['string', 'number'],\n  language: 'string',\n  journalAbbreviation: 'string',\n  shortTitle: 'string',\n  abstract: 'string',\n  annote: 'string',\n  archive: 'string',\n  archive_location: 'string',\n  'archive-place': 'string',\n  authority: 'string',\n  'call-number': 'string',\n  'chapter-number': 'string',\n  'citation-number': 'string',\n  'citation-label': 'string',\n  'collection-number': 'string',\n  'collection-title': 'string',\n  'container-title': 'string',\n  'container-title-short': 'string',\n  dimensions: 'string',\n  DOI: 'string',\n  edition: ['string', 'number'],\n  event: 'string',\n  'event-place': 'string',\n  'first-reference-note-number': 'string',\n  genre: 'string',\n  ISBN: 'string',\n  ISSN: 'string',\n  issue: ['string', 'number'],\n  jurisdiction: 'string',\n  keyword: 'string',\n  locator: 'string',\n  medium: 'string',\n  note: 'string',\n  number: ['string', 'number'],\n  'number-of-pages': 'string',\n  'number-of-volumes': ['string', 'number'],\n  'original-publisher': 'string',\n  'original-publisher-place': 'string',\n  'original-title': 'string',\n  page: 'string',\n  'page-first': 'string',\n  PMCID: 'string',\n  PMID: 'string',\n  publisher: 'string',\n  'publisher-place': 'string',\n  references: 'string',\n  'reviewed-title': 'string',\n  scale: 'string',\n  section: 'string',\n  source: 'string',\n  status: 'string',\n  title: 'string',\n  'title-short': 'string',\n  URL: 'string',\n  version: 'string',\n  volume: ['string', 'number'],\n  'year-suffix': 'string',\n}\n\nconst correctName = function (name, bestGuessConversions) {\n  if (typeof name === 'object' && name !== null && (name.literal || name.given || name.family)) {\n    return name\n  } else if (!bestGuessConversions) {\n    return undefined\n  } else if (typeof name === 'string') {\n    return parseName(name)\n  }\n}\n\nconst correctNameList = function (nameList, bestGuessConversions) {\n  if (nameList instanceof Array) {\n    const names = nameList.map((name) => correctName(name, bestGuessConversions)).filter(Boolean)\n    return names.length ? names : undefined\n  }\n}\n\nconst correctDateParts = function (dateParts, bestGuessConversions) {\n  if (dateParts.every((part) => typeof part === 'number')) {\n    return dateParts\n  } else if (!bestGuessConversions || dateParts.some((part) => isNaN(parseInt(part)))) {\n    return undefined\n  } else {\n    return dateParts.map((part) => parseInt(part))\n  }\n}\n\nconst correctDate = function (date, bestGuessConversions) {\n  const dp = 'date-parts'\n\n  if (typeof date !== 'object' || date === null) {\n    return undefined\n  } else if (date[dp] instanceof Array && date[dp].every((part) => part instanceof Array)) {\n    const range = date[dp]\n      .map((dateParts) => correctDateParts(dateParts, bestGuessConversions))\n      .filter(Boolean)\n    return range.length\n      ? _objectSpread(\n          _objectSpread({}, date),\n          {},\n          {\n            'date-parts': range,\n          }\n        )\n      : undefined\n  } else if (date instanceof Array && date.every((part) => part[dp] instanceof Array)) {\n    const range = date\n      .map((dateParts) => correctDateParts(dateParts[dp], bestGuessConversions))\n      .filter(Boolean)\n    return range.length\n      ? {\n          'date-parts': range,\n        }\n      : undefined\n  } else if (date[dp] instanceof Array) {\n    const dateParts = correctDateParts(date[dp], bestGuessConversions)\n    return (\n      dateParts && {\n        'date-parts': [dateParts],\n      }\n    )\n  } else if ('literal' in date || 'raw' in date) {\n    return date\n  }\n}\n\nconst correctType = function (type, bestGuessConversions) {\n  type = correctField('language', type, bestGuessConversions)\n\n  if (entryTypes[type] === true) {\n    return type\n  } else if (bestGuessConversions && type in entryTypes) {\n    return entryTypes[type]\n  } else {\n    return undefined\n  }\n}\n\nconst correctField = function (fieldName, value, bestGuessConversions) {\n  const fieldType = [].concat(fieldTypes[fieldName])\n\n  switch (fieldTypes[fieldName]) {\n    case NAME:\n      return correctName(value, bestGuessConversions)\n\n    case NAME_LIST:\n      return correctNameList(value, bestGuessConversions)\n\n    case DATE:\n      return correctDate(value, bestGuessConversions)\n\n    case TYPE:\n      return correctType(value, bestGuessConversions)\n  }\n\n  if (/^_/.test(fieldName)) {\n    return value\n  } else if (bestGuessConversions) {\n    if (\n      typeof value === 'string' &&\n      fieldType.includes('number') &&\n      !fieldType.includes('string') &&\n      !isNaN(+value)\n    ) {\n      return parseFloat(value)\n    } else if (\n      typeof value === 'number' &&\n      fieldType.includes('string') &&\n      !fieldType.includes('number')\n    ) {\n      return value.toString()\n    } else if (Array.isArray(value) && value.length) {\n      return correctField(fieldName, value[0], bestGuessConversions)\n    }\n  }\n\n  if (fieldType.includes(typeof value)) {\n    return value\n  }\n}\n\nconst parseCsl = function (data, bestGuessConversions = true) {\n  return data.map(function (entry) {\n    const clean = {}\n\n    for (const field in entry) {\n      const correction = correctField(field, entry[field], bestGuessConversions)\n\n      if (correction !== undefined) {\n        clean[field] = correction\n      }\n    }\n\n    return clean\n  })\n}\n\nexport { parseCsl as clean }\n","export function deepCopy(value, seen = new Set()) {\n  if (\n    typeof value !== 'object' ||\n    value === null ||\n    (value.constructor !== Object && value.constructor !== Array)\n  ) {\n    return value\n  }\n\n  if (seen.has(value)) {\n    throw new TypeError('Recursively copying circular structure')\n  }\n\n  seen.add(value)\n  let copy\n\n  if (value.constructor === Array) {\n    copy = value.map((value) => deepCopy(value, seen))\n  } else {\n    const object = {}\n\n    for (const key in value) {\n      object[key] = deepCopy(value[key], seen)\n    }\n\n    copy = object\n  }\n\n  seen.delete(value)\n  return copy\n}\nexport default deepCopy\n","//@ts-nocheck\nimport deepCopy from '../../util/deepCopy.js'\nimport logger from '../../logger.js'\nimport { get as getTypeInfo } from './register.js'\nimport { type as parseType } from './type.js'\nimport { data as parseData, dataAsync as parseDataAsync } from './data.js'\nimport { applyGraph, removeGraph } from './graph.js'\n\nfunction prepareParseGraph(graph) {\n  return graph\n    .reduce((array, next) => {\n      const last = array[array.length - 1]\n\n      if (last && last.type === next.type) {\n        last.count = last.count + 1 || 2\n      } else {\n        array.push(next)\n      }\n\n      return array\n    }, [])\n    .map((element) => (element.count > 1 ? element.count + 'x ' : '') + element.type)\n    .join(' -> ')\n}\n\nclass ChainParser {\n  constructor(input, options = {}) {\n    this.options = Object.assign(\n      {\n        generateGraph: true,\n        forceType: parseType(input),\n        maxChainLength: 10,\n        strict: true,\n        target: '@csl/list+object',\n      },\n      options\n    )\n    this.type = this.options.forceType\n    this.data = typeof input === 'object' ? deepCopy(input) : input\n    this.graph = [\n      {\n        type: this.type,\n        data: input,\n      },\n    ]\n    this.iteration = 0\n  }\n\n  iterate() {\n    if (this.iteration !== 0) {\n      const typeInfo = getTypeInfo(this.type)\n\n      if (typeInfo && typeInfo.outputs) {\n        this.type = typeInfo.outputs\n      } else {\n        this.type = parseType(this.data)\n      }\n\n      this.graph.push({\n        type: this.type,\n      })\n    }\n\n    if (this.error || this.type === this.options.target) {\n      return false\n    } else if (this.iteration >= this.options.maxChainLength) {\n      this.error = new RangeError(\n        `Max. number of parsing iterations reached (${prepareParseGraph(this.graph)})`\n      )\n      return false\n    } else {\n      this.iteration++\n      return true\n    }\n  }\n\n  end() {\n    if (this.error) {\n      logger.error('[core]', this.error.message)\n\n      if (this.options.strict !== false) {\n        throw this.error\n      } else {\n        return []\n      }\n    } else if (this.options.target === '@csl/list+object') {\n      return this.data.map(\n        this.options.generateGraph ? (entry) => applyGraph(entry, this.graph) : removeGraph\n      )\n    } else {\n      return this.data\n    }\n  }\n}\n\nexport const chain = (...args) => {\n  const chain = new ChainParser(...args)\n\n  while (chain.iterate()) {\n    try {\n      chain.data = parseData(chain.data, chain.type)\n    } catch (e) {\n      chain.error = e\n    }\n  }\n\n  return chain.end()\n}\nexport const chainLink = (input) => {\n  const type = parseType(input)\n  const output = type.match(/array|object/) ? deepCopy(input) : input\n  return parseData(output, type)\n}\nexport const chainAsync = async (...args) => {\n  const chain = new ChainParser(...args)\n\n  while (chain.iterate()) {\n    chain.data = await parseDataAsync(chain.data, chain.type).catch((e) => {\n      chain.error = e\n    })\n  }\n\n  return chain.end()\n}\nexport const chainLinkAsync = async (input) => {\n  const type = parseType(input)\n  const output = type.match(/array|object/) ? deepCopy(input) : input\n  return parseDataAsync(output, type)\n}\n","import { chain, chainAsync } from './chain.js'\n\nconst flatten = (array) => [].concat(...array)\n\nconst parsers = {}\nconst asyncParsers = {}\nconst nativeParsers = {\n  '@csl/object': (input) => [input],\n  '@csl/list+object': (input) => input,\n  '@else/list+object': (input) => flatten(input.map(chain)),\n  '@invalid': () => {\n    throw new Error('This format is not supported or recognized')\n  },\n}\nconst nativeAsyncParsers = {\n  '@else/list+object': async (input) => flatten(await Promise.all(input.map(chainAsync))),\n}\nexport const data = (input, type) => {\n  if (typeof parsers[type] === 'function') {\n    return parsers[type](input)\n  } else if (typeof nativeParsers[type] === 'function') {\n    return nativeParsers[type](input)\n  } else {\n    throw new TypeError(`No synchronous parser found for ${type}`)\n  }\n}\nexport const dataAsync = async (input, type) => {\n  if (typeof asyncParsers[type] === 'function') {\n    return asyncParsers[type](input)\n  } else if (typeof nativeAsyncParsers[type] === 'function') {\n    return nativeAsyncParsers[type](input)\n  } else if (hasDataParser(type, false)) {\n    return data(input, type)\n  } else {\n    throw new TypeError(`No parser found for ${type}`)\n  }\n}\nexport const addDataParser = (format, { parser, async }) => {\n  if (async) {\n    asyncParsers[format] = parser\n  } else {\n    parsers[format] = parser\n  }\n}\nexport const hasDataParser = (type, async) =>\n  async ? asyncParsers[type] || nativeAsyncParsers[type] : parsers[type] || nativeParsers[type]\nexport const removeDataParser = (type, async) => {\n  delete (async ? asyncParsers : parsers)[type]\n}\nexport const listDataParser = (async) => Object.keys(async ? asyncParsers : parsers)\n","import { FormatParser } from './parser.js'\nimport { addTypeParser, removeTypeParser } from './type.js'\nimport { addDataParser, removeDataParser } from './data.js'\nconst formats = {}\nexport const add = (format, parsers) => {\n  const formatParser = new FormatParser(format, parsers)\n  formatParser.validate()\n  const index = formats[format] || (formats[format] = {})\n\n  if (formatParser.typeParser) {\n    addTypeParser(format, formatParser.typeParser)\n    index.type = true\n  }\n\n  if (formatParser.dataParser) {\n    addDataParser(format, formatParser.dataParser)\n    index.data = true\n  }\n\n  if (formatParser.asyncDataParser) {\n    addDataParser(format, formatParser.asyncDataParser)\n    index.asyncData = true\n  }\n\n  if (parsers.outputs) {\n    index.outputs = parsers.outputs\n  }\n}\nexport const get = (format) => {\n  return formats[format]\n}\nexport const remove = (format) => {\n  const index = formats[format]\n\n  if (!index) {\n    return\n  }\n\n  if (index.type) {\n    removeTypeParser(format)\n  }\n\n  if (index.data) {\n    removeDataParser(format)\n  }\n\n  if (index.asyncData) {\n    removeDataParser(format, true)\n  }\n\n  delete formats[format]\n}\nexport const has = (format) => format in formats\nexport const list = () => Object.keys(formats)\n","import * as dataType from './dataType.js'\nimport * as graph from './graph.js'\nimport * as parser from './parser.js'\nimport * as csl from './csl.js'\nexport const util = Object.assign({}, dataType, graph, parser, csl)\nexport * from './register.js'\nexport * from './chain.js'\nexport * from './type.js'\nexport * from './data.js'\n","const fetchId = function (list, prefix) {\n  let id\n\n  while (id === undefined || list.includes(id)) {\n    id = `${prefix}${Math.random().toString().slice(2)}`\n  }\n\n  return id\n}\n\nexport default fetchId\n","//@ts-nocheck\nimport { chain as parseInput, chainAsync as parseInputAsync } from '../plugins/input/index.js'\nimport fetchId from '../util/fetchId.js'\n\nconst add = function (data, options = {}, log = false) {\n  if (options === true || log === true) {\n    this.save()\n  }\n\n  this.data.push(...parseInput(data, options))\n  this.data\n    .filter((entry) => !Object.prototype.hasOwnProperty.call(entry, 'id'))\n    .forEach((entry) => {\n      entry.id = fetchId(this.getIds(), 'temp_id_')\n    })\n  return this\n}\n\nconst addAsync = async function (data, options = {}, log = false) {\n  if (options === true || log === true) {\n    this.save()\n  }\n\n  this.data.push(...(await parseInputAsync(data, options)))\n  this.data\n    .filter((entry) => !Object.prototype.hasOwnProperty.call(entry, 'id'))\n    .forEach((entry) => {\n      entry.id = fetchId(this.getIds(), 'temp_id_')\n    })\n  return this\n}\n\n/** @type {{set: Function}} */\nconst set = function (data, options = {}, log = false) {\n  if (options === true || log === true) {\n    this.save()\n  }\n\n  this.data = []\n  return typeof options !== 'boolean' ? this.add(data, options) : this.add(data)\n}\n\n/** @type {{setAsync: Function}} */\nconst setAsync = async function (data, options = {}, log = false) {\n  if (options === true || log === true) {\n    this.save()\n  }\n\n  this.data = []\n  return typeof options !== 'boolean' ? this.addAsync(data, options) : this.addAsync(data)\n}\n\n/** @type {{reset: Function}} */\nconst reset = function (log) {\n  if (log) {\n    this.save()\n  }\n\n  this.data = []\n  this._options = {}\n  return this\n}\n\nexport { add, addAsync, set, setAsync, reset }\n","const getLabel = (entry) => {\n  if ('citation-label' in entry) {\n    return entry['citation-label']\n  }\n\n  let res = ''\n\n  if (entry.author) {\n    res += entry.author[0].family || entry.author[0].literal\n  }\n\n  if (entry.issued && entry.issued['date-parts'] && entry.issued['date-parts'][0]) {\n    res += entry.issued['date-parts'][0][0]\n  }\n\n  if (entry['year-suffix']) {\n    res += entry['year-suffix']\n  } else if (entry.title) {\n    res += entry.title.replace(/<\\/?.*?>/g, '').match(/^(?:(?:the|a|an)\\s+)?(\\S+)/i)[1]\n  }\n\n  return res\n}\n\nexport { getLabel }\nexport default {\n  label(data) {\n    return data.reduce((object, entry) => {\n      object[entry.id] = getLabel(entry)\n      return object\n    }, {})\n  },\n}\n","import { getLabel } from '../plugin-common/output/label.js'\nimport { format as getName } from '@citation-js/name'\n\nconst getComparisonValue = function (obj, prop, label = prop === 'label') {\n  let value = label ? getLabel(obj) : obj[prop]\n\n  switch (prop) {\n    case 'author':\n    case 'editor':\n      return value.map((name) => name.literal || name.family || getName(name))\n\n    case 'accessed':\n    case 'issued':\n      return value['date-parts'][0]\n\n    case 'page':\n      return value.split('-').map((num) => parseInt(num))\n\n    case 'edition':\n    case 'issue':\n    case 'volume':\n      value = parseInt(value)\n      return !isNaN(value) ? value : -Infinity\n\n    default:\n      return value || -Infinity\n  }\n}\n\nconst compareProp = function (entryA, entryB, prop, flip = /^!/.test(prop)) {\n  prop = prop.replace(/^!/, '')\n  const a = getComparisonValue(entryA, prop)\n  const b = getComparisonValue(entryB, prop)\n  return (flip ? -1 : 1) * (a > b ? 1 : a < b ? -1 : 0)\n}\n\nconst getSortCallback = function (...props) {\n  return (a, b) => {\n    const keys = props.slice()\n    let output = 0\n\n    while (!output && keys.length) {\n      output = compareProp(a, b, keys.shift())\n    }\n\n    return output\n  }\n}\n\nconst sort = function (method = [], log) {\n  if (log) {\n    this.save()\n  }\n\n  this.data.sort(typeof method === 'function' ? method : getSortCallback(...method, 'label'))\n  return this\n}\n\nexport { sort }\n","//@ts-nocheck\nimport Cite from './index.js'\n\nconst async = function (data, options, callback) {\n  if (typeof options === 'function' && !callback) {\n    callback = options\n    options = undefined\n  }\n\n  const promise = Cite().setAsync(data, options)\n\n  if (typeof callback === 'function') {\n    promise.then(callback)\n    return undefined\n  } else {\n    return promise\n  }\n}\n\nexport default async\n","class Register {\n  constructor(data = {}) {\n    this.data = data\n  }\n\n  set(key, value) {\n    this.data[key] = value\n    return this\n  }\n\n  add(...args) {\n    return this.set(...args)\n  }\n\n  delete(key) {\n    delete this.data[key]\n    return this\n  }\n\n  remove(...args) {\n    return this.delete(...args)\n  }\n\n  get(key) {\n    return this.data[key]\n  }\n\n  has(key) {\n    return Object.prototype.hasOwnProperty.call(this.data, key)\n  }\n\n  list() {\n    return Object.keys(this.data)\n  }\n}\n\nexport default Register\n","import Register from '../util/register.js'\n\nconst validate = (name, formatter) => {\n  if (typeof name !== 'string') {\n    throw new TypeError(`Invalid output format name, expected string, got ${typeof name}`)\n  } else if (typeof formatter !== 'function') {\n    throw new TypeError(`Invalid formatter, expected function, got ${typeof formatter}`)\n  }\n}\n\nexport const register = new Register()\nexport const add = (name, formatter) => {\n  validate(name, formatter)\n  register.set(name, formatter)\n}\nexport const remove = (name) => {\n  register.remove(name)\n}\nexport const has = (name) => {\n  return register.has(name)\n}\nexport const list = () => {\n  return register.list()\n}\nexport const format = (name, data, ...options) => {\n  if (!register.has(name)) {\n    throw new Error(`Output format \"${name}\" unavailable`)\n  }\n\n  return register.get(name)(data, ...options)\n}\n","import { validateOutputOptions as validate } from './static.js'\nimport { format as formatData } from '../plugins/output.js'\nimport { clean as parseCsl } from '../plugins/input/csl.js'\nexport function getIds() {\n  return this.data.map((entry) => entry.id)\n}\nexport function format(format, ...options) {\n  return formatData(format, parseCsl(this.data), ...options)\n}\nexport function get(options = {}) {\n  validate(options)\n  const parsedOptions = Object.assign({}, this.defaultOptions, this._options.output, options)\n  const { type, style } = parsedOptions\n  const [styleType, styleFormat] = style.split('-')\n  const newStyle =\n    styleType === 'citation' ? 'bibliography' : styleType === 'csl' ? 'data' : styleType\n  const newType = type === 'string' ? 'text' : type === 'json' ? 'object' : type\n  let formatOptions\n\n  switch (newStyle) {\n    case 'bibliography': {\n      const { lang, append, prepend } = parsedOptions\n      formatOptions = {\n        template: styleFormat,\n        lang,\n        format: newType,\n        append,\n        prepend,\n      }\n      break\n    }\n\n    case 'data':\n    case 'bibtex':\n    case 'bibtxt':\n    case 'ndjson':\n    case 'ris':\n      formatOptions = {\n        type: newType,\n      }\n      break\n\n    default:\n      throw new Error(`Invalid style \"${newStyle}\"`)\n  }\n\n  const result = this.format(newStyle, Object.assign(formatOptions, options._newOptions))\n  const { format } = parsedOptions\n\n  if (\n    format === 'real' &&\n    newType === 'html' &&\n    typeof document !== 'undefined' &&\n    typeof document.createElement === 'function'\n  ) {\n    const tmp = document.createElement('div')\n    tmp.innerHTML = result\n    return tmp.firstChild\n  } else if (format === 'string' && typeof result === 'object') {\n    return JSON.stringify(result)\n  } else {\n    return result\n  }\n}\n","//@ts-nocheck\nimport * as log from './log.js'\nimport * as options from './options.js'\nimport * as set from './set.js'\nimport * as sort from './sort.js'\nimport * as get from './get.js'\nimport * as staticMethods from './static.js'\n\nfunction Cite(data, options = {}) {\n  if (!(this instanceof Cite)) {\n    return new Cite(data, options)\n  }\n\n  this._options = options\n  this.log = []\n  this.data = []\n  this.set(data, options)\n  this.options(options)\n  return this\n}\n\nObject.assign(Cite.prototype, log, options, set, sort, get)\n\n// No need for generator as we are not using it\n// This also avoids regeneratorRuntime error is downstream applications\n// Cite.prototype[Symbol.iterator] = function* () {\n//   yield* this.data\n// }\n\nObject.assign(Cite, staticMethods)\nexport default Cite\n","import Register from '../util/register.js'\n\nconst validate = (name, dict) => {\n  if (typeof name !== 'string') {\n    throw new TypeError(`Invalid dict name, expected string, got ${typeof name}`)\n  } else if (typeof dict !== 'object') {\n    throw new TypeError(`Invalid dict, expected object, got ${typeof dict}`)\n  }\n\n  for (const entryName in dict) {\n    const entry = dict[entryName]\n\n    if (!Array.isArray(entry) || entry.some((part) => typeof part !== 'string')) {\n      throw new TypeError(`Invalid dict entry \"${entryName}\", expected array of strings`)\n    }\n  }\n}\n\nexport const register = new Register({\n  html: {\n    bibliographyContainer: ['<div class=\"csl-bib-body\">', '</div>'],\n    entry: ['<div class=\"csl-entry\">', '</div>'],\n    list: ['<ul style=\"list-style-type:none\">', '</ul>'],\n    listItem: ['<li>', '</li>'],\n  },\n  text: {\n    bibliographyContainer: ['', '\\n'],\n    entry: ['', '\\n'],\n    list: ['\\n', ''],\n    listItem: ['\\t', '\\n'],\n  },\n})\nexport const add = (name, dict) => {\n  validate(name, dict)\n  register.set(name, dict)\n}\nexport const remove = (name) => {\n  register.remove(name)\n}\nexport const has = (name) => {\n  return register.has(name)\n}\nexport const list = () => {\n  return register.list()\n}\nexport const get = (name) => {\n  if (!register.has(name)) {\n    throw new Error(`Dict \"${name}\" unavailable`)\n  }\n\n  return register.get(name)\n}\nexport const htmlDict = {\n  wr_start: '<div class=\"csl-bib-body\">',\n  wr_end: '</div>',\n  en_start: '<div class=\"csl-entry\">',\n  en_end: '</div>',\n  ul_start: '<ul style=\"list-style-type:none\">',\n  ul_end: '</ul>',\n  li_start: '<li>',\n  li_end: '</li>',\n}\nexport const textDict = {\n  wr_start: '',\n  wr_end: '\\n',\n  en_start: '',\n  en_end: '\\n',\n  ul_start: '\\n',\n  ul_end: '',\n  li_start: '\\t',\n  li_end: '\\n',\n}\n","const configs = {}\nexport const add = (ref, config) => {\n  configs[ref] = config\n}\nexport const get = (ref) => configs[ref]\nexport const has = (ref) => Object.prototype.hasOwnProperty.call(configs, ref)\nexport const remove = (ref) => {\n  delete configs[ref]\n}\nexport const list = () => Object.keys(configs)\n","//@ts-nocheck\nimport * as input from './input/index.js'\nimport * as output from './output.js'\nimport * as dict from './dict.js'\nimport * as config from './config.js'\nconst registers = {\n  input,\n  output,\n  dict,\n  config,\n}\nconst indices = {}\nexport const add = (ref, plugins = {}) => {\n  const mainIndex = (indices[ref] = {})\n\n  for (const type in plugins) {\n    if (type === 'config') {\n      mainIndex.config = {\n        [ref]: plugins.config,\n      }\n      registers.config.add(ref, plugins.config)\n      continue\n    }\n\n    const typeIndex = (mainIndex[type] = {})\n    const typePlugins = plugins[type]\n\n    for (const name in typePlugins) {\n      const typePlugin = typePlugins[name]\n      typeIndex[name] = true\n      registers[type].add(name, typePlugin)\n    }\n  }\n}\nexport const remove = (ref) => {\n  const mainIndex = indices[ref]\n\n  for (const type in mainIndex) {\n    const typeIndex = mainIndex[type]\n\n    for (const name in typeIndex) {\n      registers[type].remove(name)\n    }\n  }\n\n  delete indices[ref]\n}\nexport const has = (ref) => ref in indices\nexport const list = () => Object.keys(indices)\nexport { input, output, dict, config }\n","\"use strict\";\n\nvar conversions = {};\nmodule.exports = conversions;\n\nfunction sign(x) {\n    return x < 0 ? -1 : 1;\n}\n\nfunction evenRound(x) {\n    // Round x to the nearest integer, choosing the even integer if it lies halfway between two.\n    if ((x % 1) === 0.5 && (x & 1) === 0) { // [even number].5; round down (i.e. floor)\n        return Math.floor(x);\n    } else {\n        return Math.round(x);\n    }\n}\n\nfunction createNumberConversion(bitLength, typeOpts) {\n    if (!typeOpts.unsigned) {\n        --bitLength;\n    }\n    const lowerBound = typeOpts.unsigned ? 0 : -Math.pow(2, bitLength);\n    const upperBound = Math.pow(2, bitLength) - 1;\n\n    const moduloVal = typeOpts.moduloBitLength ? Math.pow(2, typeOpts.moduloBitLength) : Math.pow(2, bitLength);\n    const moduloBound = typeOpts.moduloBitLength ? Math.pow(2, typeOpts.moduloBitLength - 1) : Math.pow(2, bitLength - 1);\n\n    return function(V, opts) {\n        if (!opts) opts = {};\n\n        let x = +V;\n\n        if (opts.enforceRange) {\n            if (!Number.isFinite(x)) {\n                throw new TypeError(\"Argument is not a finite number\");\n            }\n\n            x = sign(x) * Math.floor(Math.abs(x));\n            if (x < lowerBound || x > upperBound) {\n                throw new TypeError(\"Argument is not in byte range\");\n            }\n\n            return x;\n        }\n\n        if (!isNaN(x) && opts.clamp) {\n            x = evenRound(x);\n\n            if (x < lowerBound) x = lowerBound;\n            if (x > upperBound) x = upperBound;\n            return x;\n        }\n\n        if (!Number.isFinite(x) || x === 0) {\n            return 0;\n        }\n\n        x = sign(x) * Math.floor(Math.abs(x));\n        x = x % moduloVal;\n\n        if (!typeOpts.unsigned && x >= moduloBound) {\n            return x - moduloVal;\n        } else if (typeOpts.unsigned) {\n            if (x < 0) {\n              x += moduloVal;\n            } else if (x === -0) { // don't return negative zero\n              return 0;\n            }\n        }\n\n        return x;\n    }\n}\n\nconversions[\"void\"] = function () {\n    return undefined;\n};\n\nconversions[\"boolean\"] = function (val) {\n    return !!val;\n};\n\nconversions[\"byte\"] = createNumberConversion(8, { unsigned: false });\nconversions[\"octet\"] = createNumberConversion(8, { unsigned: true });\n\nconversions[\"short\"] = createNumberConversion(16, { unsigned: false });\nconversions[\"unsigned short\"] = createNumberConversion(16, { unsigned: true });\n\nconversions[\"long\"] = createNumberConversion(32, { unsigned: false });\nconversions[\"unsigned long\"] = createNumberConversion(32, { unsigned: true });\n\nconversions[\"long long\"] = createNumberConversion(32, { unsigned: false, moduloBitLength: 64 });\nconversions[\"unsigned long long\"] = createNumberConversion(32, { unsigned: true, moduloBitLength: 64 });\n\nconversions[\"double\"] = function (V) {\n    const x = +V;\n\n    if (!Number.isFinite(x)) {\n        throw new TypeError(\"Argument is not a finite floating-point value\");\n    }\n\n    return x;\n};\n\nconversions[\"unrestricted double\"] = function (V) {\n    const x = +V;\n\n    if (isNaN(x)) {\n        throw new TypeError(\"Argument is NaN\");\n    }\n\n    return x;\n};\n\n// not quite valid, but good enough for JS\nconversions[\"float\"] = conversions[\"double\"];\nconversions[\"unrestricted float\"] = conversions[\"unrestricted double\"];\n\nconversions[\"DOMString\"] = function (V, opts) {\n    if (!opts) opts = {};\n\n    if (opts.treatNullAsEmptyString && V === null) {\n        return \"\";\n    }\n\n    return String(V);\n};\n\nconversions[\"ByteString\"] = function (V, opts) {\n    const x = String(V);\n    let c = undefined;\n    for (let i = 0; (c = x.codePointAt(i)) !== undefined; ++i) {\n        if (c > 255) {\n            throw new TypeError(\"Argument is not a valid bytestring\");\n        }\n    }\n\n    return x;\n};\n\nconversions[\"USVString\"] = function (V) {\n    const S = String(V);\n    const n = S.length;\n    const U = [];\n    for (let i = 0; i < n; ++i) {\n        const c = S.charCodeAt(i);\n        if (c < 0xD800 || c > 0xDFFF) {\n            U.push(String.fromCodePoint(c));\n        } else if (0xDC00 <= c && c <= 0xDFFF) {\n            U.push(String.fromCodePoint(0xFFFD));\n        } else {\n            if (i === n - 1) {\n                U.push(String.fromCodePoint(0xFFFD));\n            } else {\n                const d = S.charCodeAt(i + 1);\n                if (0xDC00 <= d && d <= 0xDFFF) {\n                    const a = c & 0x3FF;\n                    const b = d & 0x3FF;\n                    U.push(String.fromCodePoint((2 << 15) + (2 << 9) * a + b));\n                    ++i;\n                } else {\n                    U.push(String.fromCodePoint(0xFFFD));\n                }\n            }\n        }\n    }\n\n    return U.join('');\n};\n\nconversions[\"Date\"] = function (V, opts) {\n    if (!(V instanceof Date)) {\n        throw new TypeError(\"Argument is not a Date object\");\n    }\n    if (isNaN(V)) {\n        return undefined;\n    }\n\n    return V;\n};\n\nconversions[\"RegExp\"] = function (V, opts) {\n    if (!(V instanceof RegExp)) {\n        V = new RegExp(V);\n    }\n\n    return V;\n};\n","\"use strict\";\n\nmodule.exports.mixin = function mixin(target, source) {\n  const keys = Object.getOwnPropertyNames(source);\n  for (let i = 0; i < keys.length; ++i) {\n    Object.defineProperty(target, keys[i], Object.getOwnPropertyDescriptor(source, keys[i]));\n  }\n};\n\nmodule.exports.wrapperSymbol = Symbol(\"wrapper\");\nmodule.exports.implSymbol = Symbol(\"impl\");\n\nmodule.exports.wrapperForImpl = function (impl) {\n  return impl[module.exports.wrapperSymbol];\n};\n\nmodule.exports.implForWrapper = function (wrapper) {\n  return wrapper[module.exports.implSymbol];\n};\n\n","\"use strict\";\n\nvar punycode = require(\"punycode\");\nvar mappingTable = require(\"./lib/mappingTable.json\");\n\nvar PROCESSING_OPTIONS = {\n  TRANSITIONAL: 0,\n  NONTRANSITIONAL: 1\n};\n\nfunction normalize(str) { // fix bug in v8\n  return str.split('\\u0000').map(function (s) { return s.normalize('NFC'); }).join('\\u0000');\n}\n\nfunction findStatus(val) {\n  var start = 0;\n  var end = mappingTable.length - 1;\n\n  while (start <= end) {\n    var mid = Math.floor((start + end) / 2);\n\n    var target = mappingTable[mid];\n    if (target[0][0] <= val && target[0][1] >= val) {\n      return target;\n    } else if (target[0][0] > val) {\n      end = mid - 1;\n    } else {\n      start = mid + 1;\n    }\n  }\n\n  return null;\n}\n\nvar regexAstralSymbols = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g;\n\nfunction countSymbols(string) {\n  return string\n    // replace every surrogate pair with a BMP symbol\n    .replace(regexAstralSymbols, '_')\n    // then get the length\n    .length;\n}\n\nfunction mapChars(domain_name, useSTD3, processing_option) {\n  var hasError = false;\n  var processed = \"\";\n\n  var len = countSymbols(domain_name);\n  for (var i = 0; i < len; ++i) {\n    var codePoint = domain_name.codePointAt(i);\n    var status = findStatus(codePoint);\n\n    switch (status[1]) {\n      case \"disallowed\":\n        hasError = true;\n        processed += String.fromCodePoint(codePoint);\n        break;\n      case \"ignored\":\n        break;\n      case \"mapped\":\n        processed += String.fromCodePoint.apply(String, status[2]);\n        break;\n      case \"deviation\":\n        if (processing_option === PROCESSING_OPTIONS.TRANSITIONAL) {\n          processed += String.fromCodePoint.apply(String, status[2]);\n        } else {\n          processed += String.fromCodePoint(codePoint);\n        }\n        break;\n      case \"valid\":\n        processed += String.fromCodePoint(codePoint);\n        break;\n      case \"disallowed_STD3_mapped\":\n        if (useSTD3) {\n          hasError = true;\n          processed += String.fromCodePoint(codePoint);\n        } else {\n          processed += String.fromCodePoint.apply(String, status[2]);\n        }\n        break;\n      case \"disallowed_STD3_valid\":\n        if (useSTD3) {\n          hasError = true;\n        }\n\n        processed += String.fromCodePoint(codePoint);\n        break;\n    }\n  }\n\n  return {\n    string: processed,\n    error: hasError\n  };\n}\n\nvar combiningMarksRegex = /[\\u0300-\\u036F\\u0483-\\u0489\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u0610-\\u061A\\u064B-\\u065F\\u0670\\u06D6-\\u06DC\\u06DF-\\u06E4\\u06E7\\u06E8\\u06EA-\\u06ED\\u0711\\u0730-\\u074A\\u07A6-\\u07B0\\u07EB-\\u07F3\\u0816-\\u0819\\u081B-\\u0823\\u0825-\\u0827\\u0829-\\u082D\\u0859-\\u085B\\u08E4-\\u0903\\u093A-\\u093C\\u093E-\\u094F\\u0951-\\u0957\\u0962\\u0963\\u0981-\\u0983\\u09BC\\u09BE-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CD\\u09D7\\u09E2\\u09E3\\u0A01-\\u0A03\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A70\\u0A71\\u0A75\\u0A81-\\u0A83\\u0ABC\\u0ABE-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AE2\\u0AE3\\u0B01-\\u0B03\\u0B3C\\u0B3E-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B62\\u0B63\\u0B82\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD7\\u0C00-\\u0C03\\u0C3E-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C62\\u0C63\\u0C81-\\u0C83\\u0CBC\\u0CBE-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CE2\\u0CE3\\u0D01-\\u0D03\\u0D3E-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4D\\u0D57\\u0D62\\u0D63\\u0D82\\u0D83\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DF2\\u0DF3\\u0E31\\u0E34-\\u0E3A\\u0E47-\\u0E4E\\u0EB1\\u0EB4-\\u0EB9\\u0EBB\\u0EBC\\u0EC8-\\u0ECD\\u0F18\\u0F19\\u0F35\\u0F37\\u0F39\\u0F3E\\u0F3F\\u0F71-\\u0F84\\u0F86\\u0F87\\u0F8D-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u102B-\\u103E\\u1056-\\u1059\\u105E-\\u1060\\u1062-\\u1064\\u1067-\\u106D\\u1071-\\u1074\\u1082-\\u108D\\u108F\\u109A-\\u109D\\u135D-\\u135F\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17B4-\\u17D3\\u17DD\\u180B-\\u180D\\u18A9\\u1920-\\u192B\\u1930-\\u193B\\u19B0-\\u19C0\\u19C8\\u19C9\\u1A17-\\u1A1B\\u1A55-\\u1A5E\\u1A60-\\u1A7C\\u1A7F\\u1AB0-\\u1ABE\\u1B00-\\u1B04\\u1B34-\\u1B44\\u1B6B-\\u1B73\\u1B80-\\u1B82\\u1BA1-\\u1BAD\\u1BE6-\\u1BF3\\u1C24-\\u1C37\\u1CD0-\\u1CD2\\u1CD4-\\u1CE8\\u1CED\\u1CF2-\\u1CF4\\u1CF8\\u1CF9\\u1DC0-\\u1DF5\\u1DFC-\\u1DFF\\u20D0-\\u20F0\\u2CEF-\\u2CF1\\u2D7F\\u2DE0-\\u2DFF\\u302A-\\u302F\\u3099\\u309A\\uA66F-\\uA672\\uA674-\\uA67D\\uA69F\\uA6F0\\uA6F1\\uA802\\uA806\\uA80B\\uA823-\\uA827\\uA880\\uA881\\uA8B4-\\uA8C4\\uA8E0-\\uA8F1\\uA926-\\uA92D\\uA947-\\uA953\\uA980-\\uA983\\uA9B3-\\uA9C0\\uA9E5\\uAA29-\\uAA36\\uAA43\\uAA4C\\uAA4D\\uAA7B-\\uAA7D\\uAAB0\\uAAB2-\\uAAB4\\uAAB7\\uAAB8\\uAABE\\uAABF\\uAAC1\\uAAEB-\\uAAEF\\uAAF5\\uAAF6\\uABE3-\\uABEA\\uABEC\\uABED\\uFB1E\\uFE00-\\uFE0F\\uFE20-\\uFE2D]|\\uD800[\\uDDFD\\uDEE0\\uDF76-\\uDF7A]|\\uD802[\\uDE01-\\uDE03\\uDE05\\uDE06\\uDE0C-\\uDE0F\\uDE38-\\uDE3A\\uDE3F\\uDEE5\\uDEE6]|\\uD804[\\uDC00-\\uDC02\\uDC38-\\uDC46\\uDC7F-\\uDC82\\uDCB0-\\uDCBA\\uDD00-\\uDD02\\uDD27-\\uDD34\\uDD73\\uDD80-\\uDD82\\uDDB3-\\uDDC0\\uDE2C-\\uDE37\\uDEDF-\\uDEEA\\uDF01-\\uDF03\\uDF3C\\uDF3E-\\uDF44\\uDF47\\uDF48\\uDF4B-\\uDF4D\\uDF57\\uDF62\\uDF63\\uDF66-\\uDF6C\\uDF70-\\uDF74]|\\uD805[\\uDCB0-\\uDCC3\\uDDAF-\\uDDB5\\uDDB8-\\uDDC0\\uDE30-\\uDE40\\uDEAB-\\uDEB7]|\\uD81A[\\uDEF0-\\uDEF4\\uDF30-\\uDF36]|\\uD81B[\\uDF51-\\uDF7E\\uDF8F-\\uDF92]|\\uD82F[\\uDC9D\\uDC9E]|\\uD834[\\uDD65-\\uDD69\\uDD6D-\\uDD72\\uDD7B-\\uDD82\\uDD85-\\uDD8B\\uDDAA-\\uDDAD\\uDE42-\\uDE44]|\\uD83A[\\uDCD0-\\uDCD6]|\\uDB40[\\uDD00-\\uDDEF]/;\n\nfunction validateLabel(label, processing_option) {\n  if (label.substr(0, 4) === \"xn--\") {\n    label = punycode.toUnicode(label);\n    processing_option = PROCESSING_OPTIONS.NONTRANSITIONAL;\n  }\n\n  var error = false;\n\n  if (normalize(label) !== label ||\n      (label[3] === \"-\" && label[4] === \"-\") ||\n      label[0] === \"-\" || label[label.length - 1] === \"-\" ||\n      label.indexOf(\".\") !== -1 ||\n      label.search(combiningMarksRegex) === 0) {\n    error = true;\n  }\n\n  var len = countSymbols(label);\n  for (var i = 0; i < len; ++i) {\n    var status = findStatus(label.codePointAt(i));\n    if ((processing === PROCESSING_OPTIONS.TRANSITIONAL && status[1] !== \"valid\") ||\n        (processing === PROCESSING_OPTIONS.NONTRANSITIONAL &&\n         status[1] !== \"valid\" && status[1] !== \"deviation\")) {\n      error = true;\n      break;\n    }\n  }\n\n  return {\n    label: label,\n    error: error\n  };\n}\n\nfunction processing(domain_name, useSTD3, processing_option) {\n  var result = mapChars(domain_name, useSTD3, processing_option);\n  result.string = normalize(result.string);\n\n  var labels = result.string.split(\".\");\n  for (var i = 0; i < labels.length; ++i) {\n    try {\n      var validation = validateLabel(labels[i]);\n      labels[i] = validation.label;\n      result.error = result.error || validation.error;\n    } catch(e) {\n      result.error = true;\n    }\n  }\n\n  return {\n    string: labels.join(\".\"),\n    error: result.error\n  };\n}\n\nmodule.exports.toASCII = function(domain_name, useSTD3, processing_option, verifyDnsLength) {\n  var result = processing(domain_name, useSTD3, processing_option);\n  var labels = result.string.split(\".\");\n  labels = labels.map(function(l) {\n    try {\n      return punycode.toASCII(l);\n    } catch(e) {\n      result.error = true;\n      return l;\n    }\n  });\n\n  if (verifyDnsLength) {\n    var total = labels.slice(0, labels.length - 1).join(\".\").length;\n    if (total.length > 253 || total.length === 0) {\n      result.error = true;\n    }\n\n    for (var i=0; i < labels.length; ++i) {\n      if (labels.length > 63 || labels.length === 0) {\n        result.error = true;\n        break;\n      }\n    }\n  }\n\n  if (result.error) return null;\n  return labels.join(\".\");\n};\n\nmodule.exports.toUnicode = function(domain_name, useSTD3) {\n  var result = processing(domain_name, useSTD3, PROCESSING_OPTIONS.NONTRANSITIONAL);\n\n  return {\n    domain: result.string,\n    error: result.error\n  };\n};\n\nmodule.exports.PROCESSING_OPTIONS = PROCESSING_OPTIONS;\n","\"use strict\";\r\nconst punycode = require(\"punycode\");\r\nconst tr46 = require(\"tr46\");\r\n\r\nconst specialSchemes = {\r\n  ftp: 21,\r\n  file: null,\r\n  gopher: 70,\r\n  http: 80,\r\n  https: 443,\r\n  ws: 80,\r\n  wss: 443\r\n};\r\n\r\nconst failure = Symbol(\"failure\");\r\n\r\nfunction countSymbols(str) {\r\n  return punycode.ucs2.decode(str).length;\r\n}\r\n\r\nfunction at(input, idx) {\r\n  const c = input[idx];\r\n  return isNaN(c) ? undefined : String.fromCodePoint(c);\r\n}\r\n\r\nfunction isASCIIDigit(c) {\r\n  return c >= 0x30 && c <= 0x39;\r\n}\r\n\r\nfunction isASCIIAlpha(c) {\r\n  return (c >= 0x41 && c <= 0x5A) || (c >= 0x61 && c <= 0x7A);\r\n}\r\n\r\nfunction isASCIIAlphanumeric(c) {\r\n  return isASCIIAlpha(c) || isASCIIDigit(c);\r\n}\r\n\r\nfunction isASCIIHex(c) {\r\n  return isASCIIDigit(c) || (c >= 0x41 && c <= 0x46) || (c >= 0x61 && c <= 0x66);\r\n}\r\n\r\nfunction isSingleDot(buffer) {\r\n  return buffer === \".\" || buffer.toLowerCase() === \"%2e\";\r\n}\r\n\r\nfunction isDoubleDot(buffer) {\r\n  buffer = buffer.toLowerCase();\r\n  return buffer === \"..\" || buffer === \"%2e.\" || buffer === \".%2e\" || buffer === \"%2e%2e\";\r\n}\r\n\r\nfunction isWindowsDriveLetterCodePoints(cp1, cp2) {\r\n  return isASCIIAlpha(cp1) && (cp2 === 58 || cp2 === 124);\r\n}\r\n\r\nfunction isWindowsDriveLetterString(string) {\r\n  return string.length === 2 && isASCIIAlpha(string.codePointAt(0)) && (string[1] === \":\" || string[1] === \"|\");\r\n}\r\n\r\nfunction isNormalizedWindowsDriveLetterString(string) {\r\n  return string.length === 2 && isASCIIAlpha(string.codePointAt(0)) && string[1] === \":\";\r\n}\r\n\r\nfunction containsForbiddenHostCodePoint(string) {\r\n  return string.search(/\\u0000|\\u0009|\\u000A|\\u000D|\\u0020|#|%|\\/|:|\\?|@|\\[|\\\\|\\]/) !== -1;\r\n}\r\n\r\nfunction containsForbiddenHostCodePointExcludingPercent(string) {\r\n  return string.search(/\\u0000|\\u0009|\\u000A|\\u000D|\\u0020|#|\\/|:|\\?|@|\\[|\\\\|\\]/) !== -1;\r\n}\r\n\r\nfunction isSpecialScheme(scheme) {\r\n  return specialSchemes[scheme] !== undefined;\r\n}\r\n\r\nfunction isSpecial(url) {\r\n  return isSpecialScheme(url.scheme);\r\n}\r\n\r\nfunction defaultPort(scheme) {\r\n  return specialSchemes[scheme];\r\n}\r\n\r\nfunction percentEncode(c) {\r\n  let hex = c.toString(16).toUpperCase();\r\n  if (hex.length === 1) {\r\n    hex = \"0\" + hex;\r\n  }\r\n\r\n  return \"%\" + hex;\r\n}\r\n\r\nfunction utf8PercentEncode(c) {\r\n  const buf = new Buffer(c);\r\n\r\n  let str = \"\";\r\n\r\n  for (let i = 0; i < buf.length; ++i) {\r\n    str += percentEncode(buf[i]);\r\n  }\r\n\r\n  return str;\r\n}\r\n\r\nfunction utf8PercentDecode(str) {\r\n  const input = new Buffer(str);\r\n  const output = [];\r\n  for (let i = 0; i < input.length; ++i) {\r\n    if (input[i] !== 37) {\r\n      output.push(input[i]);\r\n    } else if (input[i] === 37 && isASCIIHex(input[i + 1]) && isASCIIHex(input[i + 2])) {\r\n      output.push(parseInt(input.slice(i + 1, i + 3).toString(), 16));\r\n      i += 2;\r\n    } else {\r\n      output.push(input[i]);\r\n    }\r\n  }\r\n  return new Buffer(output).toString();\r\n}\r\n\r\nfunction isC0ControlPercentEncode(c) {\r\n  return c <= 0x1F || c > 0x7E;\r\n}\r\n\r\nconst extraPathPercentEncodeSet = new Set([32, 34, 35, 60, 62, 63, 96, 123, 125]);\r\nfunction isPathPercentEncode(c) {\r\n  return isC0ControlPercentEncode(c) || extraPathPercentEncodeSet.has(c);\r\n}\r\n\r\nconst extraUserinfoPercentEncodeSet =\r\n  new Set([47, 58, 59, 61, 64, 91, 92, 93, 94, 124]);\r\nfunction isUserinfoPercentEncode(c) {\r\n  return isPathPercentEncode(c) || extraUserinfoPercentEncodeSet.has(c);\r\n}\r\n\r\nfunction percentEncodeChar(c, encodeSetPredicate) {\r\n  const cStr = String.fromCodePoint(c);\r\n\r\n  if (encodeSetPredicate(c)) {\r\n    return utf8PercentEncode(cStr);\r\n  }\r\n\r\n  return cStr;\r\n}\r\n\r\nfunction parseIPv4Number(input) {\r\n  let R = 10;\r\n\r\n  if (input.length >= 2 && input.charAt(0) === \"0\" && input.charAt(1).toLowerCase() === \"x\") {\r\n    input = input.substring(2);\r\n    R = 16;\r\n  } else if (input.length >= 2 && input.charAt(0) === \"0\") {\r\n    input = input.substring(1);\r\n    R = 8;\r\n  }\r\n\r\n  if (input === \"\") {\r\n    return 0;\r\n  }\r\n\r\n  const regex = R === 10 ? /[^0-9]/ : (R === 16 ? /[^0-9A-Fa-f]/ : /[^0-7]/);\r\n  if (regex.test(input)) {\r\n    return failure;\r\n  }\r\n\r\n  return parseInt(input, R);\r\n}\r\n\r\nfunction parseIPv4(input) {\r\n  const parts = input.split(\".\");\r\n  if (parts[parts.length - 1] === \"\") {\r\n    if (parts.length > 1) {\r\n      parts.pop();\r\n    }\r\n  }\r\n\r\n  if (parts.length > 4) {\r\n    return input;\r\n  }\r\n\r\n  const numbers = [];\r\n  for (const part of parts) {\r\n    if (part === \"\") {\r\n      return input;\r\n    }\r\n    const n = parseIPv4Number(part);\r\n    if (n === failure) {\r\n      return input;\r\n    }\r\n\r\n    numbers.push(n);\r\n  }\r\n\r\n  for (let i = 0; i < numbers.length - 1; ++i) {\r\n    if (numbers[i] > 255) {\r\n      return failure;\r\n    }\r\n  }\r\n  if (numbers[numbers.length - 1] >= Math.pow(256, 5 - numbers.length)) {\r\n    return failure;\r\n  }\r\n\r\n  let ipv4 = numbers.pop();\r\n  let counter = 0;\r\n\r\n  for (const n of numbers) {\r\n    ipv4 += n * Math.pow(256, 3 - counter);\r\n    ++counter;\r\n  }\r\n\r\n  return ipv4;\r\n}\r\n\r\nfunction serializeIPv4(address) {\r\n  let output = \"\";\r\n  let n = address;\r\n\r\n  for (let i = 1; i <= 4; ++i) {\r\n    output = String(n % 256) + output;\r\n    if (i !== 4) {\r\n      output = \".\" + output;\r\n    }\r\n    n = Math.floor(n / 256);\r\n  }\r\n\r\n  return output;\r\n}\r\n\r\nfunction parseIPv6(input) {\r\n  const address = [0, 0, 0, 0, 0, 0, 0, 0];\r\n  let pieceIndex = 0;\r\n  let compress = null;\r\n  let pointer = 0;\r\n\r\n  input = punycode.ucs2.decode(input);\r\n\r\n  if (input[pointer] === 58) {\r\n    if (input[pointer + 1] !== 58) {\r\n      return failure;\r\n    }\r\n\r\n    pointer += 2;\r\n    ++pieceIndex;\r\n    compress = pieceIndex;\r\n  }\r\n\r\n  while (pointer < input.length) {\r\n    if (pieceIndex === 8) {\r\n      return failure;\r\n    }\r\n\r\n    if (input[pointer] === 58) {\r\n      if (compress !== null) {\r\n        return failure;\r\n      }\r\n      ++pointer;\r\n      ++pieceIndex;\r\n      compress = pieceIndex;\r\n      continue;\r\n    }\r\n\r\n    let value = 0;\r\n    let length = 0;\r\n\r\n    while (length < 4 && isASCIIHex(input[pointer])) {\r\n      value = value * 0x10 + parseInt(at(input, pointer), 16);\r\n      ++pointer;\r\n      ++length;\r\n    }\r\n\r\n    if (input[pointer] === 46) {\r\n      if (length === 0) {\r\n        return failure;\r\n      }\r\n\r\n      pointer -= length;\r\n\r\n      if (pieceIndex > 6) {\r\n        return failure;\r\n      }\r\n\r\n      let numbersSeen = 0;\r\n\r\n      while (input[pointer] !== undefined) {\r\n        let ipv4Piece = null;\r\n\r\n        if (numbersSeen > 0) {\r\n          if (input[pointer] === 46 && numbersSeen < 4) {\r\n            ++pointer;\r\n          } else {\r\n            return failure;\r\n          }\r\n        }\r\n\r\n        if (!isASCIIDigit(input[pointer])) {\r\n          return failure;\r\n        }\r\n\r\n        while (isASCIIDigit(input[pointer])) {\r\n          const number = parseInt(at(input, pointer));\r\n          if (ipv4Piece === null) {\r\n            ipv4Piece = number;\r\n          } else if (ipv4Piece === 0) {\r\n            return failure;\r\n          } else {\r\n            ipv4Piece = ipv4Piece * 10 + number;\r\n          }\r\n          if (ipv4Piece > 255) {\r\n            return failure;\r\n          }\r\n          ++pointer;\r\n        }\r\n\r\n        address[pieceIndex] = address[pieceIndex] * 0x100 + ipv4Piece;\r\n\r\n        ++numbersSeen;\r\n\r\n        if (numbersSeen === 2 || numbersSeen === 4) {\r\n          ++pieceIndex;\r\n        }\r\n      }\r\n\r\n      if (numbersSeen !== 4) {\r\n        return failure;\r\n      }\r\n\r\n      break;\r\n    } else if (input[pointer] === 58) {\r\n      ++pointer;\r\n      if (input[pointer] === undefined) {\r\n        return failure;\r\n      }\r\n    } else if (input[pointer] !== undefined) {\r\n      return failure;\r\n    }\r\n\r\n    address[pieceIndex] = value;\r\n    ++pieceIndex;\r\n  }\r\n\r\n  if (compress !== null) {\r\n    let swaps = pieceIndex - compress;\r\n    pieceIndex = 7;\r\n    while (pieceIndex !== 0 && swaps > 0) {\r\n      const temp = address[compress + swaps - 1];\r\n      address[compress + swaps - 1] = address[pieceIndex];\r\n      address[pieceIndex] = temp;\r\n      --pieceIndex;\r\n      --swaps;\r\n    }\r\n  } else if (compress === null && pieceIndex !== 8) {\r\n    return failure;\r\n  }\r\n\r\n  return address;\r\n}\r\n\r\nfunction serializeIPv6(address) {\r\n  let output = \"\";\r\n  const seqResult = findLongestZeroSequence(address);\r\n  const compress = seqResult.idx;\r\n  let ignore0 = false;\r\n\r\n  for (let pieceIndex = 0; pieceIndex <= 7; ++pieceIndex) {\r\n    if (ignore0 && address[pieceIndex] === 0) {\r\n      continue;\r\n    } else if (ignore0) {\r\n      ignore0 = false;\r\n    }\r\n\r\n    if (compress === pieceIndex) {\r\n      const separator = pieceIndex === 0 ? \"::\" : \":\";\r\n      output += separator;\r\n      ignore0 = true;\r\n      continue;\r\n    }\r\n\r\n    output += address[pieceIndex].toString(16);\r\n\r\n    if (pieceIndex !== 7) {\r\n      output += \":\";\r\n    }\r\n  }\r\n\r\n  return output;\r\n}\r\n\r\nfunction parseHost(input, isSpecialArg) {\r\n  if (input[0] === \"[\") {\r\n    if (input[input.length - 1] !== \"]\") {\r\n      return failure;\r\n    }\r\n\r\n    return parseIPv6(input.substring(1, input.length - 1));\r\n  }\r\n\r\n  if (!isSpecialArg) {\r\n    return parseOpaqueHost(input);\r\n  }\r\n\r\n  const domain = utf8PercentDecode(input);\r\n  const asciiDomain = tr46.toASCII(domain, false, tr46.PROCESSING_OPTIONS.NONTRANSITIONAL, false);\r\n  if (asciiDomain === null) {\r\n    return failure;\r\n  }\r\n\r\n  if (containsForbiddenHostCodePoint(asciiDomain)) {\r\n    return failure;\r\n  }\r\n\r\n  const ipv4Host = parseIPv4(asciiDomain);\r\n  if (typeof ipv4Host === \"number\" || ipv4Host === failure) {\r\n    return ipv4Host;\r\n  }\r\n\r\n  return asciiDomain;\r\n}\r\n\r\nfunction parseOpaqueHost(input) {\r\n  if (containsForbiddenHostCodePointExcludingPercent(input)) {\r\n    return failure;\r\n  }\r\n\r\n  let output = \"\";\r\n  const decoded = punycode.ucs2.decode(input);\r\n  for (let i = 0; i < decoded.length; ++i) {\r\n    output += percentEncodeChar(decoded[i], isC0ControlPercentEncode);\r\n  }\r\n  return output;\r\n}\r\n\r\nfunction findLongestZeroSequence(arr) {\r\n  let maxIdx = null;\r\n  let maxLen = 1; // only find elements > 1\r\n  let currStart = null;\r\n  let currLen = 0;\r\n\r\n  for (let i = 0; i < arr.length; ++i) {\r\n    if (arr[i] !== 0) {\r\n      if (currLen > maxLen) {\r\n        maxIdx = currStart;\r\n        maxLen = currLen;\r\n      }\r\n\r\n      currStart = null;\r\n      currLen = 0;\r\n    } else {\r\n      if (currStart === null) {\r\n        currStart = i;\r\n      }\r\n      ++currLen;\r\n    }\r\n  }\r\n\r\n  // if trailing zeros\r\n  if (currLen > maxLen) {\r\n    maxIdx = currStart;\r\n    maxLen = currLen;\r\n  }\r\n\r\n  return {\r\n    idx: maxIdx,\r\n    len: maxLen\r\n  };\r\n}\r\n\r\nfunction serializeHost(host) {\r\n  if (typeof host === \"number\") {\r\n    return serializeIPv4(host);\r\n  }\r\n\r\n  // IPv6 serializer\r\n  if (host instanceof Array) {\r\n    return \"[\" + serializeIPv6(host) + \"]\";\r\n  }\r\n\r\n  return host;\r\n}\r\n\r\nfunction trimControlChars(url) {\r\n  return url.replace(/^[\\u0000-\\u001F\\u0020]+|[\\u0000-\\u001F\\u0020]+$/g, \"\");\r\n}\r\n\r\nfunction trimTabAndNewline(url) {\r\n  return url.replace(/\\u0009|\\u000A|\\u000D/g, \"\");\r\n}\r\n\r\nfunction shortenPath(url) {\r\n  const path = url.path;\r\n  if (path.length === 0) {\r\n    return;\r\n  }\r\n  if (url.scheme === \"file\" && path.length === 1 && isNormalizedWindowsDriveLetter(path[0])) {\r\n    return;\r\n  }\r\n\r\n  path.pop();\r\n}\r\n\r\nfunction includesCredentials(url) {\r\n  return url.username !== \"\" || url.password !== \"\";\r\n}\r\n\r\nfunction cannotHaveAUsernamePasswordPort(url) {\r\n  return url.host === null || url.host === \"\" || url.cannotBeABaseURL || url.scheme === \"file\";\r\n}\r\n\r\nfunction isNormalizedWindowsDriveLetter(string) {\r\n  return /^[A-Za-z]:$/.test(string);\r\n}\r\n\r\nfunction URLStateMachine(input, base, encodingOverride, url, stateOverride) {\r\n  this.pointer = 0;\r\n  this.input = input;\r\n  this.base = base || null;\r\n  this.encodingOverride = encodingOverride || \"utf-8\";\r\n  this.stateOverride = stateOverride;\r\n  this.url = url;\r\n  this.failure = false;\r\n  this.parseError = false;\r\n\r\n  if (!this.url) {\r\n    this.url = {\r\n      scheme: \"\",\r\n      username: \"\",\r\n      password: \"\",\r\n      host: null,\r\n      port: null,\r\n      path: [],\r\n      query: null,\r\n      fragment: null,\r\n\r\n      cannotBeABaseURL: false\r\n    };\r\n\r\n    const res = trimControlChars(this.input);\r\n    if (res !== this.input) {\r\n      this.parseError = true;\r\n    }\r\n    this.input = res;\r\n  }\r\n\r\n  const res = trimTabAndNewline(this.input);\r\n  if (res !== this.input) {\r\n    this.parseError = true;\r\n  }\r\n  this.input = res;\r\n\r\n  this.state = stateOverride || \"scheme start\";\r\n\r\n  this.buffer = \"\";\r\n  this.atFlag = false;\r\n  this.arrFlag = false;\r\n  this.passwordTokenSeenFlag = false;\r\n\r\n  this.input = punycode.ucs2.decode(this.input);\r\n\r\n  for (; this.pointer <= this.input.length; ++this.pointer) {\r\n    const c = this.input[this.pointer];\r\n    const cStr = isNaN(c) ? undefined : String.fromCodePoint(c);\r\n\r\n    // exec state machine\r\n    const ret = this[\"parse \" + this.state](c, cStr);\r\n    if (!ret) {\r\n      break; // terminate algorithm\r\n    } else if (ret === failure) {\r\n      this.failure = true;\r\n      break;\r\n    }\r\n  }\r\n}\r\n\r\nURLStateMachine.prototype[\"parse scheme start\"] = function parseSchemeStart(c, cStr) {\r\n  if (isASCIIAlpha(c)) {\r\n    this.buffer += cStr.toLowerCase();\r\n    this.state = \"scheme\";\r\n  } else if (!this.stateOverride) {\r\n    this.state = \"no scheme\";\r\n    --this.pointer;\r\n  } else {\r\n    this.parseError = true;\r\n    return failure;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse scheme\"] = function parseScheme(c, cStr) {\r\n  if (isASCIIAlphanumeric(c) || c === 43 || c === 45 || c === 46) {\r\n    this.buffer += cStr.toLowerCase();\r\n  } else if (c === 58) {\r\n    if (this.stateOverride) {\r\n      if (isSpecial(this.url) && !isSpecialScheme(this.buffer)) {\r\n        return false;\r\n      }\r\n\r\n      if (!isSpecial(this.url) && isSpecialScheme(this.buffer)) {\r\n        return false;\r\n      }\r\n\r\n      if ((includesCredentials(this.url) || this.url.port !== null) && this.buffer === \"file\") {\r\n        return false;\r\n      }\r\n\r\n      if (this.url.scheme === \"file\" && (this.url.host === \"\" || this.url.host === null)) {\r\n        return false;\r\n      }\r\n    }\r\n    this.url.scheme = this.buffer;\r\n    this.buffer = \"\";\r\n    if (this.stateOverride) {\r\n      return false;\r\n    }\r\n    if (this.url.scheme === \"file\") {\r\n      if (this.input[this.pointer + 1] !== 47 || this.input[this.pointer + 2] !== 47) {\r\n        this.parseError = true;\r\n      }\r\n      this.state = \"file\";\r\n    } else if (isSpecial(this.url) && this.base !== null && this.base.scheme === this.url.scheme) {\r\n      this.state = \"special relative or authority\";\r\n    } else if (isSpecial(this.url)) {\r\n      this.state = \"special authority slashes\";\r\n    } else if (this.input[this.pointer + 1] === 47) {\r\n      this.state = \"path or authority\";\r\n      ++this.pointer;\r\n    } else {\r\n      this.url.cannotBeABaseURL = true;\r\n      this.url.path.push(\"\");\r\n      this.state = \"cannot-be-a-base-URL path\";\r\n    }\r\n  } else if (!this.stateOverride) {\r\n    this.buffer = \"\";\r\n    this.state = \"no scheme\";\r\n    this.pointer = -1;\r\n  } else {\r\n    this.parseError = true;\r\n    return failure;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse no scheme\"] = function parseNoScheme(c) {\r\n  if (this.base === null || (this.base.cannotBeABaseURL && c !== 35)) {\r\n    return failure;\r\n  } else if (this.base.cannotBeABaseURL && c === 35) {\r\n    this.url.scheme = this.base.scheme;\r\n    this.url.path = this.base.path.slice();\r\n    this.url.query = this.base.query;\r\n    this.url.fragment = \"\";\r\n    this.url.cannotBeABaseURL = true;\r\n    this.state = \"fragment\";\r\n  } else if (this.base.scheme === \"file\") {\r\n    this.state = \"file\";\r\n    --this.pointer;\r\n  } else {\r\n    this.state = \"relative\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse special relative or authority\"] = function parseSpecialRelativeOrAuthority(c) {\r\n  if (c === 47 && this.input[this.pointer + 1] === 47) {\r\n    this.state = \"special authority ignore slashes\";\r\n    ++this.pointer;\r\n  } else {\r\n    this.parseError = true;\r\n    this.state = \"relative\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse path or authority\"] = function parsePathOrAuthority(c) {\r\n  if (c === 47) {\r\n    this.state = \"authority\";\r\n  } else {\r\n    this.state = \"path\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse relative\"] = function parseRelative(c) {\r\n  this.url.scheme = this.base.scheme;\r\n  if (isNaN(c)) {\r\n    this.url.username = this.base.username;\r\n    this.url.password = this.base.password;\r\n    this.url.host = this.base.host;\r\n    this.url.port = this.base.port;\r\n    this.url.path = this.base.path.slice();\r\n    this.url.query = this.base.query;\r\n  } else if (c === 47) {\r\n    this.state = \"relative slash\";\r\n  } else if (c === 63) {\r\n    this.url.username = this.base.username;\r\n    this.url.password = this.base.password;\r\n    this.url.host = this.base.host;\r\n    this.url.port = this.base.port;\r\n    this.url.path = this.base.path.slice();\r\n    this.url.query = \"\";\r\n    this.state = \"query\";\r\n  } else if (c === 35) {\r\n    this.url.username = this.base.username;\r\n    this.url.password = this.base.password;\r\n    this.url.host = this.base.host;\r\n    this.url.port = this.base.port;\r\n    this.url.path = this.base.path.slice();\r\n    this.url.query = this.base.query;\r\n    this.url.fragment = \"\";\r\n    this.state = \"fragment\";\r\n  } else if (isSpecial(this.url) && c === 92) {\r\n    this.parseError = true;\r\n    this.state = \"relative slash\";\r\n  } else {\r\n    this.url.username = this.base.username;\r\n    this.url.password = this.base.password;\r\n    this.url.host = this.base.host;\r\n    this.url.port = this.base.port;\r\n    this.url.path = this.base.path.slice(0, this.base.path.length - 1);\r\n\r\n    this.state = \"path\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse relative slash\"] = function parseRelativeSlash(c) {\r\n  if (isSpecial(this.url) && (c === 47 || c === 92)) {\r\n    if (c === 92) {\r\n      this.parseError = true;\r\n    }\r\n    this.state = \"special authority ignore slashes\";\r\n  } else if (c === 47) {\r\n    this.state = \"authority\";\r\n  } else {\r\n    this.url.username = this.base.username;\r\n    this.url.password = this.base.password;\r\n    this.url.host = this.base.host;\r\n    this.url.port = this.base.port;\r\n    this.state = \"path\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse special authority slashes\"] = function parseSpecialAuthoritySlashes(c) {\r\n  if (c === 47 && this.input[this.pointer + 1] === 47) {\r\n    this.state = \"special authority ignore slashes\";\r\n    ++this.pointer;\r\n  } else {\r\n    this.parseError = true;\r\n    this.state = \"special authority ignore slashes\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse special authority ignore slashes\"] = function parseSpecialAuthorityIgnoreSlashes(c) {\r\n  if (c !== 47 && c !== 92) {\r\n    this.state = \"authority\";\r\n    --this.pointer;\r\n  } else {\r\n    this.parseError = true;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse authority\"] = function parseAuthority(c, cStr) {\r\n  if (c === 64) {\r\n    this.parseError = true;\r\n    if (this.atFlag) {\r\n      this.buffer = \"%40\" + this.buffer;\r\n    }\r\n    this.atFlag = true;\r\n\r\n    // careful, this is based on buffer and has its own pointer (this.pointer != pointer) and inner chars\r\n    const len = countSymbols(this.buffer);\r\n    for (let pointer = 0; pointer < len; ++pointer) {\r\n      const codePoint = this.buffer.codePointAt(pointer);\r\n\r\n      if (codePoint === 58 && !this.passwordTokenSeenFlag) {\r\n        this.passwordTokenSeenFlag = true;\r\n        continue;\r\n      }\r\n      const encodedCodePoints = percentEncodeChar(codePoint, isUserinfoPercentEncode);\r\n      if (this.passwordTokenSeenFlag) {\r\n        this.url.password += encodedCodePoints;\r\n      } else {\r\n        this.url.username += encodedCodePoints;\r\n      }\r\n    }\r\n    this.buffer = \"\";\r\n  } else if (isNaN(c) || c === 47 || c === 63 || c === 35 ||\r\n             (isSpecial(this.url) && c === 92)) {\r\n    if (this.atFlag && this.buffer === \"\") {\r\n      this.parseError = true;\r\n      return failure;\r\n    }\r\n    this.pointer -= countSymbols(this.buffer) + 1;\r\n    this.buffer = \"\";\r\n    this.state = \"host\";\r\n  } else {\r\n    this.buffer += cStr;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse hostname\"] =\r\nURLStateMachine.prototype[\"parse host\"] = function parseHostName(c, cStr) {\r\n  if (this.stateOverride && this.url.scheme === \"file\") {\r\n    --this.pointer;\r\n    this.state = \"file host\";\r\n  } else if (c === 58 && !this.arrFlag) {\r\n    if (this.buffer === \"\") {\r\n      this.parseError = true;\r\n      return failure;\r\n    }\r\n\r\n    const host = parseHost(this.buffer, isSpecial(this.url));\r\n    if (host === failure) {\r\n      return failure;\r\n    }\r\n\r\n    this.url.host = host;\r\n    this.buffer = \"\";\r\n    this.state = \"port\";\r\n    if (this.stateOverride === \"hostname\") {\r\n      return false;\r\n    }\r\n  } else if (isNaN(c) || c === 47 || c === 63 || c === 35 ||\r\n             (isSpecial(this.url) && c === 92)) {\r\n    --this.pointer;\r\n    if (isSpecial(this.url) && this.buffer === \"\") {\r\n      this.parseError = true;\r\n      return failure;\r\n    } else if (this.stateOverride && this.buffer === \"\" &&\r\n               (includesCredentials(this.url) || this.url.port !== null)) {\r\n      this.parseError = true;\r\n      return false;\r\n    }\r\n\r\n    const host = parseHost(this.buffer, isSpecial(this.url));\r\n    if (host === failure) {\r\n      return failure;\r\n    }\r\n\r\n    this.url.host = host;\r\n    this.buffer = \"\";\r\n    this.state = \"path start\";\r\n    if (this.stateOverride) {\r\n      return false;\r\n    }\r\n  } else {\r\n    if (c === 91) {\r\n      this.arrFlag = true;\r\n    } else if (c === 93) {\r\n      this.arrFlag = false;\r\n    }\r\n    this.buffer += cStr;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse port\"] = function parsePort(c, cStr) {\r\n  if (isASCIIDigit(c)) {\r\n    this.buffer += cStr;\r\n  } else if (isNaN(c) || c === 47 || c === 63 || c === 35 ||\r\n             (isSpecial(this.url) && c === 92) ||\r\n             this.stateOverride) {\r\n    if (this.buffer !== \"\") {\r\n      const port = parseInt(this.buffer);\r\n      if (port > Math.pow(2, 16) - 1) {\r\n        this.parseError = true;\r\n        return failure;\r\n      }\r\n      this.url.port = port === defaultPort(this.url.scheme) ? null : port;\r\n      this.buffer = \"\";\r\n    }\r\n    if (this.stateOverride) {\r\n      return false;\r\n    }\r\n    this.state = \"path start\";\r\n    --this.pointer;\r\n  } else {\r\n    this.parseError = true;\r\n    return failure;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nconst fileOtherwiseCodePoints = new Set([47, 92, 63, 35]);\r\n\r\nURLStateMachine.prototype[\"parse file\"] = function parseFile(c) {\r\n  this.url.scheme = \"file\";\r\n\r\n  if (c === 47 || c === 92) {\r\n    if (c === 92) {\r\n      this.parseError = true;\r\n    }\r\n    this.state = \"file slash\";\r\n  } else if (this.base !== null && this.base.scheme === \"file\") {\r\n    if (isNaN(c)) {\r\n      this.url.host = this.base.host;\r\n      this.url.path = this.base.path.slice();\r\n      this.url.query = this.base.query;\r\n    } else if (c === 63) {\r\n      this.url.host = this.base.host;\r\n      this.url.path = this.base.path.slice();\r\n      this.url.query = \"\";\r\n      this.state = \"query\";\r\n    } else if (c === 35) {\r\n      this.url.host = this.base.host;\r\n      this.url.path = this.base.path.slice();\r\n      this.url.query = this.base.query;\r\n      this.url.fragment = \"\";\r\n      this.state = \"fragment\";\r\n    } else {\r\n      if (this.input.length - this.pointer - 1 === 0 || // remaining consists of 0 code points\r\n          !isWindowsDriveLetterCodePoints(c, this.input[this.pointer + 1]) ||\r\n          (this.input.length - this.pointer - 1 >= 2 && // remaining has at least 2 code points\r\n           !fileOtherwiseCodePoints.has(this.input[this.pointer + 2]))) {\r\n        this.url.host = this.base.host;\r\n        this.url.path = this.base.path.slice();\r\n        shortenPath(this.url);\r\n      } else {\r\n        this.parseError = true;\r\n      }\r\n\r\n      this.state = \"path\";\r\n      --this.pointer;\r\n    }\r\n  } else {\r\n    this.state = \"path\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse file slash\"] = function parseFileSlash(c) {\r\n  if (c === 47 || c === 92) {\r\n    if (c === 92) {\r\n      this.parseError = true;\r\n    }\r\n    this.state = \"file host\";\r\n  } else {\r\n    if (this.base !== null && this.base.scheme === \"file\") {\r\n      if (isNormalizedWindowsDriveLetterString(this.base.path[0])) {\r\n        this.url.path.push(this.base.path[0]);\r\n      } else {\r\n        this.url.host = this.base.host;\r\n      }\r\n    }\r\n    this.state = \"path\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse file host\"] = function parseFileHost(c, cStr) {\r\n  if (isNaN(c) || c === 47 || c === 92 || c === 63 || c === 35) {\r\n    --this.pointer;\r\n    if (!this.stateOverride && isWindowsDriveLetterString(this.buffer)) {\r\n      this.parseError = true;\r\n      this.state = \"path\";\r\n    } else if (this.buffer === \"\") {\r\n      this.url.host = \"\";\r\n      if (this.stateOverride) {\r\n        return false;\r\n      }\r\n      this.state = \"path start\";\r\n    } else {\r\n      let host = parseHost(this.buffer, isSpecial(this.url));\r\n      if (host === failure) {\r\n        return failure;\r\n      }\r\n      if (host === \"localhost\") {\r\n        host = \"\";\r\n      }\r\n      this.url.host = host;\r\n\r\n      if (this.stateOverride) {\r\n        return false;\r\n      }\r\n\r\n      this.buffer = \"\";\r\n      this.state = \"path start\";\r\n    }\r\n  } else {\r\n    this.buffer += cStr;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse path start\"] = function parsePathStart(c) {\r\n  if (isSpecial(this.url)) {\r\n    if (c === 92) {\r\n      this.parseError = true;\r\n    }\r\n    this.state = \"path\";\r\n\r\n    if (c !== 47 && c !== 92) {\r\n      --this.pointer;\r\n    }\r\n  } else if (!this.stateOverride && c === 63) {\r\n    this.url.query = \"\";\r\n    this.state = \"query\";\r\n  } else if (!this.stateOverride && c === 35) {\r\n    this.url.fragment = \"\";\r\n    this.state = \"fragment\";\r\n  } else if (c !== undefined) {\r\n    this.state = \"path\";\r\n    if (c !== 47) {\r\n      --this.pointer;\r\n    }\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse path\"] = function parsePath(c) {\r\n  if (isNaN(c) || c === 47 || (isSpecial(this.url) && c === 92) ||\r\n      (!this.stateOverride && (c === 63 || c === 35))) {\r\n    if (isSpecial(this.url) && c === 92) {\r\n      this.parseError = true;\r\n    }\r\n\r\n    if (isDoubleDot(this.buffer)) {\r\n      shortenPath(this.url);\r\n      if (c !== 47 && !(isSpecial(this.url) && c === 92)) {\r\n        this.url.path.push(\"\");\r\n      }\r\n    } else if (isSingleDot(this.buffer) && c !== 47 &&\r\n               !(isSpecial(this.url) && c === 92)) {\r\n      this.url.path.push(\"\");\r\n    } else if (!isSingleDot(this.buffer)) {\r\n      if (this.url.scheme === \"file\" && this.url.path.length === 0 && isWindowsDriveLetterString(this.buffer)) {\r\n        if (this.url.host !== \"\" && this.url.host !== null) {\r\n          this.parseError = true;\r\n          this.url.host = \"\";\r\n        }\r\n        this.buffer = this.buffer[0] + \":\";\r\n      }\r\n      this.url.path.push(this.buffer);\r\n    }\r\n    this.buffer = \"\";\r\n    if (this.url.scheme === \"file\" && (c === undefined || c === 63 || c === 35)) {\r\n      while (this.url.path.length > 1 && this.url.path[0] === \"\") {\r\n        this.parseError = true;\r\n        this.url.path.shift();\r\n      }\r\n    }\r\n    if (c === 63) {\r\n      this.url.query = \"\";\r\n      this.state = \"query\";\r\n    }\r\n    if (c === 35) {\r\n      this.url.fragment = \"\";\r\n      this.state = \"fragment\";\r\n    }\r\n  } else {\r\n    // TODO: If c is not a URL code point and not \"%\", parse error.\r\n\r\n    if (c === 37 &&\r\n      (!isASCIIHex(this.input[this.pointer + 1]) ||\r\n        !isASCIIHex(this.input[this.pointer + 2]))) {\r\n      this.parseError = true;\r\n    }\r\n\r\n    this.buffer += percentEncodeChar(c, isPathPercentEncode);\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse cannot-be-a-base-URL path\"] = function parseCannotBeABaseURLPath(c) {\r\n  if (c === 63) {\r\n    this.url.query = \"\";\r\n    this.state = \"query\";\r\n  } else if (c === 35) {\r\n    this.url.fragment = \"\";\r\n    this.state = \"fragment\";\r\n  } else {\r\n    // TODO: Add: not a URL code point\r\n    if (!isNaN(c) && c !== 37) {\r\n      this.parseError = true;\r\n    }\r\n\r\n    if (c === 37 &&\r\n        (!isASCIIHex(this.input[this.pointer + 1]) ||\r\n         !isASCIIHex(this.input[this.pointer + 2]))) {\r\n      this.parseError = true;\r\n    }\r\n\r\n    if (!isNaN(c)) {\r\n      this.url.path[0] = this.url.path[0] + percentEncodeChar(c, isC0ControlPercentEncode);\r\n    }\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse query\"] = function parseQuery(c, cStr) {\r\n  if (isNaN(c) || (!this.stateOverride && c === 35)) {\r\n    if (!isSpecial(this.url) || this.url.scheme === \"ws\" || this.url.scheme === \"wss\") {\r\n      this.encodingOverride = \"utf-8\";\r\n    }\r\n\r\n    const buffer = new Buffer(this.buffer); // TODO: Use encoding override instead\r\n    for (let i = 0; i < buffer.length; ++i) {\r\n      if (buffer[i] < 0x21 || buffer[i] > 0x7E || buffer[i] === 0x22 || buffer[i] === 0x23 ||\r\n          buffer[i] === 0x3C || buffer[i] === 0x3E) {\r\n        this.url.query += percentEncode(buffer[i]);\r\n      } else {\r\n        this.url.query += String.fromCodePoint(buffer[i]);\r\n      }\r\n    }\r\n\r\n    this.buffer = \"\";\r\n    if (c === 35) {\r\n      this.url.fragment = \"\";\r\n      this.state = \"fragment\";\r\n    }\r\n  } else {\r\n    // TODO: If c is not a URL code point and not \"%\", parse error.\r\n    if (c === 37 &&\r\n      (!isASCIIHex(this.input[this.pointer + 1]) ||\r\n        !isASCIIHex(this.input[this.pointer + 2]))) {\r\n      this.parseError = true;\r\n    }\r\n\r\n    this.buffer += cStr;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse fragment\"] = function parseFragment(c) {\r\n  if (isNaN(c)) { // do nothing\r\n  } else if (c === 0x0) {\r\n    this.parseError = true;\r\n  } else {\r\n    // TODO: If c is not a URL code point and not \"%\", parse error.\r\n    if (c === 37 &&\r\n      (!isASCIIHex(this.input[this.pointer + 1]) ||\r\n        !isASCIIHex(this.input[this.pointer + 2]))) {\r\n      this.parseError = true;\r\n    }\r\n\r\n    this.url.fragment += percentEncodeChar(c, isC0ControlPercentEncode);\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nfunction serializeURL(url, excludeFragment) {\r\n  let output = url.scheme + \":\";\r\n  if (url.host !== null) {\r\n    output += \"//\";\r\n\r\n    if (url.username !== \"\" || url.password !== \"\") {\r\n      output += url.username;\r\n      if (url.password !== \"\") {\r\n        output += \":\" + url.password;\r\n      }\r\n      output += \"@\";\r\n    }\r\n\r\n    output += serializeHost(url.host);\r\n\r\n    if (url.port !== null) {\r\n      output += \":\" + url.port;\r\n    }\r\n  } else if (url.host === null && url.scheme === \"file\") {\r\n    output += \"//\";\r\n  }\r\n\r\n  if (url.cannotBeABaseURL) {\r\n    output += url.path[0];\r\n  } else {\r\n    for (const string of url.path) {\r\n      output += \"/\" + string;\r\n    }\r\n  }\r\n\r\n  if (url.query !== null) {\r\n    output += \"?\" + url.query;\r\n  }\r\n\r\n  if (!excludeFragment && url.fragment !== null) {\r\n    output += \"#\" + url.fragment;\r\n  }\r\n\r\n  return output;\r\n}\r\n\r\nfunction serializeOrigin(tuple) {\r\n  let result = tuple.scheme + \"://\";\r\n  result += serializeHost(tuple.host);\r\n\r\n  if (tuple.port !== null) {\r\n    result += \":\" + tuple.port;\r\n  }\r\n\r\n  return result;\r\n}\r\n\r\nmodule.exports.serializeURL = serializeURL;\r\n\r\nmodule.exports.serializeURLOrigin = function (url) {\r\n  // https://url.spec.whatwg.org/#concept-url-origin\r\n  switch (url.scheme) {\r\n    case \"blob\":\r\n      try {\r\n        return module.exports.serializeURLOrigin(module.exports.parseURL(url.path[0]));\r\n      } catch (e) {\r\n        // serializing an opaque origin returns \"null\"\r\n        return \"null\";\r\n      }\r\n    case \"ftp\":\r\n    case \"gopher\":\r\n    case \"http\":\r\n    case \"https\":\r\n    case \"ws\":\r\n    case \"wss\":\r\n      return serializeOrigin({\r\n        scheme: url.scheme,\r\n        host: url.host,\r\n        port: url.port\r\n      });\r\n    case \"file\":\r\n      // spec says \"exercise to the reader\", chrome says \"file://\"\r\n      return \"file://\";\r\n    default:\r\n      // serializing an opaque origin returns \"null\"\r\n      return \"null\";\r\n  }\r\n};\r\n\r\nmodule.exports.basicURLParse = function (input, options) {\r\n  if (options === undefined) {\r\n    options = {};\r\n  }\r\n\r\n  const usm = new URLStateMachine(input, options.baseURL, options.encodingOverride, options.url, options.stateOverride);\r\n  if (usm.failure) {\r\n    return \"failure\";\r\n  }\r\n\r\n  return usm.url;\r\n};\r\n\r\nmodule.exports.setTheUsername = function (url, username) {\r\n  url.username = \"\";\r\n  const decoded = punycode.ucs2.decode(username);\r\n  for (let i = 0; i < decoded.length; ++i) {\r\n    url.username += percentEncodeChar(decoded[i], isUserinfoPercentEncode);\r\n  }\r\n};\r\n\r\nmodule.exports.setThePassword = function (url, password) {\r\n  url.password = \"\";\r\n  const decoded = punycode.ucs2.decode(password);\r\n  for (let i = 0; i < decoded.length; ++i) {\r\n    url.password += percentEncodeChar(decoded[i], isUserinfoPercentEncode);\r\n  }\r\n};\r\n\r\nmodule.exports.serializeHost = serializeHost;\r\n\r\nmodule.exports.cannotHaveAUsernamePasswordPort = cannotHaveAUsernamePasswordPort;\r\n\r\nmodule.exports.serializeInteger = function (integer) {\r\n  return String(integer);\r\n};\r\n\r\nmodule.exports.parseURL = function (input, options) {\r\n  if (options === undefined) {\r\n    options = {};\r\n  }\r\n\r\n  // We don't handle blobs, so this just delegates:\r\n  return module.exports.basicURLParse(input, { baseURL: options.baseURL, encodingOverride: options.encodingOverride });\r\n};\r\n","\"use strict\";\nconst usm = require(\"./url-state-machine\");\n\nexports.implementation = class URLImpl {\n  constructor(constructorArgs) {\n    const url = constructorArgs[0];\n    const base = constructorArgs[1];\n\n    let parsedBase = null;\n    if (base !== undefined) {\n      parsedBase = usm.basicURLParse(base);\n      if (parsedBase === \"failure\") {\n        throw new TypeError(\"Invalid base URL\");\n      }\n    }\n\n    const parsedURL = usm.basicURLParse(url, { baseURL: parsedBase });\n    if (parsedURL === \"failure\") {\n      throw new TypeError(\"Invalid URL\");\n    }\n\n    this._url = parsedURL;\n\n    // TODO: query stuff\n  }\n\n  get href() {\n    return usm.serializeURL(this._url);\n  }\n\n  set href(v) {\n    const parsedURL = usm.basicURLParse(v);\n    if (parsedURL === \"failure\") {\n      throw new TypeError(\"Invalid URL\");\n    }\n\n    this._url = parsedURL;\n  }\n\n  get origin() {\n    return usm.serializeURLOrigin(this._url);\n  }\n\n  get protocol() {\n    return this._url.scheme + \":\";\n  }\n\n  set protocol(v) {\n    usm.basicURLParse(v + \":\", { url: this._url, stateOverride: \"scheme start\" });\n  }\n\n  get username() {\n    return this._url.username;\n  }\n\n  set username(v) {\n    if (usm.cannotHaveAUsernamePasswordPort(this._url)) {\n      return;\n    }\n\n    usm.setTheUsername(this._url, v);\n  }\n\n  get password() {\n    return this._url.password;\n  }\n\n  set password(v) {\n    if (usm.cannotHaveAUsernamePasswordPort(this._url)) {\n      return;\n    }\n\n    usm.setThePassword(this._url, v);\n  }\n\n  get host() {\n    const url = this._url;\n\n    if (url.host === null) {\n      return \"\";\n    }\n\n    if (url.port === null) {\n      return usm.serializeHost(url.host);\n    }\n\n    return usm.serializeHost(url.host) + \":\" + usm.serializeInteger(url.port);\n  }\n\n  set host(v) {\n    if (this._url.cannotBeABaseURL) {\n      return;\n    }\n\n    usm.basicURLParse(v, { url: this._url, stateOverride: \"host\" });\n  }\n\n  get hostname() {\n    if (this._url.host === null) {\n      return \"\";\n    }\n\n    return usm.serializeHost(this._url.host);\n  }\n\n  set hostname(v) {\n    if (this._url.cannotBeABaseURL) {\n      return;\n    }\n\n    usm.basicURLParse(v, { url: this._url, stateOverride: \"hostname\" });\n  }\n\n  get port() {\n    if (this._url.port === null) {\n      return \"\";\n    }\n\n    return usm.serializeInteger(this._url.port);\n  }\n\n  set port(v) {\n    if (usm.cannotHaveAUsernamePasswordPort(this._url)) {\n      return;\n    }\n\n    if (v === \"\") {\n      this._url.port = null;\n    } else {\n      usm.basicURLParse(v, { url: this._url, stateOverride: \"port\" });\n    }\n  }\n\n  get pathname() {\n    if (this._url.cannotBeABaseURL) {\n      return this._url.path[0];\n    }\n\n    if (this._url.path.length === 0) {\n      return \"\";\n    }\n\n    return \"/\" + this._url.path.join(\"/\");\n  }\n\n  set pathname(v) {\n    if (this._url.cannotBeABaseURL) {\n      return;\n    }\n\n    this._url.path = [];\n    usm.basicURLParse(v, { url: this._url, stateOverride: \"path start\" });\n  }\n\n  get search() {\n    if (this._url.query === null || this._url.query === \"\") {\n      return \"\";\n    }\n\n    return \"?\" + this._url.query;\n  }\n\n  set search(v) {\n    // TODO: query stuff\n\n    const url = this._url;\n\n    if (v === \"\") {\n      url.query = null;\n      return;\n    }\n\n    const input = v[0] === \"?\" ? v.substring(1) : v;\n    url.query = \"\";\n    usm.basicURLParse(input, { url, stateOverride: \"query\" });\n  }\n\n  get hash() {\n    if (this._url.fragment === null || this._url.fragment === \"\") {\n      return \"\";\n    }\n\n    return \"#\" + this._url.fragment;\n  }\n\n  set hash(v) {\n    if (v === \"\") {\n      this._url.fragment = null;\n      return;\n    }\n\n    const input = v[0] === \"#\" ? v.substring(1) : v;\n    this._url.fragment = \"\";\n    usm.basicURLParse(input, { url: this._url, stateOverride: \"fragment\" });\n  }\n\n  toJSON() {\n    return this.href;\n  }\n};\n","\"use strict\";\n\nconst conversions = require(\"webidl-conversions\");\nconst utils = require(\"./utils.js\");\nconst Impl = require(\".//URL-impl.js\");\n\nconst impl = utils.implSymbol;\n\nfunction URL(url) {\n  if (!this || this[impl] || !(this instanceof URL)) {\n    throw new TypeError(\"Failed to construct 'URL': Please use the 'new' operator, this DOM object constructor cannot be called as a function.\");\n  }\n  if (arguments.length < 1) {\n    throw new TypeError(\"Failed to construct 'URL': 1 argument required, but only \" + arguments.length + \" present.\");\n  }\n  const args = [];\n  for (let i = 0; i < arguments.length && i < 2; ++i) {\n    args[i] = arguments[i];\n  }\n  args[0] = conversions[\"USVString\"](args[0]);\n  if (args[1] !== undefined) {\n  args[1] = conversions[\"USVString\"](args[1]);\n  }\n\n  module.exports.setup(this, args);\n}\n\nURL.prototype.toJSON = function toJSON() {\n  if (!this || !module.exports.is(this)) {\n    throw new TypeError(\"Illegal invocation\");\n  }\n  const args = [];\n  for (let i = 0; i < arguments.length && i < 0; ++i) {\n    args[i] = arguments[i];\n  }\n  return this[impl].toJSON.apply(this[impl], args);\n};\nObject.defineProperty(URL.prototype, \"href\", {\n  get() {\n    return this[impl].href;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].href = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nURL.prototype.toString = function () {\n  if (!this || !module.exports.is(this)) {\n    throw new TypeError(\"Illegal invocation\");\n  }\n  return this.href;\n};\n\nObject.defineProperty(URL.prototype, \"origin\", {\n  get() {\n    return this[impl].origin;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"protocol\", {\n  get() {\n    return this[impl].protocol;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].protocol = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"username\", {\n  get() {\n    return this[impl].username;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].username = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"password\", {\n  get() {\n    return this[impl].password;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].password = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"host\", {\n  get() {\n    return this[impl].host;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].host = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"hostname\", {\n  get() {\n    return this[impl].hostname;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].hostname = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"port\", {\n  get() {\n    return this[impl].port;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].port = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"pathname\", {\n  get() {\n    return this[impl].pathname;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].pathname = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"search\", {\n  get() {\n    return this[impl].search;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].search = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"hash\", {\n  get() {\n    return this[impl].hash;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].hash = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\n\nmodule.exports = {\n  is(obj) {\n    return !!obj && obj[impl] instanceof Impl.implementation;\n  },\n  create(constructorArgs, privateData) {\n    let obj = Object.create(URL.prototype);\n    this.setup(obj, constructorArgs, privateData);\n    return obj;\n  },\n  setup(obj, constructorArgs, privateData) {\n    if (!privateData) privateData = {};\n    privateData.wrapper = obj;\n\n    obj[impl] = new Impl.implementation(constructorArgs, privateData);\n    obj[impl][utils.wrapperSymbol] = obj;\n  },\n  interface: URL,\n  expose: {\n    Window: { URL: URL },\n    Worker: { URL: URL }\n  }\n};\n\n","\"use strict\";\n\nexports.URL = require(\"./URL\").interface;\nexports.serializeURL = require(\"./url-state-machine\").serializeURL;\nexports.serializeURLOrigin = require(\"./url-state-machine\").serializeURLOrigin;\nexports.basicURLParse = require(\"./url-state-machine\").basicURLParse;\nexports.setTheUsername = require(\"./url-state-machine\").setTheUsername;\nexports.setThePassword = require(\"./url-state-machine\").setThePassword;\nexports.serializeHost = require(\"./url-state-machine\").serializeHost;\nexports.serializeInteger = require(\"./url-state-machine\").serializeInteger;\nexports.parseURL = require(\"./url-state-machine\").parseURL;\n","import Stream from 'stream';\nimport http from 'http';\nimport Url from 'url';\nimport whatwgUrl from 'whatwg-url';\nimport https from 'https';\nimport zlib from 'zlib';\n\n// Based on https://github.com/tmpvar/jsdom/blob/aa85b2abf07766ff7bf5c1f6daafb3726f2f2db5/lib/jsdom/living/blob.js\n\n// fix for \"Readable\" isn't a named export issue\nconst Readable = Stream.Readable;\n\nconst BUFFER = Symbol('buffer');\nconst TYPE = Symbol('type');\n\nclass Blob {\n\tconstructor() {\n\t\tthis[TYPE] = '';\n\n\t\tconst blobParts = arguments[0];\n\t\tconst options = arguments[1];\n\n\t\tconst buffers = [];\n\t\tlet size = 0;\n\n\t\tif (blobParts) {\n\t\t\tconst a = blobParts;\n\t\t\tconst length = Number(a.length);\n\t\t\tfor (let i = 0; i < length; i++) {\n\t\t\t\tconst element = a[i];\n\t\t\t\tlet buffer;\n\t\t\t\tif (element instanceof Buffer) {\n\t\t\t\t\tbuffer = element;\n\t\t\t\t} else if (ArrayBuffer.isView(element)) {\n\t\t\t\t\tbuffer = Buffer.from(element.buffer, element.byteOffset, element.byteLength);\n\t\t\t\t} else if (element instanceof ArrayBuffer) {\n\t\t\t\t\tbuffer = Buffer.from(element);\n\t\t\t\t} else if (element instanceof Blob) {\n\t\t\t\t\tbuffer = element[BUFFER];\n\t\t\t\t} else {\n\t\t\t\t\tbuffer = Buffer.from(typeof element === 'string' ? element : String(element));\n\t\t\t\t}\n\t\t\t\tsize += buffer.length;\n\t\t\t\tbuffers.push(buffer);\n\t\t\t}\n\t\t}\n\n\t\tthis[BUFFER] = Buffer.concat(buffers);\n\n\t\tlet type = options && options.type !== undefined && String(options.type).toLowerCase();\n\t\tif (type && !/[^\\u0020-\\u007E]/.test(type)) {\n\t\t\tthis[TYPE] = type;\n\t\t}\n\t}\n\tget size() {\n\t\treturn this[BUFFER].length;\n\t}\n\tget type() {\n\t\treturn this[TYPE];\n\t}\n\ttext() {\n\t\treturn Promise.resolve(this[BUFFER].toString());\n\t}\n\tarrayBuffer() {\n\t\tconst buf = this[BUFFER];\n\t\tconst ab = buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.byteLength);\n\t\treturn Promise.resolve(ab);\n\t}\n\tstream() {\n\t\tconst readable = new Readable();\n\t\treadable._read = function () {};\n\t\treadable.push(this[BUFFER]);\n\t\treadable.push(null);\n\t\treturn readable;\n\t}\n\ttoString() {\n\t\treturn '[object Blob]';\n\t}\n\tslice() {\n\t\tconst size = this.size;\n\n\t\tconst start = arguments[0];\n\t\tconst end = arguments[1];\n\t\tlet relativeStart, relativeEnd;\n\t\tif (start === undefined) {\n\t\t\trelativeStart = 0;\n\t\t} else if (start < 0) {\n\t\t\trelativeStart = Math.max(size + start, 0);\n\t\t} else {\n\t\t\trelativeStart = Math.min(start, size);\n\t\t}\n\t\tif (end === undefined) {\n\t\t\trelativeEnd = size;\n\t\t} else if (end < 0) {\n\t\t\trelativeEnd = Math.max(size + end, 0);\n\t\t} else {\n\t\t\trelativeEnd = Math.min(end, size);\n\t\t}\n\t\tconst span = Math.max(relativeEnd - relativeStart, 0);\n\n\t\tconst buffer = this[BUFFER];\n\t\tconst slicedBuffer = buffer.slice(relativeStart, relativeStart + span);\n\t\tconst blob = new Blob([], { type: arguments[2] });\n\t\tblob[BUFFER] = slicedBuffer;\n\t\treturn blob;\n\t}\n}\n\nObject.defineProperties(Blob.prototype, {\n\tsize: { enumerable: true },\n\ttype: { enumerable: true },\n\tslice: { enumerable: true }\n});\n\nObject.defineProperty(Blob.prototype, Symbol.toStringTag, {\n\tvalue: 'Blob',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\n/**\n * fetch-error.js\n *\n * FetchError interface for operational errors\n */\n\n/**\n * Create FetchError instance\n *\n * @param   String      message      Error message for human\n * @param   String      type         Error type for machine\n * @param   String      systemError  For Node.js system error\n * @return  FetchError\n */\nfunction FetchError(message, type, systemError) {\n  Error.call(this, message);\n\n  this.message = message;\n  this.type = type;\n\n  // when err.type is `system`, err.code contains system error code\n  if (systemError) {\n    this.code = this.errno = systemError.code;\n  }\n\n  // hide custom error implementation details from end-users\n  Error.captureStackTrace(this, this.constructor);\n}\n\nFetchError.prototype = Object.create(Error.prototype);\nFetchError.prototype.constructor = FetchError;\nFetchError.prototype.name = 'FetchError';\n\nlet convert;\ntry {\n\tconvert = require('encoding').convert;\n} catch (e) {}\n\nconst INTERNALS = Symbol('Body internals');\n\n// fix an issue where \"PassThrough\" isn't a named export for node <10\nconst PassThrough = Stream.PassThrough;\n\n/**\n * Body mixin\n *\n * Ref: https://fetch.spec.whatwg.org/#body\n *\n * @param   Stream  body  Readable stream\n * @param   Object  opts  Response options\n * @return  Void\n */\nfunction Body(body) {\n\tvar _this = this;\n\n\tvar _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n\t    _ref$size = _ref.size;\n\n\tlet size = _ref$size === undefined ? 0 : _ref$size;\n\tvar _ref$timeout = _ref.timeout;\n\tlet timeout = _ref$timeout === undefined ? 0 : _ref$timeout;\n\n\tif (body == null) {\n\t\t// body is undefined or null\n\t\tbody = null;\n\t} else if (isURLSearchParams(body)) {\n\t\t// body is a URLSearchParams\n\t\tbody = Buffer.from(body.toString());\n\t} else if (isBlob(body)) ; else if (Buffer.isBuffer(body)) ; else if (Object.prototype.toString.call(body) === '[object ArrayBuffer]') {\n\t\t// body is ArrayBuffer\n\t\tbody = Buffer.from(body);\n\t} else if (ArrayBuffer.isView(body)) {\n\t\t// body is ArrayBufferView\n\t\tbody = Buffer.from(body.buffer, body.byteOffset, body.byteLength);\n\t} else if (body instanceof Stream) ; else {\n\t\t// none of the above\n\t\t// coerce to string then buffer\n\t\tbody = Buffer.from(String(body));\n\t}\n\tthis[INTERNALS] = {\n\t\tbody,\n\t\tdisturbed: false,\n\t\terror: null\n\t};\n\tthis.size = size;\n\tthis.timeout = timeout;\n\n\tif (body instanceof Stream) {\n\t\tbody.on('error', function (err) {\n\t\t\tconst error = err.name === 'AbortError' ? err : new FetchError(`Invalid response body while trying to fetch ${_this.url}: ${err.message}`, 'system', err);\n\t\t\t_this[INTERNALS].error = error;\n\t\t});\n\t}\n}\n\nBody.prototype = {\n\tget body() {\n\t\treturn this[INTERNALS].body;\n\t},\n\n\tget bodyUsed() {\n\t\treturn this[INTERNALS].disturbed;\n\t},\n\n\t/**\n  * Decode response as ArrayBuffer\n  *\n  * @return  Promise\n  */\n\tarrayBuffer() {\n\t\treturn consumeBody.call(this).then(function (buf) {\n\t\t\treturn buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.byteLength);\n\t\t});\n\t},\n\n\t/**\n  * Return raw response as Blob\n  *\n  * @return Promise\n  */\n\tblob() {\n\t\tlet ct = this.headers && this.headers.get('content-type') || '';\n\t\treturn consumeBody.call(this).then(function (buf) {\n\t\t\treturn Object.assign(\n\t\t\t// Prevent copying\n\t\t\tnew Blob([], {\n\t\t\t\ttype: ct.toLowerCase()\n\t\t\t}), {\n\t\t\t\t[BUFFER]: buf\n\t\t\t});\n\t\t});\n\t},\n\n\t/**\n  * Decode response as json\n  *\n  * @return  Promise\n  */\n\tjson() {\n\t\tvar _this2 = this;\n\n\t\treturn consumeBody.call(this).then(function (buffer) {\n\t\t\ttry {\n\t\t\t\treturn JSON.parse(buffer.toString());\n\t\t\t} catch (err) {\n\t\t\t\treturn Body.Promise.reject(new FetchError(`invalid json response body at ${_this2.url} reason: ${err.message}`, 'invalid-json'));\n\t\t\t}\n\t\t});\n\t},\n\n\t/**\n  * Decode response as text\n  *\n  * @return  Promise\n  */\n\ttext() {\n\t\treturn consumeBody.call(this).then(function (buffer) {\n\t\t\treturn buffer.toString();\n\t\t});\n\t},\n\n\t/**\n  * Decode response as buffer (non-spec api)\n  *\n  * @return  Promise\n  */\n\tbuffer() {\n\t\treturn consumeBody.call(this);\n\t},\n\n\t/**\n  * Decode response as text, while automatically detecting the encoding and\n  * trying to decode to UTF-8 (non-spec api)\n  *\n  * @return  Promise\n  */\n\ttextConverted() {\n\t\tvar _this3 = this;\n\n\t\treturn consumeBody.call(this).then(function (buffer) {\n\t\t\treturn convertBody(buffer, _this3.headers);\n\t\t});\n\t}\n};\n\n// In browsers, all properties are enumerable.\nObject.defineProperties(Body.prototype, {\n\tbody: { enumerable: true },\n\tbodyUsed: { enumerable: true },\n\tarrayBuffer: { enumerable: true },\n\tblob: { enumerable: true },\n\tjson: { enumerable: true },\n\ttext: { enumerable: true }\n});\n\nBody.mixIn = function (proto) {\n\tfor (const name of Object.getOwnPropertyNames(Body.prototype)) {\n\t\t// istanbul ignore else: future proof\n\t\tif (!(name in proto)) {\n\t\t\tconst desc = Object.getOwnPropertyDescriptor(Body.prototype, name);\n\t\t\tObject.defineProperty(proto, name, desc);\n\t\t}\n\t}\n};\n\n/**\n * Consume and convert an entire Body to a Buffer.\n *\n * Ref: https://fetch.spec.whatwg.org/#concept-body-consume-body\n *\n * @return  Promise\n */\nfunction consumeBody() {\n\tvar _this4 = this;\n\n\tif (this[INTERNALS].disturbed) {\n\t\treturn Body.Promise.reject(new TypeError(`body used already for: ${this.url}`));\n\t}\n\n\tthis[INTERNALS].disturbed = true;\n\n\tif (this[INTERNALS].error) {\n\t\treturn Body.Promise.reject(this[INTERNALS].error);\n\t}\n\n\tlet body = this.body;\n\n\t// body is null\n\tif (body === null) {\n\t\treturn Body.Promise.resolve(Buffer.alloc(0));\n\t}\n\n\t// body is blob\n\tif (isBlob(body)) {\n\t\tbody = body.stream();\n\t}\n\n\t// body is buffer\n\tif (Buffer.isBuffer(body)) {\n\t\treturn Body.Promise.resolve(body);\n\t}\n\n\t// istanbul ignore if: should never happen\n\tif (!(body instanceof Stream)) {\n\t\treturn Body.Promise.resolve(Buffer.alloc(0));\n\t}\n\n\t// body is stream\n\t// get ready to actually consume the body\n\tlet accum = [];\n\tlet accumBytes = 0;\n\tlet abort = false;\n\n\treturn new Body.Promise(function (resolve, reject) {\n\t\tlet resTimeout;\n\n\t\t// allow timeout on slow response body\n\t\tif (_this4.timeout) {\n\t\t\tresTimeout = setTimeout(function () {\n\t\t\t\tabort = true;\n\t\t\t\treject(new FetchError(`Response timeout while trying to fetch ${_this4.url} (over ${_this4.timeout}ms)`, 'body-timeout'));\n\t\t\t}, _this4.timeout);\n\t\t}\n\n\t\t// handle stream errors\n\t\tbody.on('error', function (err) {\n\t\t\tif (err.name === 'AbortError') {\n\t\t\t\t// if the request was aborted, reject with this Error\n\t\t\t\tabort = true;\n\t\t\t\treject(err);\n\t\t\t} else {\n\t\t\t\t// other errors, such as incorrect content-encoding\n\t\t\t\treject(new FetchError(`Invalid response body while trying to fetch ${_this4.url}: ${err.message}`, 'system', err));\n\t\t\t}\n\t\t});\n\n\t\tbody.on('data', function (chunk) {\n\t\t\tif (abort || chunk === null) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (_this4.size && accumBytes + chunk.length > _this4.size) {\n\t\t\t\tabort = true;\n\t\t\t\treject(new FetchError(`content size at ${_this4.url} over limit: ${_this4.size}`, 'max-size'));\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\taccumBytes += chunk.length;\n\t\t\taccum.push(chunk);\n\t\t});\n\n\t\tbody.on('end', function () {\n\t\t\tif (abort) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tclearTimeout(resTimeout);\n\n\t\t\ttry {\n\t\t\t\tresolve(Buffer.concat(accum, accumBytes));\n\t\t\t} catch (err) {\n\t\t\t\t// handle streams that have accumulated too much data (issue #414)\n\t\t\t\treject(new FetchError(`Could not create Buffer from response body for ${_this4.url}: ${err.message}`, 'system', err));\n\t\t\t}\n\t\t});\n\t});\n}\n\n/**\n * Detect buffer encoding and convert to target encoding\n * ref: http://www.w3.org/TR/2011/WD-html5-20110113/parsing.html#determining-the-character-encoding\n *\n * @param   Buffer  buffer    Incoming buffer\n * @param   String  encoding  Target encoding\n * @return  String\n */\nfunction convertBody(buffer, headers) {\n\tif (typeof convert !== 'function') {\n\t\tthrow new Error('The package `encoding` must be installed to use the textConverted() function');\n\t}\n\n\tconst ct = headers.get('content-type');\n\tlet charset = 'utf-8';\n\tlet res, str;\n\n\t// header\n\tif (ct) {\n\t\tres = /charset=([^;]*)/i.exec(ct);\n\t}\n\n\t// no charset in content type, peek at response body for at most 1024 bytes\n\tstr = buffer.slice(0, 1024).toString();\n\n\t// html5\n\tif (!res && str) {\n\t\tres = /<meta.+?charset=(['\"])(.+?)\\1/i.exec(str);\n\t}\n\n\t// html4\n\tif (!res && str) {\n\t\tres = /<meta[\\s]+?http-equiv=(['\"])content-type\\1[\\s]+?content=(['\"])(.+?)\\2/i.exec(str);\n\t\tif (!res) {\n\t\t\tres = /<meta[\\s]+?content=(['\"])(.+?)\\1[\\s]+?http-equiv=(['\"])content-type\\3/i.exec(str);\n\t\t\tif (res) {\n\t\t\t\tres.pop(); // drop last quote\n\t\t\t}\n\t\t}\n\n\t\tif (res) {\n\t\t\tres = /charset=(.*)/i.exec(res.pop());\n\t\t}\n\t}\n\n\t// xml\n\tif (!res && str) {\n\t\tres = /<\\?xml.+?encoding=(['\"])(.+?)\\1/i.exec(str);\n\t}\n\n\t// found charset\n\tif (res) {\n\t\tcharset = res.pop();\n\n\t\t// prevent decode issues when sites use incorrect encoding\n\t\t// ref: https://hsivonen.fi/encoding-menu/\n\t\tif (charset === 'gb2312' || charset === 'gbk') {\n\t\t\tcharset = 'gb18030';\n\t\t}\n\t}\n\n\t// turn raw buffers into a single utf-8 buffer\n\treturn convert(buffer, 'UTF-8', charset).toString();\n}\n\n/**\n * Detect a URLSearchParams object\n * ref: https://github.com/bitinn/node-fetch/issues/296#issuecomment-307598143\n *\n * @param   Object  obj     Object to detect by type or brand\n * @return  String\n */\nfunction isURLSearchParams(obj) {\n\t// Duck-typing as a necessary condition.\n\tif (typeof obj !== 'object' || typeof obj.append !== 'function' || typeof obj.delete !== 'function' || typeof obj.get !== 'function' || typeof obj.getAll !== 'function' || typeof obj.has !== 'function' || typeof obj.set !== 'function') {\n\t\treturn false;\n\t}\n\n\t// Brand-checking and more duck-typing as optional condition.\n\treturn obj.constructor.name === 'URLSearchParams' || Object.prototype.toString.call(obj) === '[object URLSearchParams]' || typeof obj.sort === 'function';\n}\n\n/**\n * Check if `obj` is a W3C `Blob` object (which `File` inherits from)\n * @param  {*} obj\n * @return {boolean}\n */\nfunction isBlob(obj) {\n\treturn typeof obj === 'object' && typeof obj.arrayBuffer === 'function' && typeof obj.type === 'string' && typeof obj.stream === 'function' && typeof obj.constructor === 'function' && typeof obj.constructor.name === 'string' && /^(Blob|File)$/.test(obj.constructor.name) && /^(Blob|File)$/.test(obj[Symbol.toStringTag]);\n}\n\n/**\n * Clone body given Res/Req instance\n *\n * @param   Mixed  instance  Response or Request instance\n * @return  Mixed\n */\nfunction clone(instance) {\n\tlet p1, p2;\n\tlet body = instance.body;\n\n\t// don't allow cloning a used body\n\tif (instance.bodyUsed) {\n\t\tthrow new Error('cannot clone body after it is used');\n\t}\n\n\t// check that body is a stream and not form-data object\n\t// note: we can't clone the form-data object without having it as a dependency\n\tif (body instanceof Stream && typeof body.getBoundary !== 'function') {\n\t\t// tee instance body\n\t\tp1 = new PassThrough();\n\t\tp2 = new PassThrough();\n\t\tbody.pipe(p1);\n\t\tbody.pipe(p2);\n\t\t// set instance body to teed body and return the other teed body\n\t\tinstance[INTERNALS].body = p1;\n\t\tbody = p2;\n\t}\n\n\treturn body;\n}\n\n/**\n * Performs the operation \"extract a `Content-Type` value from |object|\" as\n * specified in the specification:\n * https://fetch.spec.whatwg.org/#concept-bodyinit-extract\n *\n * This function assumes that instance.body is present.\n *\n * @param   Mixed  instance  Any options.body input\n */\nfunction extractContentType(body) {\n\tif (body === null) {\n\t\t// body is null\n\t\treturn null;\n\t} else if (typeof body === 'string') {\n\t\t// body is string\n\t\treturn 'text/plain;charset=UTF-8';\n\t} else if (isURLSearchParams(body)) {\n\t\t// body is a URLSearchParams\n\t\treturn 'application/x-www-form-urlencoded;charset=UTF-8';\n\t} else if (isBlob(body)) {\n\t\t// body is blob\n\t\treturn body.type || null;\n\t} else if (Buffer.isBuffer(body)) {\n\t\t// body is buffer\n\t\treturn null;\n\t} else if (Object.prototype.toString.call(body) === '[object ArrayBuffer]') {\n\t\t// body is ArrayBuffer\n\t\treturn null;\n\t} else if (ArrayBuffer.isView(body)) {\n\t\t// body is ArrayBufferView\n\t\treturn null;\n\t} else if (typeof body.getBoundary === 'function') {\n\t\t// detect form data input from form-data module\n\t\treturn `multipart/form-data;boundary=${body.getBoundary()}`;\n\t} else if (body instanceof Stream) {\n\t\t// body is stream\n\t\t// can't really do much about this\n\t\treturn null;\n\t} else {\n\t\t// Body constructor defaults other things to string\n\t\treturn 'text/plain;charset=UTF-8';\n\t}\n}\n\n/**\n * The Fetch Standard treats this as if \"total bytes\" is a property on the body.\n * For us, we have to explicitly get it with a function.\n *\n * ref: https://fetch.spec.whatwg.org/#concept-body-total-bytes\n *\n * @param   Body    instance   Instance of Body\n * @return  Number?            Number of bytes, or null if not possible\n */\nfunction getTotalBytes(instance) {\n\tconst body = instance.body;\n\n\n\tif (body === null) {\n\t\t// body is null\n\t\treturn 0;\n\t} else if (isBlob(body)) {\n\t\treturn body.size;\n\t} else if (Buffer.isBuffer(body)) {\n\t\t// body is buffer\n\t\treturn body.length;\n\t} else if (body && typeof body.getLengthSync === 'function') {\n\t\t// detect form data input from form-data module\n\t\tif (body._lengthRetrievers && body._lengthRetrievers.length == 0 || // 1.x\n\t\tbody.hasKnownLength && body.hasKnownLength()) {\n\t\t\t// 2.x\n\t\t\treturn body.getLengthSync();\n\t\t}\n\t\treturn null;\n\t} else {\n\t\t// body is stream\n\t\treturn null;\n\t}\n}\n\n/**\n * Write a Body to a Node.js WritableStream (e.g. http.Request) object.\n *\n * @param   Body    instance   Instance of Body\n * @return  Void\n */\nfunction writeToStream(dest, instance) {\n\tconst body = instance.body;\n\n\n\tif (body === null) {\n\t\t// body is null\n\t\tdest.end();\n\t} else if (isBlob(body)) {\n\t\tbody.stream().pipe(dest);\n\t} else if (Buffer.isBuffer(body)) {\n\t\t// body is buffer\n\t\tdest.write(body);\n\t\tdest.end();\n\t} else {\n\t\t// body is stream\n\t\tbody.pipe(dest);\n\t}\n}\n\n// expose Promise\nBody.Promise = global.Promise;\n\n/**\n * headers.js\n *\n * Headers class offers convenient helpers\n */\n\nconst invalidTokenRegex = /[^\\^_`a-zA-Z\\-0-9!#$%&'*+.|~]/;\nconst invalidHeaderCharRegex = /[^\\t\\x20-\\x7e\\x80-\\xff]/;\n\nfunction validateName(name) {\n\tname = `${name}`;\n\tif (invalidTokenRegex.test(name) || name === '') {\n\t\tthrow new TypeError(`${name} is not a legal HTTP header name`);\n\t}\n}\n\nfunction validateValue(value) {\n\tvalue = `${value}`;\n\tif (invalidHeaderCharRegex.test(value)) {\n\t\tthrow new TypeError(`${value} is not a legal HTTP header value`);\n\t}\n}\n\n/**\n * Find the key in the map object given a header name.\n *\n * Returns undefined if not found.\n *\n * @param   String  name  Header name\n * @return  String|Undefined\n */\nfunction find(map, name) {\n\tname = name.toLowerCase();\n\tfor (const key in map) {\n\t\tif (key.toLowerCase() === name) {\n\t\t\treturn key;\n\t\t}\n\t}\n\treturn undefined;\n}\n\nconst MAP = Symbol('map');\nclass Headers {\n\t/**\n  * Headers class\n  *\n  * @param   Object  headers  Response headers\n  * @return  Void\n  */\n\tconstructor() {\n\t\tlet init = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n\n\t\tthis[MAP] = Object.create(null);\n\n\t\tif (init instanceof Headers) {\n\t\t\tconst rawHeaders = init.raw();\n\t\t\tconst headerNames = Object.keys(rawHeaders);\n\n\t\t\tfor (const headerName of headerNames) {\n\t\t\t\tfor (const value of rawHeaders[headerName]) {\n\t\t\t\t\tthis.append(headerName, value);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\t// We don't worry about converting prop to ByteString here as append()\n\t\t// will handle it.\n\t\tif (init == null) ; else if (typeof init === 'object') {\n\t\t\tconst method = init[Symbol.iterator];\n\t\t\tif (method != null) {\n\t\t\t\tif (typeof method !== 'function') {\n\t\t\t\t\tthrow new TypeError('Header pairs must be iterable');\n\t\t\t\t}\n\n\t\t\t\t// sequence<sequence<ByteString>>\n\t\t\t\t// Note: per spec we have to first exhaust the lists then process them\n\t\t\t\tconst pairs = [];\n\t\t\t\tfor (const pair of init) {\n\t\t\t\t\tif (typeof pair !== 'object' || typeof pair[Symbol.iterator] !== 'function') {\n\t\t\t\t\t\tthrow new TypeError('Each header pair must be iterable');\n\t\t\t\t\t}\n\t\t\t\t\tpairs.push(Array.from(pair));\n\t\t\t\t}\n\n\t\t\t\tfor (const pair of pairs) {\n\t\t\t\t\tif (pair.length !== 2) {\n\t\t\t\t\t\tthrow new TypeError('Each header pair must be a name/value tuple');\n\t\t\t\t\t}\n\t\t\t\t\tthis.append(pair[0], pair[1]);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// record<ByteString, ByteString>\n\t\t\t\tfor (const key of Object.keys(init)) {\n\t\t\t\t\tconst value = init[key];\n\t\t\t\t\tthis.append(key, value);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tthrow new TypeError('Provided initializer must be an object');\n\t\t}\n\t}\n\n\t/**\n  * Return combined header value given name\n  *\n  * @param   String  name  Header name\n  * @return  Mixed\n  */\n\tget(name) {\n\t\tname = `${name}`;\n\t\tvalidateName(name);\n\t\tconst key = find(this[MAP], name);\n\t\tif (key === undefined) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn this[MAP][key].join(', ');\n\t}\n\n\t/**\n  * Iterate over all headers\n  *\n  * @param   Function  callback  Executed for each item with parameters (value, name, thisArg)\n  * @param   Boolean   thisArg   `this` context for callback function\n  * @return  Void\n  */\n\tforEach(callback) {\n\t\tlet thisArg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n\n\t\tlet pairs = getHeaders(this);\n\t\tlet i = 0;\n\t\twhile (i < pairs.length) {\n\t\t\tvar _pairs$i = pairs[i];\n\t\t\tconst name = _pairs$i[0],\n\t\t\t      value = _pairs$i[1];\n\n\t\t\tcallback.call(thisArg, value, name, this);\n\t\t\tpairs = getHeaders(this);\n\t\t\ti++;\n\t\t}\n\t}\n\n\t/**\n  * Overwrite header values given name\n  *\n  * @param   String  name   Header name\n  * @param   String  value  Header value\n  * @return  Void\n  */\n\tset(name, value) {\n\t\tname = `${name}`;\n\t\tvalue = `${value}`;\n\t\tvalidateName(name);\n\t\tvalidateValue(value);\n\t\tconst key = find(this[MAP], name);\n\t\tthis[MAP][key !== undefined ? key : name] = [value];\n\t}\n\n\t/**\n  * Append a value onto existing header\n  *\n  * @param   String  name   Header name\n  * @param   String  value  Header value\n  * @return  Void\n  */\n\tappend(name, value) {\n\t\tname = `${name}`;\n\t\tvalue = `${value}`;\n\t\tvalidateName(name);\n\t\tvalidateValue(value);\n\t\tconst key = find(this[MAP], name);\n\t\tif (key !== undefined) {\n\t\t\tthis[MAP][key].push(value);\n\t\t} else {\n\t\t\tthis[MAP][name] = [value];\n\t\t}\n\t}\n\n\t/**\n  * Check for header name existence\n  *\n  * @param   String   name  Header name\n  * @return  Boolean\n  */\n\thas(name) {\n\t\tname = `${name}`;\n\t\tvalidateName(name);\n\t\treturn find(this[MAP], name) !== undefined;\n\t}\n\n\t/**\n  * Delete all header values given name\n  *\n  * @param   String  name  Header name\n  * @return  Void\n  */\n\tdelete(name) {\n\t\tname = `${name}`;\n\t\tvalidateName(name);\n\t\tconst key = find(this[MAP], name);\n\t\tif (key !== undefined) {\n\t\t\tdelete this[MAP][key];\n\t\t}\n\t}\n\n\t/**\n  * Return raw headers (non-spec api)\n  *\n  * @return  Object\n  */\n\traw() {\n\t\treturn this[MAP];\n\t}\n\n\t/**\n  * Get an iterator on keys.\n  *\n  * @return  Iterator\n  */\n\tkeys() {\n\t\treturn createHeadersIterator(this, 'key');\n\t}\n\n\t/**\n  * Get an iterator on values.\n  *\n  * @return  Iterator\n  */\n\tvalues() {\n\t\treturn createHeadersIterator(this, 'value');\n\t}\n\n\t/**\n  * Get an iterator on entries.\n  *\n  * This is the default iterator of the Headers object.\n  *\n  * @return  Iterator\n  */\n\t[Symbol.iterator]() {\n\t\treturn createHeadersIterator(this, 'key+value');\n\t}\n}\nHeaders.prototype.entries = Headers.prototype[Symbol.iterator];\n\nObject.defineProperty(Headers.prototype, Symbol.toStringTag, {\n\tvalue: 'Headers',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\nObject.defineProperties(Headers.prototype, {\n\tget: { enumerable: true },\n\tforEach: { enumerable: true },\n\tset: { enumerable: true },\n\tappend: { enumerable: true },\n\thas: { enumerable: true },\n\tdelete: { enumerable: true },\n\tkeys: { enumerable: true },\n\tvalues: { enumerable: true },\n\tentries: { enumerable: true }\n});\n\nfunction getHeaders(headers) {\n\tlet kind = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'key+value';\n\n\tconst keys = Object.keys(headers[MAP]).sort();\n\treturn keys.map(kind === 'key' ? function (k) {\n\t\treturn k.toLowerCase();\n\t} : kind === 'value' ? function (k) {\n\t\treturn headers[MAP][k].join(', ');\n\t} : function (k) {\n\t\treturn [k.toLowerCase(), headers[MAP][k].join(', ')];\n\t});\n}\n\nconst INTERNAL = Symbol('internal');\n\nfunction createHeadersIterator(target, kind) {\n\tconst iterator = Object.create(HeadersIteratorPrototype);\n\titerator[INTERNAL] = {\n\t\ttarget,\n\t\tkind,\n\t\tindex: 0\n\t};\n\treturn iterator;\n}\n\nconst HeadersIteratorPrototype = Object.setPrototypeOf({\n\tnext() {\n\t\t// istanbul ignore if\n\t\tif (!this || Object.getPrototypeOf(this) !== HeadersIteratorPrototype) {\n\t\t\tthrow new TypeError('Value of `this` is not a HeadersIterator');\n\t\t}\n\n\t\tvar _INTERNAL = this[INTERNAL];\n\t\tconst target = _INTERNAL.target,\n\t\t      kind = _INTERNAL.kind,\n\t\t      index = _INTERNAL.index;\n\n\t\tconst values = getHeaders(target, kind);\n\t\tconst len = values.length;\n\t\tif (index >= len) {\n\t\t\treturn {\n\t\t\t\tvalue: undefined,\n\t\t\t\tdone: true\n\t\t\t};\n\t\t}\n\n\t\tthis[INTERNAL].index = index + 1;\n\n\t\treturn {\n\t\t\tvalue: values[index],\n\t\t\tdone: false\n\t\t};\n\t}\n}, Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]())));\n\nObject.defineProperty(HeadersIteratorPrototype, Symbol.toStringTag, {\n\tvalue: 'HeadersIterator',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\n/**\n * Export the Headers object in a form that Node.js can consume.\n *\n * @param   Headers  headers\n * @return  Object\n */\nfunction exportNodeCompatibleHeaders(headers) {\n\tconst obj = Object.assign({ __proto__: null }, headers[MAP]);\n\n\t// http.request() only supports string as Host header. This hack makes\n\t// specifying custom Host header possible.\n\tconst hostHeaderKey = find(headers[MAP], 'Host');\n\tif (hostHeaderKey !== undefined) {\n\t\tobj[hostHeaderKey] = obj[hostHeaderKey][0];\n\t}\n\n\treturn obj;\n}\n\n/**\n * Create a Headers object from an object of headers, ignoring those that do\n * not conform to HTTP grammar productions.\n *\n * @param   Object  obj  Object of headers\n * @return  Headers\n */\nfunction createHeadersLenient(obj) {\n\tconst headers = new Headers();\n\tfor (const name of Object.keys(obj)) {\n\t\tif (invalidTokenRegex.test(name)) {\n\t\t\tcontinue;\n\t\t}\n\t\tif (Array.isArray(obj[name])) {\n\t\t\tfor (const val of obj[name]) {\n\t\t\t\tif (invalidHeaderCharRegex.test(val)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (headers[MAP][name] === undefined) {\n\t\t\t\t\theaders[MAP][name] = [val];\n\t\t\t\t} else {\n\t\t\t\t\theaders[MAP][name].push(val);\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (!invalidHeaderCharRegex.test(obj[name])) {\n\t\t\theaders[MAP][name] = [obj[name]];\n\t\t}\n\t}\n\treturn headers;\n}\n\nconst INTERNALS$1 = Symbol('Response internals');\n\n// fix an issue where \"STATUS_CODES\" aren't a named export for node <10\nconst STATUS_CODES = http.STATUS_CODES;\n\n/**\n * Response class\n *\n * @param   Stream  body  Readable stream\n * @param   Object  opts  Response options\n * @return  Void\n */\nclass Response {\n\tconstructor() {\n\t\tlet body = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\t\tlet opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\t\tBody.call(this, body, opts);\n\n\t\tconst status = opts.status || 200;\n\t\tconst headers = new Headers(opts.headers);\n\n\t\tif (body != null && !headers.has('Content-Type')) {\n\t\t\tconst contentType = extractContentType(body);\n\t\t\tif (contentType) {\n\t\t\t\theaders.append('Content-Type', contentType);\n\t\t\t}\n\t\t}\n\n\t\tthis[INTERNALS$1] = {\n\t\t\turl: opts.url,\n\t\t\tstatus,\n\t\t\tstatusText: opts.statusText || STATUS_CODES[status],\n\t\t\theaders,\n\t\t\tcounter: opts.counter\n\t\t};\n\t}\n\n\tget url() {\n\t\treturn this[INTERNALS$1].url || '';\n\t}\n\n\tget status() {\n\t\treturn this[INTERNALS$1].status;\n\t}\n\n\t/**\n  * Convenience property representing if the request ended normally\n  */\n\tget ok() {\n\t\treturn this[INTERNALS$1].status >= 200 && this[INTERNALS$1].status < 300;\n\t}\n\n\tget redirected() {\n\t\treturn this[INTERNALS$1].counter > 0;\n\t}\n\n\tget statusText() {\n\t\treturn this[INTERNALS$1].statusText;\n\t}\n\n\tget headers() {\n\t\treturn this[INTERNALS$1].headers;\n\t}\n\n\t/**\n  * Clone this response\n  *\n  * @return  Response\n  */\n\tclone() {\n\t\treturn new Response(clone(this), {\n\t\t\turl: this.url,\n\t\t\tstatus: this.status,\n\t\t\tstatusText: this.statusText,\n\t\t\theaders: this.headers,\n\t\t\tok: this.ok,\n\t\t\tredirected: this.redirected\n\t\t});\n\t}\n}\n\nBody.mixIn(Response.prototype);\n\nObject.defineProperties(Response.prototype, {\n\turl: { enumerable: true },\n\tstatus: { enumerable: true },\n\tok: { enumerable: true },\n\tredirected: { enumerable: true },\n\tstatusText: { enumerable: true },\n\theaders: { enumerable: true },\n\tclone: { enumerable: true }\n});\n\nObject.defineProperty(Response.prototype, Symbol.toStringTag, {\n\tvalue: 'Response',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\nconst INTERNALS$2 = Symbol('Request internals');\nconst URL = Url.URL || whatwgUrl.URL;\n\n// fix an issue where \"format\", \"parse\" aren't a named export for node <10\nconst parse_url = Url.parse;\nconst format_url = Url.format;\n\n/**\n * Wrapper around `new URL` to handle arbitrary URLs\n *\n * @param  {string} urlStr\n * @return {void}\n */\nfunction parseURL(urlStr) {\n\t/*\n \tCheck whether the URL is absolute or not\n \t\tScheme: https://tools.ietf.org/html/rfc3986#section-3.1\n \tAbsolute URL: https://tools.ietf.org/html/rfc3986#section-4.3\n */\n\tif (/^[a-zA-Z][a-zA-Z\\d+\\-.]*:/.exec(urlStr)) {\n\t\turlStr = new URL(urlStr).toString();\n\t}\n\n\t// Fallback to old implementation for arbitrary URLs\n\treturn parse_url(urlStr);\n}\n\nconst streamDestructionSupported = 'destroy' in Stream.Readable.prototype;\n\n/**\n * Check if a value is an instance of Request.\n *\n * @param   Mixed   input\n * @return  Boolean\n */\nfunction isRequest(input) {\n\treturn typeof input === 'object' && typeof input[INTERNALS$2] === 'object';\n}\n\nfunction isAbortSignal(signal) {\n\tconst proto = signal && typeof signal === 'object' && Object.getPrototypeOf(signal);\n\treturn !!(proto && proto.constructor.name === 'AbortSignal');\n}\n\n/**\n * Request class\n *\n * @param   Mixed   input  Url or Request instance\n * @param   Object  init   Custom options\n * @return  Void\n */\nclass Request {\n\tconstructor(input) {\n\t\tlet init = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\t\tlet parsedURL;\n\n\t\t// normalize input\n\t\tif (!isRequest(input)) {\n\t\t\tif (input && input.href) {\n\t\t\t\t// in order to support Node.js' Url objects; though WHATWG's URL objects\n\t\t\t\t// will fall into this branch also (since their `toString()` will return\n\t\t\t\t// `href` property anyway)\n\t\t\t\tparsedURL = parseURL(input.href);\n\t\t\t} else {\n\t\t\t\t// coerce input to a string before attempting to parse\n\t\t\t\tparsedURL = parseURL(`${input}`);\n\t\t\t}\n\t\t\tinput = {};\n\t\t} else {\n\t\t\tparsedURL = parseURL(input.url);\n\t\t}\n\n\t\tlet method = init.method || input.method || 'GET';\n\t\tmethod = method.toUpperCase();\n\n\t\tif ((init.body != null || isRequest(input) && input.body !== null) && (method === 'GET' || method === 'HEAD')) {\n\t\t\tthrow new TypeError('Request with GET/HEAD method cannot have body');\n\t\t}\n\n\t\tlet inputBody = init.body != null ? init.body : isRequest(input) && input.body !== null ? clone(input) : null;\n\n\t\tBody.call(this, inputBody, {\n\t\t\ttimeout: init.timeout || input.timeout || 0,\n\t\t\tsize: init.size || input.size || 0\n\t\t});\n\n\t\tconst headers = new Headers(init.headers || input.headers || {});\n\n\t\tif (inputBody != null && !headers.has('Content-Type')) {\n\t\t\tconst contentType = extractContentType(inputBody);\n\t\t\tif (contentType) {\n\t\t\t\theaders.append('Content-Type', contentType);\n\t\t\t}\n\t\t}\n\n\t\tlet signal = isRequest(input) ? input.signal : null;\n\t\tif ('signal' in init) signal = init.signal;\n\n\t\tif (signal != null && !isAbortSignal(signal)) {\n\t\t\tthrow new TypeError('Expected signal to be an instanceof AbortSignal');\n\t\t}\n\n\t\tthis[INTERNALS$2] = {\n\t\t\tmethod,\n\t\t\tredirect: init.redirect || input.redirect || 'follow',\n\t\t\theaders,\n\t\t\tparsedURL,\n\t\t\tsignal\n\t\t};\n\n\t\t// node-fetch-only options\n\t\tthis.follow = init.follow !== undefined ? init.follow : input.follow !== undefined ? input.follow : 20;\n\t\tthis.compress = init.compress !== undefined ? init.compress : input.compress !== undefined ? input.compress : true;\n\t\tthis.counter = init.counter || input.counter || 0;\n\t\tthis.agent = init.agent || input.agent;\n\t}\n\n\tget method() {\n\t\treturn this[INTERNALS$2].method;\n\t}\n\n\tget url() {\n\t\treturn format_url(this[INTERNALS$2].parsedURL);\n\t}\n\n\tget headers() {\n\t\treturn this[INTERNALS$2].headers;\n\t}\n\n\tget redirect() {\n\t\treturn this[INTERNALS$2].redirect;\n\t}\n\n\tget signal() {\n\t\treturn this[INTERNALS$2].signal;\n\t}\n\n\t/**\n  * Clone this request\n  *\n  * @return  Request\n  */\n\tclone() {\n\t\treturn new Request(this);\n\t}\n}\n\nBody.mixIn(Request.prototype);\n\nObject.defineProperty(Request.prototype, Symbol.toStringTag, {\n\tvalue: 'Request',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\nObject.defineProperties(Request.prototype, {\n\tmethod: { enumerable: true },\n\turl: { enumerable: true },\n\theaders: { enumerable: true },\n\tredirect: { enumerable: true },\n\tclone: { enumerable: true },\n\tsignal: { enumerable: true }\n});\n\n/**\n * Convert a Request to Node.js http request options.\n *\n * @param   Request  A Request instance\n * @return  Object   The options object to be passed to http.request\n */\nfunction getNodeRequestOptions(request) {\n\tconst parsedURL = request[INTERNALS$2].parsedURL;\n\tconst headers = new Headers(request[INTERNALS$2].headers);\n\n\t// fetch step 1.3\n\tif (!headers.has('Accept')) {\n\t\theaders.set('Accept', '*/*');\n\t}\n\n\t// Basic fetch\n\tif (!parsedURL.protocol || !parsedURL.hostname) {\n\t\tthrow new TypeError('Only absolute URLs are supported');\n\t}\n\n\tif (!/^https?:$/.test(parsedURL.protocol)) {\n\t\tthrow new TypeError('Only HTTP(S) protocols are supported');\n\t}\n\n\tif (request.signal && request.body instanceof Stream.Readable && !streamDestructionSupported) {\n\t\tthrow new Error('Cancellation of streamed requests with AbortSignal is not supported in node < 8');\n\t}\n\n\t// HTTP-network-or-cache fetch steps 2.4-2.7\n\tlet contentLengthValue = null;\n\tif (request.body == null && /^(POST|PUT)$/i.test(request.method)) {\n\t\tcontentLengthValue = '0';\n\t}\n\tif (request.body != null) {\n\t\tconst totalBytes = getTotalBytes(request);\n\t\tif (typeof totalBytes === 'number') {\n\t\t\tcontentLengthValue = String(totalBytes);\n\t\t}\n\t}\n\tif (contentLengthValue) {\n\t\theaders.set('Content-Length', contentLengthValue);\n\t}\n\n\t// HTTP-network-or-cache fetch step 2.11\n\tif (!headers.has('User-Agent')) {\n\t\theaders.set('User-Agent', 'node-fetch/1.0 (+https://github.com/bitinn/node-fetch)');\n\t}\n\n\t// HTTP-network-or-cache fetch step 2.15\n\tif (request.compress && !headers.has('Accept-Encoding')) {\n\t\theaders.set('Accept-Encoding', 'gzip,deflate');\n\t}\n\n\tlet agent = request.agent;\n\tif (typeof agent === 'function') {\n\t\tagent = agent(parsedURL);\n\t}\n\n\tif (!headers.has('Connection') && !agent) {\n\t\theaders.set('Connection', 'close');\n\t}\n\n\t// HTTP-network fetch step 4.2\n\t// chunked encoding is handled by Node.js\n\n\treturn Object.assign({}, parsedURL, {\n\t\tmethod: request.method,\n\t\theaders: exportNodeCompatibleHeaders(headers),\n\t\tagent\n\t});\n}\n\n/**\n * abort-error.js\n *\n * AbortError interface for cancelled requests\n */\n\n/**\n * Create AbortError instance\n *\n * @param   String      message      Error message for human\n * @return  AbortError\n */\nfunction AbortError(message) {\n  Error.call(this, message);\n\n  this.type = 'aborted';\n  this.message = message;\n\n  // hide custom error implementation details from end-users\n  Error.captureStackTrace(this, this.constructor);\n}\n\nAbortError.prototype = Object.create(Error.prototype);\nAbortError.prototype.constructor = AbortError;\nAbortError.prototype.name = 'AbortError';\n\nconst URL$1 = Url.URL || whatwgUrl.URL;\n\n// fix an issue where \"PassThrough\", \"resolve\" aren't a named export for node <10\nconst PassThrough$1 = Stream.PassThrough;\n\nconst isDomainOrSubdomain = function isDomainOrSubdomain(destination, original) {\n\tconst orig = new URL$1(original).hostname;\n\tconst dest = new URL$1(destination).hostname;\n\n\treturn orig === dest || orig[orig.length - dest.length - 1] === '.' && orig.endsWith(dest);\n};\n\n/**\n * Fetch function\n *\n * @param   Mixed    url   Absolute url or Request instance\n * @param   Object   opts  Fetch options\n * @return  Promise\n */\nfunction fetch(url, opts) {\n\n\t// allow custom promise\n\tif (!fetch.Promise) {\n\t\tthrow new Error('native promise missing, set fetch.Promise to your favorite alternative');\n\t}\n\n\tBody.Promise = fetch.Promise;\n\n\t// wrap http.request into fetch\n\treturn new fetch.Promise(function (resolve, reject) {\n\t\t// build request object\n\t\tconst request = new Request(url, opts);\n\t\tconst options = getNodeRequestOptions(request);\n\n\t\tconst send = (options.protocol === 'https:' ? https : http).request;\n\t\tconst signal = request.signal;\n\n\t\tlet response = null;\n\n\t\tconst abort = function abort() {\n\t\t\tlet error = new AbortError('The user aborted a request.');\n\t\t\treject(error);\n\t\t\tif (request.body && request.body instanceof Stream.Readable) {\n\t\t\t\trequest.body.destroy(error);\n\t\t\t}\n\t\t\tif (!response || !response.body) return;\n\t\t\tresponse.body.emit('error', error);\n\t\t};\n\n\t\tif (signal && signal.aborted) {\n\t\t\tabort();\n\t\t\treturn;\n\t\t}\n\n\t\tconst abortAndFinalize = function abortAndFinalize() {\n\t\t\tabort();\n\t\t\tfinalize();\n\t\t};\n\n\t\t// send request\n\t\tconst req = send(options);\n\t\tlet reqTimeout;\n\n\t\tif (signal) {\n\t\t\tsignal.addEventListener('abort', abortAndFinalize);\n\t\t}\n\n\t\tfunction finalize() {\n\t\t\treq.abort();\n\t\t\tif (signal) signal.removeEventListener('abort', abortAndFinalize);\n\t\t\tclearTimeout(reqTimeout);\n\t\t}\n\n\t\tif (request.timeout) {\n\t\t\treq.once('socket', function (socket) {\n\t\t\t\treqTimeout = setTimeout(function () {\n\t\t\t\t\treject(new FetchError(`network timeout at: ${request.url}`, 'request-timeout'));\n\t\t\t\t\tfinalize();\n\t\t\t\t}, request.timeout);\n\t\t\t});\n\t\t}\n\n\t\treq.on('error', function (err) {\n\t\t\treject(new FetchError(`request to ${request.url} failed, reason: ${err.message}`, 'system', err));\n\t\t\tfinalize();\n\t\t});\n\n\t\treq.on('response', function (res) {\n\t\t\tclearTimeout(reqTimeout);\n\n\t\t\tconst headers = createHeadersLenient(res.headers);\n\n\t\t\t// HTTP fetch step 5\n\t\t\tif (fetch.isRedirect(res.statusCode)) {\n\t\t\t\t// HTTP fetch step 5.2\n\t\t\t\tconst location = headers.get('Location');\n\n\t\t\t\t// HTTP fetch step 5.3\n\t\t\t\tlet locationURL = null;\n\t\t\t\ttry {\n\t\t\t\t\tlocationURL = location === null ? null : new URL$1(location, request.url).toString();\n\t\t\t\t} catch (err) {\n\t\t\t\t\t// error here can only be invalid URL in Location: header\n\t\t\t\t\t// do not throw when options.redirect == manual\n\t\t\t\t\t// let the user extract the errorneous redirect URL\n\t\t\t\t\tif (request.redirect !== 'manual') {\n\t\t\t\t\t\treject(new FetchError(`uri requested responds with an invalid redirect URL: ${location}`, 'invalid-redirect'));\n\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// HTTP fetch step 5.5\n\t\t\t\tswitch (request.redirect) {\n\t\t\t\t\tcase 'error':\n\t\t\t\t\t\treject(new FetchError(`uri requested responds with a redirect, redirect mode is set to error: ${request.url}`, 'no-redirect'));\n\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\treturn;\n\t\t\t\t\tcase 'manual':\n\t\t\t\t\t\t// node-fetch-specific step: make manual redirect a bit easier to use by setting the Location header value to the resolved URL.\n\t\t\t\t\t\tif (locationURL !== null) {\n\t\t\t\t\t\t\t// handle corrupted header\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\theaders.set('Location', locationURL);\n\t\t\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t\t\t// istanbul ignore next: nodejs server prevent invalid response headers, we can't test this through normal request\n\t\t\t\t\t\t\t\treject(err);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'follow':\n\t\t\t\t\t\t// HTTP-redirect fetch step 2\n\t\t\t\t\t\tif (locationURL === null) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 5\n\t\t\t\t\t\tif (request.counter >= request.follow) {\n\t\t\t\t\t\t\treject(new FetchError(`maximum redirect reached at: ${request.url}`, 'max-redirect'));\n\t\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 6 (counter increment)\n\t\t\t\t\t\t// Create a new Request object.\n\t\t\t\t\t\tconst requestOpts = {\n\t\t\t\t\t\t\theaders: new Headers(request.headers),\n\t\t\t\t\t\t\tfollow: request.follow,\n\t\t\t\t\t\t\tcounter: request.counter + 1,\n\t\t\t\t\t\t\tagent: request.agent,\n\t\t\t\t\t\t\tcompress: request.compress,\n\t\t\t\t\t\t\tmethod: request.method,\n\t\t\t\t\t\t\tbody: request.body,\n\t\t\t\t\t\t\tsignal: request.signal,\n\t\t\t\t\t\t\ttimeout: request.timeout,\n\t\t\t\t\t\t\tsize: request.size\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tif (!isDomainOrSubdomain(request.url, locationURL)) {\n\t\t\t\t\t\t\tfor (const name of ['authorization', 'www-authenticate', 'cookie', 'cookie2']) {\n\t\t\t\t\t\t\t\trequestOpts.headers.delete(name);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 9\n\t\t\t\t\t\tif (res.statusCode !== 303 && request.body && getTotalBytes(request) === null) {\n\t\t\t\t\t\t\treject(new FetchError('Cannot follow redirect with body being a readable stream', 'unsupported-redirect'));\n\t\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 11\n\t\t\t\t\t\tif (res.statusCode === 303 || (res.statusCode === 301 || res.statusCode === 302) && request.method === 'POST') {\n\t\t\t\t\t\t\trequestOpts.method = 'GET';\n\t\t\t\t\t\t\trequestOpts.body = undefined;\n\t\t\t\t\t\t\trequestOpts.headers.delete('content-length');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 15\n\t\t\t\t\t\tresolve(fetch(new Request(locationURL, requestOpts)));\n\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// prepare response\n\t\t\tres.once('end', function () {\n\t\t\t\tif (signal) signal.removeEventListener('abort', abortAndFinalize);\n\t\t\t});\n\t\t\tlet body = res.pipe(new PassThrough$1());\n\n\t\t\tconst response_options = {\n\t\t\t\turl: request.url,\n\t\t\t\tstatus: res.statusCode,\n\t\t\t\tstatusText: res.statusMessage,\n\t\t\t\theaders: headers,\n\t\t\t\tsize: request.size,\n\t\t\t\ttimeout: request.timeout,\n\t\t\t\tcounter: request.counter\n\t\t\t};\n\n\t\t\t// HTTP-network fetch step 12.1.1.3\n\t\t\tconst codings = headers.get('Content-Encoding');\n\n\t\t\t// HTTP-network fetch step 12.1.1.4: handle content codings\n\n\t\t\t// in following scenarios we ignore compression support\n\t\t\t// 1. compression support is disabled\n\t\t\t// 2. HEAD request\n\t\t\t// 3. no Content-Encoding header\n\t\t\t// 4. no content response (204)\n\t\t\t// 5. content not modified response (304)\n\t\t\tif (!request.compress || request.method === 'HEAD' || codings === null || res.statusCode === 204 || res.statusCode === 304) {\n\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\tresolve(response);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// For Node v6+\n\t\t\t// Be less strict when decoding compressed responses, since sometimes\n\t\t\t// servers send slightly invalid responses that are still accepted\n\t\t\t// by common browsers.\n\t\t\t// Always using Z_SYNC_FLUSH is what cURL does.\n\t\t\tconst zlibOptions = {\n\t\t\t\tflush: zlib.Z_SYNC_FLUSH,\n\t\t\t\tfinishFlush: zlib.Z_SYNC_FLUSH\n\t\t\t};\n\n\t\t\t// for gzip\n\t\t\tif (codings == 'gzip' || codings == 'x-gzip') {\n\t\t\t\tbody = body.pipe(zlib.createGunzip(zlibOptions));\n\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\tresolve(response);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// for deflate\n\t\t\tif (codings == 'deflate' || codings == 'x-deflate') {\n\t\t\t\t// handle the infamous raw deflate response from old servers\n\t\t\t\t// a hack for old IIS and Apache servers\n\t\t\t\tconst raw = res.pipe(new PassThrough$1());\n\t\t\t\traw.once('data', function (chunk) {\n\t\t\t\t\t// see http://stackoverflow.com/questions/37519828\n\t\t\t\t\tif ((chunk[0] & 0x0F) === 0x08) {\n\t\t\t\t\t\tbody = body.pipe(zlib.createInflate());\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbody = body.pipe(zlib.createInflateRaw());\n\t\t\t\t\t}\n\t\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\t\tresolve(response);\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// for br\n\t\t\tif (codings == 'br' && typeof zlib.createBrotliDecompress === 'function') {\n\t\t\t\tbody = body.pipe(zlib.createBrotliDecompress());\n\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\tresolve(response);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// otherwise, use response as-is\n\t\t\tresponse = new Response(body, response_options);\n\t\t\tresolve(response);\n\t\t});\n\n\t\twriteToStream(req, request);\n\t});\n}\n/**\n * Redirect code matching\n *\n * @param   Number   code  Status code\n * @return  Boolean\n */\nfetch.isRedirect = function (code) {\n\treturn code === 301 || code === 302 || code === 303 || code === 307 || code === 308;\n};\n\n// expose Promise\nfetch.Promise = global.Promise;\n\nexport default fetch;\nexport { Headers, Request, Response, FetchError };\n","const Stream = require('stream')\n\nfunction serializeHeaders (headers) {\n  return headers.raw()\n}\n\nfunction deserializeHeaders (fetch, old = {}) {\n  const headers = new fetch.Headers()\n  for (const name in old) {\n    for (const value of old[name]) {\n      headers.append(name, value)\n    }\n  }\n  return headers\n}\n\nfunction serializeRequest (request) {\n  return [\n    request.url,\n    {\n      method: request.method,\n      headers: request.headers,\n      body: request.body,\n      mode: request.mode,\n      credentials: request.credentials,\n      cache: request.cache,\n      redirect: request.redirect,\n      referrer: request.referrer,\n      referrerPolicy: request.referrerPolicy,\n      integrity: request.integrity,\n      keepalive: request.keepalive,\n      // signal: request.signal,\n\n      // node-fetch props\n      follow: request.follow,\n      timeout: request.timeout,\n      compress: request.compress,\n      size: request.size\n      // agent: request.agent\n    }\n  ]\n}\n\nfunction deserializeRequest (fetch, resource, init) {\n  return new fetch.Request(resource, {\n    ...init,\n    body: init.body ? Buffer.from(init.body) : undefined,\n    headers: deserializeHeaders(fetch, init.headers)\n  })\n}\n\nfunction serializeResponse (response) {\n  return {\n    url: response.url,\n    headers: response.headers.raw(),\n    status: response.status,\n    statusText: response.statusText,\n    counter: response.redirected ? 1 : 0 // could be more than one, but no way of telling\n  }\n}\n\nfunction deserializeResponse (fetch, body, init, bodyError) {\n  const buffer = Buffer.from(body, 'base64')\n\n  return new fetch.Response(\n    body ? createStream(buffer) : createStream(null),\n    {\n      ...init,\n      headers: deserializeHeaders(fetch, init.headers)\n    },\n    {\n      buffer,\n      bodyError\n    }\n  )\n}\n\nconst errors = {\n  TypeError\n}\n\nfunction serializeError ({ constructor, message, type, code }) {\n  return [\n    constructor.name,\n    [message, type, { code }]\n  ]\n}\n\nfunction deserializeError (fetch, name, init) {\n  if (name in errors) {\n    return new errors[name](...init)\n  } else {\n    return new fetch.FetchError(...init)\n  }\n}\n\nfunction parseBodyType (body) {\n  if (body == null) {\n    return 'Null'\n  } else if (body.constructor.name === 'URLSearchParams') {\n    return 'URLSearchParams'\n  } else if (Buffer.isBuffer(body)) {\n    return 'Buffer'\n  } else if (Object.prototype.toString.call(body) === '[object ArrayBuffer]') {\n    return 'ArrayBuffer'\n  } else if (ArrayBuffer.isView(body)) {\n    return 'ArrayBufferView'\n  } else if (body instanceof Stream) {\n    return 'Stream'\n  } else {\n    return 'String'\n  }\n}\n\nfunction parseBody (body, type = parseBodyType(body)) {\n  switch (type) {\n    case 'Null': return null\n    case 'URLSearchParams': return Buffer.from(body.toString())\n    case 'Buffer': return body\n    case 'ArrayBuffer': return Buffer.from(body)\n    case 'ArrayBufferView': return Buffer.from(body.buffer, body.byteOffset, body.byteLength)\n    case 'String': return Buffer.from(String(body))\n    default: throw new TypeError(`sync-fetch does not support bodies of type: ${type}`)\n  }\n}\n\nfunction createStream (buffer) {\n  return new Stream.Transform({\n    read () {\n      this.push(buffer)\n      this.push(null)\n    }\n  })\n}\n\nmodule.exports = {\n  serializeHeaders,\n  deserializeHeaders,\n  serializeRequest,\n  deserializeRequest,\n  serializeResponse,\n  deserializeResponse,\n  serializeError,\n  deserializeError,\n\n  parseBodyType,\n  parseBody,\n  createStream\n}\n","const exec = require('child_process').execFileSync\nconst path = require('path')\nconst { URL } = require('url')\nconst _fetch = require('node-fetch')\nconst shared = require('./shared')\n\nfunction fetch (resource, init) {\n  const request = []\n\n  if (resource instanceof fetch.Request) {\n    request.push(...shared.serializeRequest(resource))\n  } else if (resource instanceof URL) {\n    request.push(resource.href, {})\n  } else {\n    request.push(resource, {})\n  }\n\n  Object.assign(request[1], init)\n\n  request[1].headers = new _fetch.Headers(request[1].headers)\n\n  if (request[1].body) {\n    const contentType = extractContentType(request)\n    if (contentType && !request[1].headers.get('content-type')) { request[1].headers.append('content-type', contentType) }\n    request[1].body = shared.parseBody(init.body).toString()\n  }\n\n  request[1].headers = shared.serializeHeaders(request[1].headers)\n\n  // TODO credentials\n\n  const response = JSON.parse(sendMessage(request))\n  if ('headers' in response[1]) {\n    return shared.deserializeResponse(fetch, ...response)\n  } else {\n    throw shared.deserializeError(fetch, ...response)\n  }\n}\n\nfunction sendMessage (message) {\n  return exec(process.execPath, [path.join(__dirname, 'worker.js')], {\n    windowsHide: true,\n    maxBuffer: Infinity,\n    input: JSON.stringify(message),\n    shell: false\n  }).toString()\n}\n\nfunction extractContentType (input) {\n  const request = new _fetch.Request(...input)\n  return request.headers.get('content-type') || undefined\n}\n\nconst _body = Symbol('bodyBuffer')\nconst _bodyError = Symbol('bodyError')\n\nclass SyncRequest extends _fetch.Request {\n  constructor (resource, init = {}) {\n    const buffer = shared.parseBody(init.body)\n\n    super(resource, init)\n    defineBuffer(this, buffer)\n  }\n\n  clone () {\n    checkBody(this)\n    return new SyncRequest(...shared.serializeRequest(this))\n  }\n}\n\nclass SyncResponse extends _fetch.Response {\n  constructor (body, init, options = {}) {\n    const {\n      buffer = shared.parseBody(body),\n      bodyError\n    } = options\n\n    super(body, init)\n    defineBuffer(this, buffer)\n    if (bodyError) defineBodyError(this, bodyError)\n  }\n\n  clone () {\n    checkBody(this)\n    const buffer = Buffer.from(this[_body])\n    return new SyncResponse(\n      shared.createStream(buffer),\n      shared.serializeResponse(this),\n      {\n        buffer,\n        bodyError: this[_bodyError]\n      }\n    )\n  }\n}\n\nclass Body {\n  static mixin (proto) {\n    for (const name of Object.getOwnPropertyNames(Body.prototype)) {\n      if (name === 'constructor') { continue }\n      const desc = Object.getOwnPropertyDescriptor(Body.prototype, name)\n      Object.defineProperty(proto, name, {\n        ...desc,\n        enumerable: true\n      })\n    }\n  }\n\n  arrayBuffer () {\n    checkBody(this)\n    const buf = consumeBody(this)\n    return buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.byteLength)\n  }\n\n  text () {\n    checkBody(this)\n    return consumeBody(this).toString()\n  }\n\n  json () {\n    checkBody(this)\n    try {\n      return JSON.parse(consumeBody(this).toString())\n    } catch (err) {\n      throw new fetch.FetchError(`invalid json response body at ${this.url} reason: ${err.message}`, 'invalid-json')\n    }\n  }\n\n  buffer () {\n    checkBody(this)\n    return Buffer.from(consumeBody(this))\n  }\n\n  textConverted () {\n    throw new fetch.FetchError('textConverted not implemented')\n  }\n}\n\nfunction _super (self, method) {\n  return Object.getPrototypeOf(Object.getPrototypeOf(self))[method].bind(self)\n}\n\nfunction checkBody (body) {\n  if (body[_bodyError]) {\n    throw body[_bodyError]\n  }\n  if (body.bodyUsed) {\n    throw new TypeError(`body used already for: ${body.url}`)\n  }\n}\n\nfunction consumeBody (body) {\n  _super(body, 'buffer')().catch(error => console.error(error))\n  return body[_body] || Buffer.alloc(0)\n}\n\nfunction defineBuffer (body, buffer) {\n  Object.defineProperty(body, _body, {\n    value: buffer,\n    enumerable: false\n  })\n}\n\nfunction defineBodyError (body, error) {\n  Object.defineProperty(body, _bodyError, {\n    value: shared.deserializeError(fetch, ...error),\n    enumerable: false\n  })\n}\n\nBody.mixin(SyncRequest.prototype)\nBody.mixin(SyncResponse.prototype)\nObject.defineProperties(SyncRequest.prototype, { clone: { enumerable: true } })\nObject.defineProperties(SyncResponse.prototype, { clone: { enumerable: true } })\n\nfetch.Headers = _fetch.Headers\nfetch.FetchError = _fetch.FetchError\nfetch.Request = SyncRequest\nfetch.Response = SyncResponse\nmodule.exports = fetch\n","import Stream from 'stream';\nimport http from 'http';\nimport Url from 'url';\nimport whatwgUrl from 'whatwg-url';\nimport https from 'https';\nimport zlib from 'zlib';\n\n// Based on https://github.com/tmpvar/jsdom/blob/aa85b2abf07766ff7bf5c1f6daafb3726f2f2db5/lib/jsdom/living/blob.js\n\n// fix for \"Readable\" isn't a named export issue\nconst Readable = Stream.Readable;\n\nconst BUFFER = Symbol('buffer');\nconst TYPE = Symbol('type');\n\nclass Blob {\n\tconstructor() {\n\t\tthis[TYPE] = '';\n\n\t\tconst blobParts = arguments[0];\n\t\tconst options = arguments[1];\n\n\t\tconst buffers = [];\n\t\tlet size = 0;\n\n\t\tif (blobParts) {\n\t\t\tconst a = blobParts;\n\t\t\tconst length = Number(a.length);\n\t\t\tfor (let i = 0; i < length; i++) {\n\t\t\t\tconst element = a[i];\n\t\t\t\tlet buffer;\n\t\t\t\tif (element instanceof Buffer) {\n\t\t\t\t\tbuffer = element;\n\t\t\t\t} else if (ArrayBuffer.isView(element)) {\n\t\t\t\t\tbuffer = Buffer.from(element.buffer, element.byteOffset, element.byteLength);\n\t\t\t\t} else if (element instanceof ArrayBuffer) {\n\t\t\t\t\tbuffer = Buffer.from(element);\n\t\t\t\t} else if (element instanceof Blob) {\n\t\t\t\t\tbuffer = element[BUFFER];\n\t\t\t\t} else {\n\t\t\t\t\tbuffer = Buffer.from(typeof element === 'string' ? element : String(element));\n\t\t\t\t}\n\t\t\t\tsize += buffer.length;\n\t\t\t\tbuffers.push(buffer);\n\t\t\t}\n\t\t}\n\n\t\tthis[BUFFER] = Buffer.concat(buffers);\n\n\t\tlet type = options && options.type !== undefined && String(options.type).toLowerCase();\n\t\tif (type && !/[^\\u0020-\\u007E]/.test(type)) {\n\t\t\tthis[TYPE] = type;\n\t\t}\n\t}\n\tget size() {\n\t\treturn this[BUFFER].length;\n\t}\n\tget type() {\n\t\treturn this[TYPE];\n\t}\n\ttext() {\n\t\treturn Promise.resolve(this[BUFFER].toString());\n\t}\n\tarrayBuffer() {\n\t\tconst buf = this[BUFFER];\n\t\tconst ab = buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.byteLength);\n\t\treturn Promise.resolve(ab);\n\t}\n\tstream() {\n\t\tconst readable = new Readable();\n\t\treadable._read = function () {};\n\t\treadable.push(this[BUFFER]);\n\t\treadable.push(null);\n\t\treturn readable;\n\t}\n\ttoString() {\n\t\treturn '[object Blob]';\n\t}\n\tslice() {\n\t\tconst size = this.size;\n\n\t\tconst start = arguments[0];\n\t\tconst end = arguments[1];\n\t\tlet relativeStart, relativeEnd;\n\t\tif (start === undefined) {\n\t\t\trelativeStart = 0;\n\t\t} else if (start < 0) {\n\t\t\trelativeStart = Math.max(size + start, 0);\n\t\t} else {\n\t\t\trelativeStart = Math.min(start, size);\n\t\t}\n\t\tif (end === undefined) {\n\t\t\trelativeEnd = size;\n\t\t} else if (end < 0) {\n\t\t\trelativeEnd = Math.max(size + end, 0);\n\t\t} else {\n\t\t\trelativeEnd = Math.min(end, size);\n\t\t}\n\t\tconst span = Math.max(relativeEnd - relativeStart, 0);\n\n\t\tconst buffer = this[BUFFER];\n\t\tconst slicedBuffer = buffer.slice(relativeStart, relativeStart + span);\n\t\tconst blob = new Blob([], { type: arguments[2] });\n\t\tblob[BUFFER] = slicedBuffer;\n\t\treturn blob;\n\t}\n}\n\nObject.defineProperties(Blob.prototype, {\n\tsize: { enumerable: true },\n\ttype: { enumerable: true },\n\tslice: { enumerable: true }\n});\n\nObject.defineProperty(Blob.prototype, Symbol.toStringTag, {\n\tvalue: 'Blob',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\n/**\n * fetch-error.js\n *\n * FetchError interface for operational errors\n */\n\n/**\n * Create FetchError instance\n *\n * @param   String      message      Error message for human\n * @param   String      type         Error type for machine\n * @param   String      systemError  For Node.js system error\n * @return  FetchError\n */\nfunction FetchError(message, type, systemError) {\n  Error.call(this, message);\n\n  this.message = message;\n  this.type = type;\n\n  // when err.type is `system`, err.code contains system error code\n  if (systemError) {\n    this.code = this.errno = systemError.code;\n  }\n\n  // hide custom error implementation details from end-users\n  Error.captureStackTrace(this, this.constructor);\n}\n\nFetchError.prototype = Object.create(Error.prototype);\nFetchError.prototype.constructor = FetchError;\nFetchError.prototype.name = 'FetchError';\n\nlet convert;\ntry {\n\tconvert = require('encoding').convert;\n} catch (e) {}\n\nconst INTERNALS = Symbol('Body internals');\n\n// fix an issue where \"PassThrough\" isn't a named export for node <10\nconst PassThrough = Stream.PassThrough;\n\n/**\n * Body mixin\n *\n * Ref: https://fetch.spec.whatwg.org/#body\n *\n * @param   Stream  body  Readable stream\n * @param   Object  opts  Response options\n * @return  Void\n */\nfunction Body(body) {\n\tvar _this = this;\n\n\tvar _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n\t    _ref$size = _ref.size;\n\n\tlet size = _ref$size === undefined ? 0 : _ref$size;\n\tvar _ref$timeout = _ref.timeout;\n\tlet timeout = _ref$timeout === undefined ? 0 : _ref$timeout;\n\n\tif (body == null) {\n\t\t// body is undefined or null\n\t\tbody = null;\n\t} else if (isURLSearchParams(body)) {\n\t\t// body is a URLSearchParams\n\t\tbody = Buffer.from(body.toString());\n\t} else if (isBlob(body)) ; else if (Buffer.isBuffer(body)) ; else if (Object.prototype.toString.call(body) === '[object ArrayBuffer]') {\n\t\t// body is ArrayBuffer\n\t\tbody = Buffer.from(body);\n\t} else if (ArrayBuffer.isView(body)) {\n\t\t// body is ArrayBufferView\n\t\tbody = Buffer.from(body.buffer, body.byteOffset, body.byteLength);\n\t} else if (body instanceof Stream) ; else {\n\t\t// none of the above\n\t\t// coerce to string then buffer\n\t\tbody = Buffer.from(String(body));\n\t}\n\tthis[INTERNALS] = {\n\t\tbody,\n\t\tdisturbed: false,\n\t\terror: null\n\t};\n\tthis.size = size;\n\tthis.timeout = timeout;\n\n\tif (body instanceof Stream) {\n\t\tbody.on('error', function (err) {\n\t\t\tconst error = err.name === 'AbortError' ? err : new FetchError(`Invalid response body while trying to fetch ${_this.url}: ${err.message}`, 'system', err);\n\t\t\t_this[INTERNALS].error = error;\n\t\t});\n\t}\n}\n\nBody.prototype = {\n\tget body() {\n\t\treturn this[INTERNALS].body;\n\t},\n\n\tget bodyUsed() {\n\t\treturn this[INTERNALS].disturbed;\n\t},\n\n\t/**\n  * Decode response as ArrayBuffer\n  *\n  * @return  Promise\n  */\n\tarrayBuffer() {\n\t\treturn consumeBody.call(this).then(function (buf) {\n\t\t\treturn buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.byteLength);\n\t\t});\n\t},\n\n\t/**\n  * Return raw response as Blob\n  *\n  * @return Promise\n  */\n\tblob() {\n\t\tlet ct = this.headers && this.headers.get('content-type') || '';\n\t\treturn consumeBody.call(this).then(function (buf) {\n\t\t\treturn Object.assign(\n\t\t\t// Prevent copying\n\t\t\tnew Blob([], {\n\t\t\t\ttype: ct.toLowerCase()\n\t\t\t}), {\n\t\t\t\t[BUFFER]: buf\n\t\t\t});\n\t\t});\n\t},\n\n\t/**\n  * Decode response as json\n  *\n  * @return  Promise\n  */\n\tjson() {\n\t\tvar _this2 = this;\n\n\t\treturn consumeBody.call(this).then(function (buffer) {\n\t\t\ttry {\n\t\t\t\treturn JSON.parse(buffer.toString());\n\t\t\t} catch (err) {\n\t\t\t\treturn Body.Promise.reject(new FetchError(`invalid json response body at ${_this2.url} reason: ${err.message}`, 'invalid-json'));\n\t\t\t}\n\t\t});\n\t},\n\n\t/**\n  * Decode response as text\n  *\n  * @return  Promise\n  */\n\ttext() {\n\t\treturn consumeBody.call(this).then(function (buffer) {\n\t\t\treturn buffer.toString();\n\t\t});\n\t},\n\n\t/**\n  * Decode response as buffer (non-spec api)\n  *\n  * @return  Promise\n  */\n\tbuffer() {\n\t\treturn consumeBody.call(this);\n\t},\n\n\t/**\n  * Decode response as text, while automatically detecting the encoding and\n  * trying to decode to UTF-8 (non-spec api)\n  *\n  * @return  Promise\n  */\n\ttextConverted() {\n\t\tvar _this3 = this;\n\n\t\treturn consumeBody.call(this).then(function (buffer) {\n\t\t\treturn convertBody(buffer, _this3.headers);\n\t\t});\n\t}\n};\n\n// In browsers, all properties are enumerable.\nObject.defineProperties(Body.prototype, {\n\tbody: { enumerable: true },\n\tbodyUsed: { enumerable: true },\n\tarrayBuffer: { enumerable: true },\n\tblob: { enumerable: true },\n\tjson: { enumerable: true },\n\ttext: { enumerable: true }\n});\n\nBody.mixIn = function (proto) {\n\tfor (const name of Object.getOwnPropertyNames(Body.prototype)) {\n\t\t// istanbul ignore else: future proof\n\t\tif (!(name in proto)) {\n\t\t\tconst desc = Object.getOwnPropertyDescriptor(Body.prototype, name);\n\t\t\tObject.defineProperty(proto, name, desc);\n\t\t}\n\t}\n};\n\n/**\n * Consume and convert an entire Body to a Buffer.\n *\n * Ref: https://fetch.spec.whatwg.org/#concept-body-consume-body\n *\n * @return  Promise\n */\nfunction consumeBody() {\n\tvar _this4 = this;\n\n\tif (this[INTERNALS].disturbed) {\n\t\treturn Body.Promise.reject(new TypeError(`body used already for: ${this.url}`));\n\t}\n\n\tthis[INTERNALS].disturbed = true;\n\n\tif (this[INTERNALS].error) {\n\t\treturn Body.Promise.reject(this[INTERNALS].error);\n\t}\n\n\tlet body = this.body;\n\n\t// body is null\n\tif (body === null) {\n\t\treturn Body.Promise.resolve(Buffer.alloc(0));\n\t}\n\n\t// body is blob\n\tif (isBlob(body)) {\n\t\tbody = body.stream();\n\t}\n\n\t// body is buffer\n\tif (Buffer.isBuffer(body)) {\n\t\treturn Body.Promise.resolve(body);\n\t}\n\n\t// istanbul ignore if: should never happen\n\tif (!(body instanceof Stream)) {\n\t\treturn Body.Promise.resolve(Buffer.alloc(0));\n\t}\n\n\t// body is stream\n\t// get ready to actually consume the body\n\tlet accum = [];\n\tlet accumBytes = 0;\n\tlet abort = false;\n\n\treturn new Body.Promise(function (resolve, reject) {\n\t\tlet resTimeout;\n\n\t\t// allow timeout on slow response body\n\t\tif (_this4.timeout) {\n\t\t\tresTimeout = setTimeout(function () {\n\t\t\t\tabort = true;\n\t\t\t\treject(new FetchError(`Response timeout while trying to fetch ${_this4.url} (over ${_this4.timeout}ms)`, 'body-timeout'));\n\t\t\t}, _this4.timeout);\n\t\t}\n\n\t\t// handle stream errors\n\t\tbody.on('error', function (err) {\n\t\t\tif (err.name === 'AbortError') {\n\t\t\t\t// if the request was aborted, reject with this Error\n\t\t\t\tabort = true;\n\t\t\t\treject(err);\n\t\t\t} else {\n\t\t\t\t// other errors, such as incorrect content-encoding\n\t\t\t\treject(new FetchError(`Invalid response body while trying to fetch ${_this4.url}: ${err.message}`, 'system', err));\n\t\t\t}\n\t\t});\n\n\t\tbody.on('data', function (chunk) {\n\t\t\tif (abort || chunk === null) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (_this4.size && accumBytes + chunk.length > _this4.size) {\n\t\t\t\tabort = true;\n\t\t\t\treject(new FetchError(`content size at ${_this4.url} over limit: ${_this4.size}`, 'max-size'));\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\taccumBytes += chunk.length;\n\t\t\taccum.push(chunk);\n\t\t});\n\n\t\tbody.on('end', function () {\n\t\t\tif (abort) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tclearTimeout(resTimeout);\n\n\t\t\ttry {\n\t\t\t\tresolve(Buffer.concat(accum, accumBytes));\n\t\t\t} catch (err) {\n\t\t\t\t// handle streams that have accumulated too much data (issue #414)\n\t\t\t\treject(new FetchError(`Could not create Buffer from response body for ${_this4.url}: ${err.message}`, 'system', err));\n\t\t\t}\n\t\t});\n\t});\n}\n\n/**\n * Detect buffer encoding and convert to target encoding\n * ref: http://www.w3.org/TR/2011/WD-html5-20110113/parsing.html#determining-the-character-encoding\n *\n * @param   Buffer  buffer    Incoming buffer\n * @param   String  encoding  Target encoding\n * @return  String\n */\nfunction convertBody(buffer, headers) {\n\tif (typeof convert !== 'function') {\n\t\tthrow new Error('The package `encoding` must be installed to use the textConverted() function');\n\t}\n\n\tconst ct = headers.get('content-type');\n\tlet charset = 'utf-8';\n\tlet res, str;\n\n\t// header\n\tif (ct) {\n\t\tres = /charset=([^;]*)/i.exec(ct);\n\t}\n\n\t// no charset in content type, peek at response body for at most 1024 bytes\n\tstr = buffer.slice(0, 1024).toString();\n\n\t// html5\n\tif (!res && str) {\n\t\tres = /<meta.+?charset=(['\"])(.+?)\\1/i.exec(str);\n\t}\n\n\t// html4\n\tif (!res && str) {\n\t\tres = /<meta[\\s]+?http-equiv=(['\"])content-type\\1[\\s]+?content=(['\"])(.+?)\\2/i.exec(str);\n\t\tif (!res) {\n\t\t\tres = /<meta[\\s]+?content=(['\"])(.+?)\\1[\\s]+?http-equiv=(['\"])content-type\\3/i.exec(str);\n\t\t\tif (res) {\n\t\t\t\tres.pop(); // drop last quote\n\t\t\t}\n\t\t}\n\n\t\tif (res) {\n\t\t\tres = /charset=(.*)/i.exec(res.pop());\n\t\t}\n\t}\n\n\t// xml\n\tif (!res && str) {\n\t\tres = /<\\?xml.+?encoding=(['\"])(.+?)\\1/i.exec(str);\n\t}\n\n\t// found charset\n\tif (res) {\n\t\tcharset = res.pop();\n\n\t\t// prevent decode issues when sites use incorrect encoding\n\t\t// ref: https://hsivonen.fi/encoding-menu/\n\t\tif (charset === 'gb2312' || charset === 'gbk') {\n\t\t\tcharset = 'gb18030';\n\t\t}\n\t}\n\n\t// turn raw buffers into a single utf-8 buffer\n\treturn convert(buffer, 'UTF-8', charset).toString();\n}\n\n/**\n * Detect a URLSearchParams object\n * ref: https://github.com/bitinn/node-fetch/issues/296#issuecomment-307598143\n *\n * @param   Object  obj     Object to detect by type or brand\n * @return  String\n */\nfunction isURLSearchParams(obj) {\n\t// Duck-typing as a necessary condition.\n\tif (typeof obj !== 'object' || typeof obj.append !== 'function' || typeof obj.delete !== 'function' || typeof obj.get !== 'function' || typeof obj.getAll !== 'function' || typeof obj.has !== 'function' || typeof obj.set !== 'function') {\n\t\treturn false;\n\t}\n\n\t// Brand-checking and more duck-typing as optional condition.\n\treturn obj.constructor.name === 'URLSearchParams' || Object.prototype.toString.call(obj) === '[object URLSearchParams]' || typeof obj.sort === 'function';\n}\n\n/**\n * Check if `obj` is a W3C `Blob` object (which `File` inherits from)\n * @param  {*} obj\n * @return {boolean}\n */\nfunction isBlob(obj) {\n\treturn typeof obj === 'object' && typeof obj.arrayBuffer === 'function' && typeof obj.type === 'string' && typeof obj.stream === 'function' && typeof obj.constructor === 'function' && typeof obj.constructor.name === 'string' && /^(Blob|File)$/.test(obj.constructor.name) && /^(Blob|File)$/.test(obj[Symbol.toStringTag]);\n}\n\n/**\n * Clone body given Res/Req instance\n *\n * @param   Mixed  instance  Response or Request instance\n * @return  Mixed\n */\nfunction clone(instance) {\n\tlet p1, p2;\n\tlet body = instance.body;\n\n\t// don't allow cloning a used body\n\tif (instance.bodyUsed) {\n\t\tthrow new Error('cannot clone body after it is used');\n\t}\n\n\t// check that body is a stream and not form-data object\n\t// note: we can't clone the form-data object without having it as a dependency\n\tif (body instanceof Stream && typeof body.getBoundary !== 'function') {\n\t\t// tee instance body\n\t\tp1 = new PassThrough();\n\t\tp2 = new PassThrough();\n\t\tbody.pipe(p1);\n\t\tbody.pipe(p2);\n\t\t// set instance body to teed body and return the other teed body\n\t\tinstance[INTERNALS].body = p1;\n\t\tbody = p2;\n\t}\n\n\treturn body;\n}\n\n/**\n * Performs the operation \"extract a `Content-Type` value from |object|\" as\n * specified in the specification:\n * https://fetch.spec.whatwg.org/#concept-bodyinit-extract\n *\n * This function assumes that instance.body is present.\n *\n * @param   Mixed  instance  Any options.body input\n */\nfunction extractContentType(body) {\n\tif (body === null) {\n\t\t// body is null\n\t\treturn null;\n\t} else if (typeof body === 'string') {\n\t\t// body is string\n\t\treturn 'text/plain;charset=UTF-8';\n\t} else if (isURLSearchParams(body)) {\n\t\t// body is a URLSearchParams\n\t\treturn 'application/x-www-form-urlencoded;charset=UTF-8';\n\t} else if (isBlob(body)) {\n\t\t// body is blob\n\t\treturn body.type || null;\n\t} else if (Buffer.isBuffer(body)) {\n\t\t// body is buffer\n\t\treturn null;\n\t} else if (Object.prototype.toString.call(body) === '[object ArrayBuffer]') {\n\t\t// body is ArrayBuffer\n\t\treturn null;\n\t} else if (ArrayBuffer.isView(body)) {\n\t\t// body is ArrayBufferView\n\t\treturn null;\n\t} else if (typeof body.getBoundary === 'function') {\n\t\t// detect form data input from form-data module\n\t\treturn `multipart/form-data;boundary=${body.getBoundary()}`;\n\t} else if (body instanceof Stream) {\n\t\t// body is stream\n\t\t// can't really do much about this\n\t\treturn null;\n\t} else {\n\t\t// Body constructor defaults other things to string\n\t\treturn 'text/plain;charset=UTF-8';\n\t}\n}\n\n/**\n * The Fetch Standard treats this as if \"total bytes\" is a property on the body.\n * For us, we have to explicitly get it with a function.\n *\n * ref: https://fetch.spec.whatwg.org/#concept-body-total-bytes\n *\n * @param   Body    instance   Instance of Body\n * @return  Number?            Number of bytes, or null if not possible\n */\nfunction getTotalBytes(instance) {\n\tconst body = instance.body;\n\n\n\tif (body === null) {\n\t\t// body is null\n\t\treturn 0;\n\t} else if (isBlob(body)) {\n\t\treturn body.size;\n\t} else if (Buffer.isBuffer(body)) {\n\t\t// body is buffer\n\t\treturn body.length;\n\t} else if (body && typeof body.getLengthSync === 'function') {\n\t\t// detect form data input from form-data module\n\t\tif (body._lengthRetrievers && body._lengthRetrievers.length == 0 || // 1.x\n\t\tbody.hasKnownLength && body.hasKnownLength()) {\n\t\t\t// 2.x\n\t\t\treturn body.getLengthSync();\n\t\t}\n\t\treturn null;\n\t} else {\n\t\t// body is stream\n\t\treturn null;\n\t}\n}\n\n/**\n * Write a Body to a Node.js WritableStream (e.g. http.Request) object.\n *\n * @param   Body    instance   Instance of Body\n * @return  Void\n */\nfunction writeToStream(dest, instance) {\n\tconst body = instance.body;\n\n\n\tif (body === null) {\n\t\t// body is null\n\t\tdest.end();\n\t} else if (isBlob(body)) {\n\t\tbody.stream().pipe(dest);\n\t} else if (Buffer.isBuffer(body)) {\n\t\t// body is buffer\n\t\tdest.write(body);\n\t\tdest.end();\n\t} else {\n\t\t// body is stream\n\t\tbody.pipe(dest);\n\t}\n}\n\n// expose Promise\nBody.Promise = global.Promise;\n\n/**\n * headers.js\n *\n * Headers class offers convenient helpers\n */\n\nconst invalidTokenRegex = /[^\\^_`a-zA-Z\\-0-9!#$%&'*+.|~]/;\nconst invalidHeaderCharRegex = /[^\\t\\x20-\\x7e\\x80-\\xff]/;\n\nfunction validateName(name) {\n\tname = `${name}`;\n\tif (invalidTokenRegex.test(name) || name === '') {\n\t\tthrow new TypeError(`${name} is not a legal HTTP header name`);\n\t}\n}\n\nfunction validateValue(value) {\n\tvalue = `${value}`;\n\tif (invalidHeaderCharRegex.test(value)) {\n\t\tthrow new TypeError(`${value} is not a legal HTTP header value`);\n\t}\n}\n\n/**\n * Find the key in the map object given a header name.\n *\n * Returns undefined if not found.\n *\n * @param   String  name  Header name\n * @return  String|Undefined\n */\nfunction find(map, name) {\n\tname = name.toLowerCase();\n\tfor (const key in map) {\n\t\tif (key.toLowerCase() === name) {\n\t\t\treturn key;\n\t\t}\n\t}\n\treturn undefined;\n}\n\nconst MAP = Symbol('map');\nclass Headers {\n\t/**\n  * Headers class\n  *\n  * @param   Object  headers  Response headers\n  * @return  Void\n  */\n\tconstructor() {\n\t\tlet init = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n\n\t\tthis[MAP] = Object.create(null);\n\n\t\tif (init instanceof Headers) {\n\t\t\tconst rawHeaders = init.raw();\n\t\t\tconst headerNames = Object.keys(rawHeaders);\n\n\t\t\tfor (const headerName of headerNames) {\n\t\t\t\tfor (const value of rawHeaders[headerName]) {\n\t\t\t\t\tthis.append(headerName, value);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\t// We don't worry about converting prop to ByteString here as append()\n\t\t// will handle it.\n\t\tif (init == null) ; else if (typeof init === 'object') {\n\t\t\tconst method = init[Symbol.iterator];\n\t\t\tif (method != null) {\n\t\t\t\tif (typeof method !== 'function') {\n\t\t\t\t\tthrow new TypeError('Header pairs must be iterable');\n\t\t\t\t}\n\n\t\t\t\t// sequence<sequence<ByteString>>\n\t\t\t\t// Note: per spec we have to first exhaust the lists then process them\n\t\t\t\tconst pairs = [];\n\t\t\t\tfor (const pair of init) {\n\t\t\t\t\tif (typeof pair !== 'object' || typeof pair[Symbol.iterator] !== 'function') {\n\t\t\t\t\t\tthrow new TypeError('Each header pair must be iterable');\n\t\t\t\t\t}\n\t\t\t\t\tpairs.push(Array.from(pair));\n\t\t\t\t}\n\n\t\t\t\tfor (const pair of pairs) {\n\t\t\t\t\tif (pair.length !== 2) {\n\t\t\t\t\t\tthrow new TypeError('Each header pair must be a name/value tuple');\n\t\t\t\t\t}\n\t\t\t\t\tthis.append(pair[0], pair[1]);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// record<ByteString, ByteString>\n\t\t\t\tfor (const key of Object.keys(init)) {\n\t\t\t\t\tconst value = init[key];\n\t\t\t\t\tthis.append(key, value);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tthrow new TypeError('Provided initializer must be an object');\n\t\t}\n\t}\n\n\t/**\n  * Return combined header value given name\n  *\n  * @param   String  name  Header name\n  * @return  Mixed\n  */\n\tget(name) {\n\t\tname = `${name}`;\n\t\tvalidateName(name);\n\t\tconst key = find(this[MAP], name);\n\t\tif (key === undefined) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn this[MAP][key].join(', ');\n\t}\n\n\t/**\n  * Iterate over all headers\n  *\n  * @param   Function  callback  Executed for each item with parameters (value, name, thisArg)\n  * @param   Boolean   thisArg   `this` context for callback function\n  * @return  Void\n  */\n\tforEach(callback) {\n\t\tlet thisArg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n\n\t\tlet pairs = getHeaders(this);\n\t\tlet i = 0;\n\t\twhile (i < pairs.length) {\n\t\t\tvar _pairs$i = pairs[i];\n\t\t\tconst name = _pairs$i[0],\n\t\t\t      value = _pairs$i[1];\n\n\t\t\tcallback.call(thisArg, value, name, this);\n\t\t\tpairs = getHeaders(this);\n\t\t\ti++;\n\t\t}\n\t}\n\n\t/**\n  * Overwrite header values given name\n  *\n  * @param   String  name   Header name\n  * @param   String  value  Header value\n  * @return  Void\n  */\n\tset(name, value) {\n\t\tname = `${name}`;\n\t\tvalue = `${value}`;\n\t\tvalidateName(name);\n\t\tvalidateValue(value);\n\t\tconst key = find(this[MAP], name);\n\t\tthis[MAP][key !== undefined ? key : name] = [value];\n\t}\n\n\t/**\n  * Append a value onto existing header\n  *\n  * @param   String  name   Header name\n  * @param   String  value  Header value\n  * @return  Void\n  */\n\tappend(name, value) {\n\t\tname = `${name}`;\n\t\tvalue = `${value}`;\n\t\tvalidateName(name);\n\t\tvalidateValue(value);\n\t\tconst key = find(this[MAP], name);\n\t\tif (key !== undefined) {\n\t\t\tthis[MAP][key].push(value);\n\t\t} else {\n\t\t\tthis[MAP][name] = [value];\n\t\t}\n\t}\n\n\t/**\n  * Check for header name existence\n  *\n  * @param   String   name  Header name\n  * @return  Boolean\n  */\n\thas(name) {\n\t\tname = `${name}`;\n\t\tvalidateName(name);\n\t\treturn find(this[MAP], name) !== undefined;\n\t}\n\n\t/**\n  * Delete all header values given name\n  *\n  * @param   String  name  Header name\n  * @return  Void\n  */\n\tdelete(name) {\n\t\tname = `${name}`;\n\t\tvalidateName(name);\n\t\tconst key = find(this[MAP], name);\n\t\tif (key !== undefined) {\n\t\t\tdelete this[MAP][key];\n\t\t}\n\t}\n\n\t/**\n  * Return raw headers (non-spec api)\n  *\n  * @return  Object\n  */\n\traw() {\n\t\treturn this[MAP];\n\t}\n\n\t/**\n  * Get an iterator on keys.\n  *\n  * @return  Iterator\n  */\n\tkeys() {\n\t\treturn createHeadersIterator(this, 'key');\n\t}\n\n\t/**\n  * Get an iterator on values.\n  *\n  * @return  Iterator\n  */\n\tvalues() {\n\t\treturn createHeadersIterator(this, 'value');\n\t}\n\n\t/**\n  * Get an iterator on entries.\n  *\n  * This is the default iterator of the Headers object.\n  *\n  * @return  Iterator\n  */\n\t[Symbol.iterator]() {\n\t\treturn createHeadersIterator(this, 'key+value');\n\t}\n}\nHeaders.prototype.entries = Headers.prototype[Symbol.iterator];\n\nObject.defineProperty(Headers.prototype, Symbol.toStringTag, {\n\tvalue: 'Headers',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\nObject.defineProperties(Headers.prototype, {\n\tget: { enumerable: true },\n\tforEach: { enumerable: true },\n\tset: { enumerable: true },\n\tappend: { enumerable: true },\n\thas: { enumerable: true },\n\tdelete: { enumerable: true },\n\tkeys: { enumerable: true },\n\tvalues: { enumerable: true },\n\tentries: { enumerable: true }\n});\n\nfunction getHeaders(headers) {\n\tlet kind = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'key+value';\n\n\tconst keys = Object.keys(headers[MAP]).sort();\n\treturn keys.map(kind === 'key' ? function (k) {\n\t\treturn k.toLowerCase();\n\t} : kind === 'value' ? function (k) {\n\t\treturn headers[MAP][k].join(', ');\n\t} : function (k) {\n\t\treturn [k.toLowerCase(), headers[MAP][k].join(', ')];\n\t});\n}\n\nconst INTERNAL = Symbol('internal');\n\nfunction createHeadersIterator(target, kind) {\n\tconst iterator = Object.create(HeadersIteratorPrototype);\n\titerator[INTERNAL] = {\n\t\ttarget,\n\t\tkind,\n\t\tindex: 0\n\t};\n\treturn iterator;\n}\n\nconst HeadersIteratorPrototype = Object.setPrototypeOf({\n\tnext() {\n\t\t// istanbul ignore if\n\t\tif (!this || Object.getPrototypeOf(this) !== HeadersIteratorPrototype) {\n\t\t\tthrow new TypeError('Value of `this` is not a HeadersIterator');\n\t\t}\n\n\t\tvar _INTERNAL = this[INTERNAL];\n\t\tconst target = _INTERNAL.target,\n\t\t      kind = _INTERNAL.kind,\n\t\t      index = _INTERNAL.index;\n\n\t\tconst values = getHeaders(target, kind);\n\t\tconst len = values.length;\n\t\tif (index >= len) {\n\t\t\treturn {\n\t\t\t\tvalue: undefined,\n\t\t\t\tdone: true\n\t\t\t};\n\t\t}\n\n\t\tthis[INTERNAL].index = index + 1;\n\n\t\treturn {\n\t\t\tvalue: values[index],\n\t\t\tdone: false\n\t\t};\n\t}\n}, Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]())));\n\nObject.defineProperty(HeadersIteratorPrototype, Symbol.toStringTag, {\n\tvalue: 'HeadersIterator',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\n/**\n * Export the Headers object in a form that Node.js can consume.\n *\n * @param   Headers  headers\n * @return  Object\n */\nfunction exportNodeCompatibleHeaders(headers) {\n\tconst obj = Object.assign({ __proto__: null }, headers[MAP]);\n\n\t// http.request() only supports string as Host header. This hack makes\n\t// specifying custom Host header possible.\n\tconst hostHeaderKey = find(headers[MAP], 'Host');\n\tif (hostHeaderKey !== undefined) {\n\t\tobj[hostHeaderKey] = obj[hostHeaderKey][0];\n\t}\n\n\treturn obj;\n}\n\n/**\n * Create a Headers object from an object of headers, ignoring those that do\n * not conform to HTTP grammar productions.\n *\n * @param   Object  obj  Object of headers\n * @return  Headers\n */\nfunction createHeadersLenient(obj) {\n\tconst headers = new Headers();\n\tfor (const name of Object.keys(obj)) {\n\t\tif (invalidTokenRegex.test(name)) {\n\t\t\tcontinue;\n\t\t}\n\t\tif (Array.isArray(obj[name])) {\n\t\t\tfor (const val of obj[name]) {\n\t\t\t\tif (invalidHeaderCharRegex.test(val)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (headers[MAP][name] === undefined) {\n\t\t\t\t\theaders[MAP][name] = [val];\n\t\t\t\t} else {\n\t\t\t\t\theaders[MAP][name].push(val);\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (!invalidHeaderCharRegex.test(obj[name])) {\n\t\t\theaders[MAP][name] = [obj[name]];\n\t\t}\n\t}\n\treturn headers;\n}\n\nconst INTERNALS$1 = Symbol('Response internals');\n\n// fix an issue where \"STATUS_CODES\" aren't a named export for node <10\nconst STATUS_CODES = http.STATUS_CODES;\n\n/**\n * Response class\n *\n * @param   Stream  body  Readable stream\n * @param   Object  opts  Response options\n * @return  Void\n */\nclass Response {\n\tconstructor() {\n\t\tlet body = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\t\tlet opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\t\tBody.call(this, body, opts);\n\n\t\tconst status = opts.status || 200;\n\t\tconst headers = new Headers(opts.headers);\n\n\t\tif (body != null && !headers.has('Content-Type')) {\n\t\t\tconst contentType = extractContentType(body);\n\t\t\tif (contentType) {\n\t\t\t\theaders.append('Content-Type', contentType);\n\t\t\t}\n\t\t}\n\n\t\tthis[INTERNALS$1] = {\n\t\t\turl: opts.url,\n\t\t\tstatus,\n\t\t\tstatusText: opts.statusText || STATUS_CODES[status],\n\t\t\theaders,\n\t\t\tcounter: opts.counter\n\t\t};\n\t}\n\n\tget url() {\n\t\treturn this[INTERNALS$1].url || '';\n\t}\n\n\tget status() {\n\t\treturn this[INTERNALS$1].status;\n\t}\n\n\t/**\n  * Convenience property representing if the request ended normally\n  */\n\tget ok() {\n\t\treturn this[INTERNALS$1].status >= 200 && this[INTERNALS$1].status < 300;\n\t}\n\n\tget redirected() {\n\t\treturn this[INTERNALS$1].counter > 0;\n\t}\n\n\tget statusText() {\n\t\treturn this[INTERNALS$1].statusText;\n\t}\n\n\tget headers() {\n\t\treturn this[INTERNALS$1].headers;\n\t}\n\n\t/**\n  * Clone this response\n  *\n  * @return  Response\n  */\n\tclone() {\n\t\treturn new Response(clone(this), {\n\t\t\turl: this.url,\n\t\t\tstatus: this.status,\n\t\t\tstatusText: this.statusText,\n\t\t\theaders: this.headers,\n\t\t\tok: this.ok,\n\t\t\tredirected: this.redirected\n\t\t});\n\t}\n}\n\nBody.mixIn(Response.prototype);\n\nObject.defineProperties(Response.prototype, {\n\turl: { enumerable: true },\n\tstatus: { enumerable: true },\n\tok: { enumerable: true },\n\tredirected: { enumerable: true },\n\tstatusText: { enumerable: true },\n\theaders: { enumerable: true },\n\tclone: { enumerable: true }\n});\n\nObject.defineProperty(Response.prototype, Symbol.toStringTag, {\n\tvalue: 'Response',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\nconst INTERNALS$2 = Symbol('Request internals');\nconst URL = Url.URL || whatwgUrl.URL;\n\n// fix an issue where \"format\", \"parse\" aren't a named export for node <10\nconst parse_url = Url.parse;\nconst format_url = Url.format;\n\n/**\n * Wrapper around `new URL` to handle arbitrary URLs\n *\n * @param  {string} urlStr\n * @return {void}\n */\nfunction parseURL(urlStr) {\n\t/*\n \tCheck whether the URL is absolute or not\n \t\tScheme: https://tools.ietf.org/html/rfc3986#section-3.1\n \tAbsolute URL: https://tools.ietf.org/html/rfc3986#section-4.3\n */\n\tif (/^[a-zA-Z][a-zA-Z\\d+\\-.]*:/.exec(urlStr)) {\n\t\turlStr = new URL(urlStr).toString();\n\t}\n\n\t// Fallback to old implementation for arbitrary URLs\n\treturn parse_url(urlStr);\n}\n\nconst streamDestructionSupported = 'destroy' in Stream.Readable.prototype;\n\n/**\n * Check if a value is an instance of Request.\n *\n * @param   Mixed   input\n * @return  Boolean\n */\nfunction isRequest(input) {\n\treturn typeof input === 'object' && typeof input[INTERNALS$2] === 'object';\n}\n\nfunction isAbortSignal(signal) {\n\tconst proto = signal && typeof signal === 'object' && Object.getPrototypeOf(signal);\n\treturn !!(proto && proto.constructor.name === 'AbortSignal');\n}\n\n/**\n * Request class\n *\n * @param   Mixed   input  Url or Request instance\n * @param   Object  init   Custom options\n * @return  Void\n */\nclass Request {\n\tconstructor(input) {\n\t\tlet init = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\t\tlet parsedURL;\n\n\t\t// normalize input\n\t\tif (!isRequest(input)) {\n\t\t\tif (input && input.href) {\n\t\t\t\t// in order to support Node.js' Url objects; though WHATWG's URL objects\n\t\t\t\t// will fall into this branch also (since their `toString()` will return\n\t\t\t\t// `href` property anyway)\n\t\t\t\tparsedURL = parseURL(input.href);\n\t\t\t} else {\n\t\t\t\t// coerce input to a string before attempting to parse\n\t\t\t\tparsedURL = parseURL(`${input}`);\n\t\t\t}\n\t\t\tinput = {};\n\t\t} else {\n\t\t\tparsedURL = parseURL(input.url);\n\t\t}\n\n\t\tlet method = init.method || input.method || 'GET';\n\t\tmethod = method.toUpperCase();\n\n\t\tif ((init.body != null || isRequest(input) && input.body !== null) && (method === 'GET' || method === 'HEAD')) {\n\t\t\tthrow new TypeError('Request with GET/HEAD method cannot have body');\n\t\t}\n\n\t\tlet inputBody = init.body != null ? init.body : isRequest(input) && input.body !== null ? clone(input) : null;\n\n\t\tBody.call(this, inputBody, {\n\t\t\ttimeout: init.timeout || input.timeout || 0,\n\t\t\tsize: init.size || input.size || 0\n\t\t});\n\n\t\tconst headers = new Headers(init.headers || input.headers || {});\n\n\t\tif (inputBody != null && !headers.has('Content-Type')) {\n\t\t\tconst contentType = extractContentType(inputBody);\n\t\t\tif (contentType) {\n\t\t\t\theaders.append('Content-Type', contentType);\n\t\t\t}\n\t\t}\n\n\t\tlet signal = isRequest(input) ? input.signal : null;\n\t\tif ('signal' in init) signal = init.signal;\n\n\t\tif (signal != null && !isAbortSignal(signal)) {\n\t\t\tthrow new TypeError('Expected signal to be an instanceof AbortSignal');\n\t\t}\n\n\t\tthis[INTERNALS$2] = {\n\t\t\tmethod,\n\t\t\tredirect: init.redirect || input.redirect || 'follow',\n\t\t\theaders,\n\t\t\tparsedURL,\n\t\t\tsignal\n\t\t};\n\n\t\t// node-fetch-only options\n\t\tthis.follow = init.follow !== undefined ? init.follow : input.follow !== undefined ? input.follow : 20;\n\t\tthis.compress = init.compress !== undefined ? init.compress : input.compress !== undefined ? input.compress : true;\n\t\tthis.counter = init.counter || input.counter || 0;\n\t\tthis.agent = init.agent || input.agent;\n\t}\n\n\tget method() {\n\t\treturn this[INTERNALS$2].method;\n\t}\n\n\tget url() {\n\t\treturn format_url(this[INTERNALS$2].parsedURL);\n\t}\n\n\tget headers() {\n\t\treturn this[INTERNALS$2].headers;\n\t}\n\n\tget redirect() {\n\t\treturn this[INTERNALS$2].redirect;\n\t}\n\n\tget signal() {\n\t\treturn this[INTERNALS$2].signal;\n\t}\n\n\t/**\n  * Clone this request\n  *\n  * @return  Request\n  */\n\tclone() {\n\t\treturn new Request(this);\n\t}\n}\n\nBody.mixIn(Request.prototype);\n\nObject.defineProperty(Request.prototype, Symbol.toStringTag, {\n\tvalue: 'Request',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\nObject.defineProperties(Request.prototype, {\n\tmethod: { enumerable: true },\n\turl: { enumerable: true },\n\theaders: { enumerable: true },\n\tredirect: { enumerable: true },\n\tclone: { enumerable: true },\n\tsignal: { enumerable: true }\n});\n\n/**\n * Convert a Request to Node.js http request options.\n *\n * @param   Request  A Request instance\n * @return  Object   The options object to be passed to http.request\n */\nfunction getNodeRequestOptions(request) {\n\tconst parsedURL = request[INTERNALS$2].parsedURL;\n\tconst headers = new Headers(request[INTERNALS$2].headers);\n\n\t// fetch step 1.3\n\tif (!headers.has('Accept')) {\n\t\theaders.set('Accept', '*/*');\n\t}\n\n\t// Basic fetch\n\tif (!parsedURL.protocol || !parsedURL.hostname) {\n\t\tthrow new TypeError('Only absolute URLs are supported');\n\t}\n\n\tif (!/^https?:$/.test(parsedURL.protocol)) {\n\t\tthrow new TypeError('Only HTTP(S) protocols are supported');\n\t}\n\n\tif (request.signal && request.body instanceof Stream.Readable && !streamDestructionSupported) {\n\t\tthrow new Error('Cancellation of streamed requests with AbortSignal is not supported in node < 8');\n\t}\n\n\t// HTTP-network-or-cache fetch steps 2.4-2.7\n\tlet contentLengthValue = null;\n\tif (request.body == null && /^(POST|PUT)$/i.test(request.method)) {\n\t\tcontentLengthValue = '0';\n\t}\n\tif (request.body != null) {\n\t\tconst totalBytes = getTotalBytes(request);\n\t\tif (typeof totalBytes === 'number') {\n\t\t\tcontentLengthValue = String(totalBytes);\n\t\t}\n\t}\n\tif (contentLengthValue) {\n\t\theaders.set('Content-Length', contentLengthValue);\n\t}\n\n\t// HTTP-network-or-cache fetch step 2.11\n\tif (!headers.has('User-Agent')) {\n\t\theaders.set('User-Agent', 'node-fetch/1.0 (+https://github.com/bitinn/node-fetch)');\n\t}\n\n\t// HTTP-network-or-cache fetch step 2.15\n\tif (request.compress && !headers.has('Accept-Encoding')) {\n\t\theaders.set('Accept-Encoding', 'gzip,deflate');\n\t}\n\n\tlet agent = request.agent;\n\tif (typeof agent === 'function') {\n\t\tagent = agent(parsedURL);\n\t}\n\n\tif (!headers.has('Connection') && !agent) {\n\t\theaders.set('Connection', 'close');\n\t}\n\n\t// HTTP-network fetch step 4.2\n\t// chunked encoding is handled by Node.js\n\n\treturn Object.assign({}, parsedURL, {\n\t\tmethod: request.method,\n\t\theaders: exportNodeCompatibleHeaders(headers),\n\t\tagent\n\t});\n}\n\n/**\n * abort-error.js\n *\n * AbortError interface for cancelled requests\n */\n\n/**\n * Create AbortError instance\n *\n * @param   String      message      Error message for human\n * @return  AbortError\n */\nfunction AbortError(message) {\n  Error.call(this, message);\n\n  this.type = 'aborted';\n  this.message = message;\n\n  // hide custom error implementation details from end-users\n  Error.captureStackTrace(this, this.constructor);\n}\n\nAbortError.prototype = Object.create(Error.prototype);\nAbortError.prototype.constructor = AbortError;\nAbortError.prototype.name = 'AbortError';\n\nconst URL$1 = Url.URL || whatwgUrl.URL;\n\n// fix an issue where \"PassThrough\", \"resolve\" aren't a named export for node <10\nconst PassThrough$1 = Stream.PassThrough;\n\nconst isDomainOrSubdomain = function isDomainOrSubdomain(destination, original) {\n\tconst orig = new URL$1(original).hostname;\n\tconst dest = new URL$1(destination).hostname;\n\n\treturn orig === dest || orig[orig.length - dest.length - 1] === '.' && orig.endsWith(dest);\n};\n\n/**\n * Fetch function\n *\n * @param   Mixed    url   Absolute url or Request instance\n * @param   Object   opts  Fetch options\n * @return  Promise\n */\nfunction fetch(url, opts) {\n\n\t// allow custom promise\n\tif (!fetch.Promise) {\n\t\tthrow new Error('native promise missing, set fetch.Promise to your favorite alternative');\n\t}\n\n\tBody.Promise = fetch.Promise;\n\n\t// wrap http.request into fetch\n\treturn new fetch.Promise(function (resolve, reject) {\n\t\t// build request object\n\t\tconst request = new Request(url, opts);\n\t\tconst options = getNodeRequestOptions(request);\n\n\t\tconst send = (options.protocol === 'https:' ? https : http).request;\n\t\tconst signal = request.signal;\n\n\t\tlet response = null;\n\n\t\tconst abort = function abort() {\n\t\t\tlet error = new AbortError('The user aborted a request.');\n\t\t\treject(error);\n\t\t\tif (request.body && request.body instanceof Stream.Readable) {\n\t\t\t\trequest.body.destroy(error);\n\t\t\t}\n\t\t\tif (!response || !response.body) return;\n\t\t\tresponse.body.emit('error', error);\n\t\t};\n\n\t\tif (signal && signal.aborted) {\n\t\t\tabort();\n\t\t\treturn;\n\t\t}\n\n\t\tconst abortAndFinalize = function abortAndFinalize() {\n\t\t\tabort();\n\t\t\tfinalize();\n\t\t};\n\n\t\t// send request\n\t\tconst req = send(options);\n\t\tlet reqTimeout;\n\n\t\tif (signal) {\n\t\t\tsignal.addEventListener('abort', abortAndFinalize);\n\t\t}\n\n\t\tfunction finalize() {\n\t\t\treq.abort();\n\t\t\tif (signal) signal.removeEventListener('abort', abortAndFinalize);\n\t\t\tclearTimeout(reqTimeout);\n\t\t}\n\n\t\tif (request.timeout) {\n\t\t\treq.once('socket', function (socket) {\n\t\t\t\treqTimeout = setTimeout(function () {\n\t\t\t\t\treject(new FetchError(`network timeout at: ${request.url}`, 'request-timeout'));\n\t\t\t\t\tfinalize();\n\t\t\t\t}, request.timeout);\n\t\t\t});\n\t\t}\n\n\t\treq.on('error', function (err) {\n\t\t\treject(new FetchError(`request to ${request.url} failed, reason: ${err.message}`, 'system', err));\n\t\t\tfinalize();\n\t\t});\n\n\t\treq.on('response', function (res) {\n\t\t\tclearTimeout(reqTimeout);\n\n\t\t\tconst headers = createHeadersLenient(res.headers);\n\n\t\t\t// HTTP fetch step 5\n\t\t\tif (fetch.isRedirect(res.statusCode)) {\n\t\t\t\t// HTTP fetch step 5.2\n\t\t\t\tconst location = headers.get('Location');\n\n\t\t\t\t// HTTP fetch step 5.3\n\t\t\t\tlet locationURL = null;\n\t\t\t\ttry {\n\t\t\t\t\tlocationURL = location === null ? null : new URL$1(location, request.url).toString();\n\t\t\t\t} catch (err) {\n\t\t\t\t\t// error here can only be invalid URL in Location: header\n\t\t\t\t\t// do not throw when options.redirect == manual\n\t\t\t\t\t// let the user extract the errorneous redirect URL\n\t\t\t\t\tif (request.redirect !== 'manual') {\n\t\t\t\t\t\treject(new FetchError(`uri requested responds with an invalid redirect URL: ${location}`, 'invalid-redirect'));\n\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// HTTP fetch step 5.5\n\t\t\t\tswitch (request.redirect) {\n\t\t\t\t\tcase 'error':\n\t\t\t\t\t\treject(new FetchError(`uri requested responds with a redirect, redirect mode is set to error: ${request.url}`, 'no-redirect'));\n\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\treturn;\n\t\t\t\t\tcase 'manual':\n\t\t\t\t\t\t// node-fetch-specific step: make manual redirect a bit easier to use by setting the Location header value to the resolved URL.\n\t\t\t\t\t\tif (locationURL !== null) {\n\t\t\t\t\t\t\t// handle corrupted header\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\theaders.set('Location', locationURL);\n\t\t\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t\t\t// istanbul ignore next: nodejs server prevent invalid response headers, we can't test this through normal request\n\t\t\t\t\t\t\t\treject(err);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'follow':\n\t\t\t\t\t\t// HTTP-redirect fetch step 2\n\t\t\t\t\t\tif (locationURL === null) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 5\n\t\t\t\t\t\tif (request.counter >= request.follow) {\n\t\t\t\t\t\t\treject(new FetchError(`maximum redirect reached at: ${request.url}`, 'max-redirect'));\n\t\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 6 (counter increment)\n\t\t\t\t\t\t// Create a new Request object.\n\t\t\t\t\t\tconst requestOpts = {\n\t\t\t\t\t\t\theaders: new Headers(request.headers),\n\t\t\t\t\t\t\tfollow: request.follow,\n\t\t\t\t\t\t\tcounter: request.counter + 1,\n\t\t\t\t\t\t\tagent: request.agent,\n\t\t\t\t\t\t\tcompress: request.compress,\n\t\t\t\t\t\t\tmethod: request.method,\n\t\t\t\t\t\t\tbody: request.body,\n\t\t\t\t\t\t\tsignal: request.signal,\n\t\t\t\t\t\t\ttimeout: request.timeout,\n\t\t\t\t\t\t\tsize: request.size\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tif (!isDomainOrSubdomain(request.url, locationURL)) {\n\t\t\t\t\t\t\tfor (const name of ['authorization', 'www-authenticate', 'cookie', 'cookie2']) {\n\t\t\t\t\t\t\t\trequestOpts.headers.delete(name);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 9\n\t\t\t\t\t\tif (res.statusCode !== 303 && request.body && getTotalBytes(request) === null) {\n\t\t\t\t\t\t\treject(new FetchError('Cannot follow redirect with body being a readable stream', 'unsupported-redirect'));\n\t\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 11\n\t\t\t\t\t\tif (res.statusCode === 303 || (res.statusCode === 301 || res.statusCode === 302) && request.method === 'POST') {\n\t\t\t\t\t\t\trequestOpts.method = 'GET';\n\t\t\t\t\t\t\trequestOpts.body = undefined;\n\t\t\t\t\t\t\trequestOpts.headers.delete('content-length');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 15\n\t\t\t\t\t\tresolve(fetch(new Request(locationURL, requestOpts)));\n\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// prepare response\n\t\t\tres.once('end', function () {\n\t\t\t\tif (signal) signal.removeEventListener('abort', abortAndFinalize);\n\t\t\t});\n\t\t\tlet body = res.pipe(new PassThrough$1());\n\n\t\t\tconst response_options = {\n\t\t\t\turl: request.url,\n\t\t\t\tstatus: res.statusCode,\n\t\t\t\tstatusText: res.statusMessage,\n\t\t\t\theaders: headers,\n\t\t\t\tsize: request.size,\n\t\t\t\ttimeout: request.timeout,\n\t\t\t\tcounter: request.counter\n\t\t\t};\n\n\t\t\t// HTTP-network fetch step 12.1.1.3\n\t\t\tconst codings = headers.get('Content-Encoding');\n\n\t\t\t// HTTP-network fetch step 12.1.1.4: handle content codings\n\n\t\t\t// in following scenarios we ignore compression support\n\t\t\t// 1. compression support is disabled\n\t\t\t// 2. HEAD request\n\t\t\t// 3. no Content-Encoding header\n\t\t\t// 4. no content response (204)\n\t\t\t// 5. content not modified response (304)\n\t\t\tif (!request.compress || request.method === 'HEAD' || codings === null || res.statusCode === 204 || res.statusCode === 304) {\n\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\tresolve(response);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// For Node v6+\n\t\t\t// Be less strict when decoding compressed responses, since sometimes\n\t\t\t// servers send slightly invalid responses that are still accepted\n\t\t\t// by common browsers.\n\t\t\t// Always using Z_SYNC_FLUSH is what cURL does.\n\t\t\tconst zlibOptions = {\n\t\t\t\tflush: zlib.Z_SYNC_FLUSH,\n\t\t\t\tfinishFlush: zlib.Z_SYNC_FLUSH\n\t\t\t};\n\n\t\t\t// for gzip\n\t\t\tif (codings == 'gzip' || codings == 'x-gzip') {\n\t\t\t\tbody = body.pipe(zlib.createGunzip(zlibOptions));\n\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\tresolve(response);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// for deflate\n\t\t\tif (codings == 'deflate' || codings == 'x-deflate') {\n\t\t\t\t// handle the infamous raw deflate response from old servers\n\t\t\t\t// a hack for old IIS and Apache servers\n\t\t\t\tconst raw = res.pipe(new PassThrough$1());\n\t\t\t\traw.once('data', function (chunk) {\n\t\t\t\t\t// see http://stackoverflow.com/questions/37519828\n\t\t\t\t\tif ((chunk[0] & 0x0F) === 0x08) {\n\t\t\t\t\t\tbody = body.pipe(zlib.createInflate());\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbody = body.pipe(zlib.createInflateRaw());\n\t\t\t\t\t}\n\t\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\t\tresolve(response);\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// for br\n\t\t\tif (codings == 'br' && typeof zlib.createBrotliDecompress === 'function') {\n\t\t\t\tbody = body.pipe(zlib.createBrotliDecompress());\n\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\tresolve(response);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// otherwise, use response as-is\n\t\t\tresponse = new Response(body, response_options);\n\t\t\tresolve(response);\n\t\t});\n\n\t\twriteToStream(req, request);\n\t});\n}\n/**\n * Redirect code matching\n *\n * @param   Number   code  Status code\n * @return  Boolean\n */\nfetch.isRedirect = function (code) {\n\treturn code === 301 || code === 302 || code === 303 || code === 307 || code === 308;\n};\n\n// expose Promise\nfetch.Promise = global.Promise;\n\nexport default fetch;\nexport { Headers, Request, Response, FetchError };\n","\"use strict\";\n\nvar realFetch = require('node-fetch');\nmodule.exports = function(url, options) {\n\tif (/^\\/\\//.test(url)) {\n\t\turl = 'https:' + url;\n\t}\n\treturn realFetch.call(this, url, options);\n};\n\nif (!global.fetch) {\n\tglobal.fetch = module.exports;\n\tglobal.Response = realFetch.Response;\n\tglobal.Headers = realFetch.Headers;\n\tglobal.Request = realFetch.Request;\n}\n","//@ts-nocheck\nimport syncFetch from 'sync-fetch'\nimport 'isomorphic-fetch'\nimport logger from '../logger.js'\n// import pkg from '../../package.json';\nconst corsEnabled = typeof location !== 'undefined' && typeof document !== 'undefined'\nlet userAgent = `Citation.js/0.5`\n\nfunction normaliseHeaders(headers) {\n  const result = {}\n  const entries =\n    headers instanceof Headers || headers instanceof syncFetch.Headers\n      ? Array.from(headers)\n      : Object.entries(headers)\n\n  for (const [name, header] of entries) {\n    result[name.toLowerCase()] = header.toString()\n  }\n\n  return result\n}\n\nfunction parseOpts(opts = {}) {\n  const reqOpts = {\n    headers: {\n      accept: '*/*',\n    },\n    method: 'GET',\n    checkContentType: opts.checkContentType,\n  }\n\n  if (userAgent && !corsEnabled) {\n    reqOpts.headers['user-agent'] = userAgent\n  }\n\n  if (opts.body) {\n    reqOpts.method = 'POST'\n    const isJson = typeof opts.body !== 'string'\n    reqOpts.body = isJson ? JSON.stringify(opts.body) : opts.body\n    reqOpts.headers['content-type'] = isJson ? 'application/json' : 'text/plain'\n  }\n\n  if (opts.headers) {\n    Object.assign(reqOpts.headers, normaliseHeaders(opts.headers))\n  }\n\n  return reqOpts\n}\n\nfunction sameType(request, response) {\n  if (!request.accept || request.accept === '*/*' || !response['content-type']) {\n    return true\n  }\n\n  const [a, b] = response['content-type'].split(';')[0].trim().split('/')\n  return request.accept\n    .split(',')\n    .map((type) => type.split(';')[0].trim().split('/'))\n    .some(([c, d]) => (c === a || c === '*') && (d === b || d === '*'))\n}\n\nfunction checkResponse(response, opts) {\n  const { status, headers } = response\n  let error\n\n  if (status >= 400) {\n    error = new Error(`Server responded with status code ${status}`)\n  } else if (opts.checkContentType === true && !sameType(opts.headers, normaliseHeaders(headers))) {\n    error = new Error(`Server responded with content-type ${headers.get('content-type')}`)\n  }\n\n  if (error) {\n    error.status = status\n    error.headers = headers\n    error.body = response.body\n    throw error\n  }\n\n  return response\n}\n\nexport function fetchFile(url, opts) {\n  const reqOpts = parseOpts(opts)\n  logger.http('[core]', reqOpts.method, url, reqOpts)\n  const response = checkResponse(syncFetch(url, reqOpts), reqOpts)\n  return response.text()\n}\nexport async function fetchFileAsync(url, opts) {\n  const reqOpts = parseOpts(opts)\n  logger.http('[core]', reqOpts.method, url, reqOpts)\n  return fetch(url, reqOpts)\n    .then((response) => checkResponse(response, reqOpts))\n    .then((response) => response.text())\n}\nexport function setUserAgent(newUserAgent) {\n  userAgent = newUserAgent\n}\nexport default fetchFile\n","//@ts-nocheck\nclass TokenStack {\n  constructor(array) {\n    this.stack = array\n    this.index = 0\n    this.current = this.stack[this.index]\n  }\n\n  static getPatternText(pattern) {\n    return `\"${pattern instanceof RegExp ? pattern.source : pattern}\"`\n  }\n\n  static getMatchCallback(pattern) {\n    if (Array.isArray(pattern)) {\n      const matches = pattern.map(TokenStack.getMatchCallback)\n      return (token) => matches.some((matchCallback) => matchCallback(token))\n    } else if (pattern instanceof Function) {\n      return pattern\n    } else if (pattern instanceof RegExp) {\n      return (token) => pattern.test(token)\n    } else {\n      return (token) => pattern === token\n    }\n  }\n\n  tokensLeft() {\n    return this.stack.length - this.index\n  }\n\n  matches(pattern) {\n    return TokenStack.getMatchCallback(pattern)(this.current, this.index, this.stack)\n  }\n\n  matchesSequence(sequence) {\n    const part = this.stack.slice(this.index, this.index + sequence.length).join('')\n    return typeof sequence === 'string'\n      ? part === sequence\n      : sequence.every((pattern, index) => TokenStack.getMatchCallback(pattern)(part[index]))\n  }\n\n  consumeToken(pattern = /^[\\s\\S]$/, { inverse = false, spaced = true } = {}) {\n    if (spaced) {\n      this.consumeWhitespace()\n    }\n\n    const token = this.current\n    const match = TokenStack.getMatchCallback(pattern)(token, this.index, this.stack)\n\n    if (match) {\n      this.current = this.stack[++this.index]\n    } else {\n      throw new SyntaxError(\n        `Unexpected token at index ${this.index}: Expected ${TokenStack.getPatternText(\n          pattern\n        )}, got \"${token}\"`\n      )\n    }\n\n    if (spaced) {\n      this.consumeWhitespace()\n    }\n\n    return token\n  }\n\n  consumeWhitespace(pattern = /^\\s$/, { optional = true } = {}) {\n    return this.consume(pattern, {\n      min: +!optional,\n    })\n  }\n\n  consumeN(length) {\n    if (this.tokensLeft() < length) {\n      throw new SyntaxError('Not enough tokens left')\n    }\n\n    const start = this.index\n\n    while (length--) {\n      this.current = this.stack[++this.index]\n    }\n\n    return this.stack.slice(start, this.index).join('')\n  }\n\n  consumeSequence(sequence) {\n    if (this.matchesSequence(sequence)) {\n      return this.consumeN(sequence.length)\n    } else {\n      throw new SyntaxError(`Expected \"${sequence}\", got \"${this.consumeN(sequence.length)}\"`)\n    }\n  }\n\n  consume(\n    pattern = /^[\\s\\S]$/,\n    { min = 0, max = Infinity, inverse = false, tokenMap, tokenFilter } = {}\n  ) {\n    const start = this.index\n    const match = TokenStack.getMatchCallback(pattern)\n\n    while (match(this.current, this.index, this.stack) !== inverse) {\n      this.current = this.stack[++this.index]\n    }\n\n    let consumed = this.stack.slice(start, this.index)\n\n    if (consumed.length < min) {\n      throw new SyntaxError(`Not enough ${TokenStack.getPatternText(pattern)}`)\n    } else if (consumed.length > max) {\n      throw new SyntaxError(`Too many ${TokenStack.getPatternText(pattern)}`)\n    }\n\n    if (tokenMap) {\n      consumed = consumed.map(tokenMap)\n    }\n\n    if (tokenFilter) {\n      consumed = consumed.filter(tokenFilter)\n    }\n\n    return consumed.join('')\n  }\n}\n\nexport default TokenStack\n","import { deepCopy } from './deepCopy.js'\n\nclass Grammar {\n  constructor(rules, state) {\n    this.rules = rules\n    this.defaultState = state\n    this.mainRule = Object.keys(rules)[0]\n    this.log = []\n  }\n\n  parse(iterator, mainRule) {\n    this.lexer = iterator\n    this.token = this.lexer.next()\n    this.state = deepCopy(this.defaultState)\n    this.log = []\n    return this.consumeRule(mainRule || this.mainRule)\n  }\n\n  matchEndOfFile() {\n    return !this.token\n  }\n\n  matchToken(type) {\n    return this.token && type === this.token.type\n  }\n\n  consumeToken(type, optional) {\n    const token = this.token\n\n    if (!type || (token && token.type === type)) {\n      this.token = this.lexer.next()\n      return token\n    } else if (optional) {\n      return undefined\n    } else {\n      const got = token ? `\"${token.type}\"` : 'EOF'\n      const error = new SyntaxError(this.lexer.formatError(token, `expected \"${type}\", got ${got}`))\n      error.message += ` (${this.log.join('->')})`\n      throw error\n    }\n  }\n\n  consumeRule(rule) {\n    this.log.push(rule)\n    const result = this.rules[rule].call(this)\n    this.log.pop()\n    return result\n  }\n}\n\nexport { Grammar }\n","//@ts-nocheck\nfunction createConditionEval(condition) {\n  return function conditionEval(input) {\n    if (typeof condition === 'boolean') {\n      return condition\n    }\n\n    return Object.keys(condition).every((prop) => {\n      const value = condition[prop]\n\n      if (value === true) {\n        return prop in input\n      } else if (value === false) {\n        return !(prop in input)\n      } else if (typeof value === 'function') {\n        return value(input[prop])\n      } else if (Array.isArray(value)) {\n        return value.includes(input[prop])\n      } else {\n        return input[prop] === value\n      }\n    })\n  }\n}\n\nfunction parsePropStatement(prop, toSource) {\n  let inputProp\n  let outputProp\n  let convert\n  let condition\n\n  if (typeof prop === 'string') {\n    inputProp = outputProp = prop\n  } else if (prop) {\n    inputProp = toSource ? prop.target : prop.source\n    outputProp = toSource ? prop.source : prop.target\n\n    if (prop.convert) {\n      convert = toSource ? prop.convert.toSource : prop.convert.toTarget\n    }\n\n    if (prop.when) {\n      condition = toSource ? prop.when.target : prop.when.source\n\n      if (condition != null) {\n        condition = createConditionEval(condition)\n      }\n    }\n  } else {\n    return null\n  }\n\n  inputProp = [].concat(inputProp).filter(Boolean)\n  outputProp = [].concat(outputProp).filter(Boolean)\n  return {\n    inputProp,\n    outputProp,\n    convert,\n    condition,\n  }\n}\n\nfunction createConverter(props, toSource) {\n  toSource = toSource === Translator.CONVERT_TO_SOURCE\n  props = props.map((prop) => parsePropStatement(prop, toSource)).filter(Boolean)\n  return function converter(input) {\n    const output = {}\n\n    for (const { inputProp, outputProp, convert, condition } of props) {\n      if (outputProp.length === 0) {\n        continue\n      } else if (condition && !condition(input)) {\n        continue\n      } else if (inputProp.length !== 0 && inputProp.every((prop) => !(prop in input))) {\n        continue\n      }\n\n      let outputData = inputProp.map((prop) => input[prop])\n\n      if (convert) {\n        try {\n          const converted = convert.apply(input, outputData)\n          outputData = outputProp.length === 1 ? [converted] : converted\n        } catch (cause) {\n          throw new Error(`Failed to convert ${inputProp} to ${outputProp}`, {\n            cause,\n          })\n        }\n      }\n\n      outputProp.forEach((prop, index) => {\n        const value = outputData[index]\n\n        if (value !== undefined) {\n          output[prop] = value\n        }\n      })\n    }\n\n    return output\n  }\n}\n\nclass Translator {\n  constructor(props) {\n    this.convertToSource = createConverter(props, Translator.CONVERT_TO_SOURCE)\n    this.convertToTarget = createConverter(props, Translator.CONVERT_TO_TARGET)\n  }\n}\n\nTranslator.CONVERT_TO_SOURCE = Symbol('convert to source')\nTranslator.CONVERT_TO_TARGET = Symbol('convert to target')\nexport { Translator }\n","export const parse = () => []\n","import logger from '../../logger.js'\nconst substituters = [\n  [/((?:\\[|:|,)\\s*)'((?:\\\\'|[^'])*?[^\\\\])?'(?=\\s*(?:\\]|}|,))/g, '$1\"$2\"'],\n  [\n    /((?:(?:\"|]|}|\\/[gmiuys]|\\.|(?:\\d|\\.|-)*\\d)\\s*,|{)\\s*)(?:\"([^\":\\n]+?)\"|'([^\":\\n]+?)'|([^\":\\n]+?))(\\s*):/g,\n    '$1\"$2$3$4\"$5:',\n  ],\n]\n\nconst parseJSON = function (str) {\n  if (typeof str !== 'string') {\n    return JSON.parse(str)\n  }\n\n  try {\n    return JSON.parse(str)\n  } catch (e) {\n    logger.debug('[plugin-common]', 'Invalid JSON, switching to experimental parser')\n    substituters.forEach(([regex, subst]) => {\n      str = str.replace(regex, subst)\n    })\n    return JSON.parse(str)\n  }\n}\n\nexport { parseJSON as parse, parseJSON as default }\n","export function parse(input) {\n  return input.val() || input.text() || input.html()\n}\n","export function parse(input) {\n  return input.value || input.textContent\n}\n","//@ts-nocheck\nimport * as empty from './empty.js'\nimport * as url from './url.js'\nimport * as json from './json.js'\nimport * as jquery from './jquery.js'\nimport * as html from './html.js'\nexport const ref = '@else'\nexport const parsers = {\n  empty,\n  url,\n  json,\n  jquery,\n  html,\n}\nexport const formats = {\n  '@empty/text': {\n    parse: empty.parse,\n    parseType: {\n      dataType: 'String',\n      predicate: (input) => input === '',\n    },\n  },\n  '@empty/whitespace+text': {\n    parse: empty.parse,\n    parseType: {\n      dataType: 'String',\n      predicate: /^\\s+$/,\n    },\n  },\n  '@empty': {\n    parse: empty.parse,\n    parseType: {\n      dataType: 'Primitive',\n      predicate: (input) => input == null,\n    },\n  },\n  '@else/json': {\n    parse: json.parse,\n    parseType: {\n      dataType: 'String',\n      predicate: /^\\s*(\\{[\\S\\s]*\\}|\\[[\\S\\s]*\\])\\s*$/,\n    },\n  },\n  '@else/url': {\n    parse: url.parse,\n    parseAsync: url.parseAsync,\n    parseType: {\n      dataType: 'String',\n      predicate: /^https?:\\/\\/(([\\w-]+\\.)*[\\w-]+)(:\\d+)?(\\/[^?/]*)*(\\?[^#]*)?(#.*)?$/i,\n    },\n  },\n  '@else/jquery': {\n    parse: jquery.parse,\n    parseType: {\n      dataType: 'ComplexObject',\n\n      predicate(input) {\n        return typeof jQuery !== 'undefined' && input instanceof jQuery\n      },\n    },\n  },\n  '@else/html': {\n    parse: html.parse,\n    parseType: {\n      dataType: 'ComplexObject',\n\n      predicate(input) {\n        return typeof HTMLElement !== 'undefined' && input instanceof HTMLElement\n      },\n    },\n  },\n}\n","//@ts-nocheck\nimport * as plugins from '../../plugins/index.js'\nimport * as util from '../../util/index.js'\nimport logger from '../../logger.js'\n\nconst appendCommas = (string, index, array) => string + (index < array.length - 1 ? ',' : '')\n\nconst getJsonObject = function (src, dict) {\n  const isArray = Array.isArray(src)\n  let entries\n\n  if (isArray) {\n    entries = src.map((entry) => getJsonValue(entry, dict))\n  } else {\n    entries = Object.keys(src)\n      .filter((prop) => JSON.stringify(src[prop]))\n      .map((prop) => `\"${prop}\": ${getJsonValue(src[prop], dict)}`)\n  }\n\n  entries = entries.map(appendCommas).map((entry) => dict.listItem.join(entry))\n  entries = dict.list.join(entries.join(''))\n  return isArray ? `[${entries}]` : `{${entries}}`\n}\n\nconst getJsonValue = function (src, dict) {\n  if (typeof src === 'object' && src !== null) {\n    if (src.length === 0) {\n      return '[]'\n    } else if (Object.keys(src).length === 0) {\n      return '{}'\n    } else {\n      return getJsonObject(src, dict)\n    }\n  } else {\n    return JSON.stringify(src)\n  }\n}\n\nconst getJson = function (src, dict) {\n  let entries = src.map((entry) => getJsonObject(entry, dict))\n  entries = entries.map(appendCommas).map((entry) => dict.entry.join(entry))\n  entries = entries.join('')\n  return dict.bibliographyContainer.join(`[${entries}]`)\n}\n\nexport function getJsonWrapper(src) {\n  return getJson(src, plugins.dict.get('html'))\n}\nexport default {\n  data(data, { type, format = type || 'text' } = {}) {\n    if (format === 'object') {\n      return util.deepCopy(data)\n    } else if (format === 'text') {\n      return JSON.stringify(data, null, 2)\n    } else {\n      logger.warn(\n        '[core]',\n        'This feature (JSON output with special formatting) is unstable. See https://github.com/larsgw/citation.js/issues/144'\n      )\n      return getJson(data, plugins.dict.get(format))\n    }\n  },\n\n  ndjson(data) {\n    return data.map((entry) => JSON.stringify(entry)).join('\\n')\n  },\n}\n","import json from './json.js'\nimport label from './label.js'\nexport default Object.assign({}, json, label)\n","import * as plugins from '../plugins/index.js'\nimport { ref, formats as input } from './input/index.js'\nimport output from './output/index.js'\nplugins.add(ref, {\n  input,\n  output,\n})\n","import Cite from './Cite/index.js'\nimport * as plugins from './plugins/index.js'\nimport * as util from './util/index.js'\nimport logger from './logger.js'\n// import pkg from '../package.json';\nimport './plugin-common/index.js'\nexport const version = 0.5\nexport { Cite, plugins, util, logger }\n","//@ts-nocheck\nimport { parse as parseDate } from '@citation-js/date'\nimport { parse as parseName } from '@citation-js/name'\n\nfunction nameProps(person) {\n  const { firstname, lastname, firstName: given = firstname, lastName: family = lastname } = person\n\n  if (given && family) {\n    return {\n      given,\n      family,\n    }\n  } else if (person.name) {\n    return parseName(person.name)\n  }\n}\n\nconst identifiers = ['PMID', 'PMCID', 'DOI', 'ISBN']\nconst journalIdentifiers = ['ISSN']\n\nfunction idProps(input, identifiers) {\n  const output = {}\n\n  for (const prop in input) {\n    const upperCaseProp = prop.toUpperCase()\n\n    if (identifiers.includes(upperCaseProp)) {\n      output[upperCaseProp] = input[prop]\n    }\n  }\n\n  if (input.identifier) {\n    for (let { id, type = '' } of input.identifier) {\n      type = type.toUpperCase()\n\n      if (identifiers.includes(type)) {\n        output[type] = id\n      }\n    }\n  }\n\n  return output\n}\n\nconst typeMap = {\n  article: 'article',\n  book: 'book',\n  booklet: 'book',\n  proceedings: 'book',\n  mastersthesis: 'thesis',\n  inbook: 'chapter',\n  incollection: 'chapter',\n  conference: 'paper-conference',\n  inproceedings: 'paper-conference',\n  online: 'website',\n  patent: 'patent',\n  phdthesis: 'thesis',\n  techreport: 'report',\n  unpublished: 'manuscript',\n  manual: undefined,\n  misc: undefined,\n}\n\nfunction quickscrapeSpecificProps() {\n  return {\n    type: 'article-journal',\n  }\n}\n\nfunction generalProps(input) {\n  const output = {\n    type: typeMap[input.type] || 'book',\n  }\n\n  if (input.title) {\n    output.title = input.title\n  }\n\n  if (input.author) {\n    output.author = input.author.map(nameProps).filter(Boolean)\n  }\n\n  if (input.editor) {\n    output.editor = input.editor.map(nameProps).filter(Boolean)\n  }\n\n  if (input.reviewer) {\n    if (input.author) {\n      output['reviewed-author'] = output.author\n    }\n\n    output.author = input.reviewer.map(nameProps).filter(Boolean)\n  }\n\n  if (Array.isArray(input.keywords)) {\n    output.keyword = input.keywords.join()\n  } else if (input.keywords) {\n    output.keyword = input.keywords\n  }\n\n  if (input.publisher) {\n    output.publisher = input.publisher.name || input.publisher\n  }\n\n  if (input.date && Object.keys(input.date).length > 0) {\n    const dates = input.date\n\n    if (dates.submitted) {\n      output.submitted = parseDate(dates.submitted)\n    }\n\n    if (dates.published) {\n      output.issued = parseDate(dates.published)\n    }\n  } else if (input.year) {\n    output.issued = {\n      'date-parts': [[+input.year]],\n    }\n  }\n\n  if (input.journal) {\n    const journal = input.journal\n\n    if (journal.name) {\n      output['container-title'] = journal.name\n    }\n\n    if (journal.volume) {\n      output.volume = +journal.volume\n    }\n\n    if (journal.issue) {\n      output.issue = +journal.issue\n    }\n\n    Object.assign(output, idProps(journal, journalIdentifiers))\n\n    if (journal.firstpage) {\n      output['page-first'] = journal.firstpage\n    }\n\n    if (journal.pages) {\n      output.page = journal.pages.replace('--', '-')\n    } else if (journal.firstpage && journal.lastpage) {\n      output.page = journal.firstpage + '-' + journal.lastpage\n    }\n  }\n\n  if (input.link && typeof input.link[0] === 'object') {\n    output.URL = input.link[0].url\n  }\n\n  Object.assign(output, idProps(input, identifiers))\n\n  if (input.cid) {\n    output.id = input.cid\n  } else if (output.DOI) {\n    output.id = output.DOI\n  }\n\n  return output\n}\n\nconst parseContentMine = function (data) {\n  return Object.assign(generalProps(data), quickscrapeSpecificProps(data))\n}\n\nconst parseBibJson = function (data) {\n  return generalProps(data)\n}\n\nexport { parseContentMine as quickscrapeRecord, parseBibJson as record }\n","import * as json from './json.js'\nimport { plugins } from '../core/index.js'\nconst scraperLinks = ['fulltext_html', 'fulltext_xml', 'fulltext_pdf']\nconst ref = '@bibjson'\nconst parsers = {\n  json,\n}\nconst formats = {\n  '@bibjson/quickscrape+record+object': {\n    parse: json.quickscrapeRecord,\n    parseType: {\n      propertyConstraint: {\n        props: 'link',\n\n        value(links) {\n          return scraperLinks.some((link) => links.find(({ type }) => type === link))\n        },\n      },\n      extends: '@bibjson/record+object',\n    },\n  },\n  '@bibjson/record+object': {\n    parse: json.record,\n    parseType: {\n      dataType: 'SimpleObject',\n      propertyConstraint: [\n        {\n          props: 'title',\n        },\n        {\n          props: ['author', 'editor'],\n          match: 'some',\n\n          value(authors) {\n            return Array.isArray(authors) && authors[0] && 'name' in authors[0]\n          },\n        },\n      ],\n    },\n  },\n  '@bibjson/collection+object': {\n    parse(collection) {\n      return collection.records\n    },\n\n    parseType: {\n      dataType: 'SimpleObject',\n      propertyConstraint: [\n        {\n          props: 'metadata',\n\n          value(metadata) {\n            return 'collection' in metadata\n          },\n        },\n        {\n          props: 'records',\n\n          value(records) {\n            return Array.isArray(records)\n          },\n        },\n      ],\n    },\n  },\n}\nplugins.add(ref, {\n  input: formats,\n})\nexport { ref, parsers, formats }\n","(function(root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define([], factory) /* global define */\n  } else if (typeof module === 'object' && module.exports) {\n    module.exports = factory()\n  } else {\n    root.moo = factory()\n  }\n}(this, function() {\n  'use strict';\n\n  var hasOwnProperty = Object.prototype.hasOwnProperty\n  var toString = Object.prototype.toString\n  var hasSticky = typeof new RegExp().sticky === 'boolean'\n\n  /***************************************************************************/\n\n  function isRegExp(o) { return o && toString.call(o) === '[object RegExp]' }\n  function isObject(o) { return o && typeof o === 'object' && !isRegExp(o) && !Array.isArray(o) }\n\n  function reEscape(s) {\n    return s.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&')\n  }\n  function reGroups(s) {\n    var re = new RegExp('|' + s)\n    return re.exec('').length - 1\n  }\n  function reCapture(s) {\n    return '(' + s + ')'\n  }\n  function reUnion(regexps) {\n    if (!regexps.length) return '(?!)'\n    var source =  regexps.map(function(s) {\n      return \"(?:\" + s + \")\"\n    }).join('|')\n    return \"(?:\" + source + \")\"\n  }\n\n  function regexpOrLiteral(obj) {\n    if (typeof obj === 'string') {\n      return '(?:' + reEscape(obj) + ')'\n\n    } else if (isRegExp(obj)) {\n      // TODO: consider /u support\n      if (obj.ignoreCase) throw new Error('RegExp /i flag not allowed')\n      if (obj.global) throw new Error('RegExp /g flag is implied')\n      if (obj.sticky) throw new Error('RegExp /y flag is implied')\n      if (obj.multiline) throw new Error('RegExp /m flag is implied')\n      return obj.source\n\n    } else {\n      throw new Error('Not a pattern: ' + obj)\n    }\n  }\n\n  function objectToRules(object) {\n    var keys = Object.getOwnPropertyNames(object)\n    var result = []\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i]\n      var thing = object[key]\n      var rules = [].concat(thing)\n      if (key === 'include') {\n        for (var j = 0; j < rules.length; j++) {\n          result.push({include: rules[j]})\n        }\n        continue\n      }\n      var match = []\n      rules.forEach(function(rule) {\n        if (isObject(rule)) {\n          if (match.length) result.push(ruleOptions(key, match))\n          result.push(ruleOptions(key, rule))\n          match = []\n        } else {\n          match.push(rule)\n        }\n      })\n      if (match.length) result.push(ruleOptions(key, match))\n    }\n    return result\n  }\n\n  function arrayToRules(array) {\n    var result = []\n    for (var i = 0; i < array.length; i++) {\n      var obj = array[i]\n      if (obj.include) {\n        var include = [].concat(obj.include)\n        for (var j = 0; j < include.length; j++) {\n          result.push({include: include[j]})\n        }\n        continue\n      }\n      if (!obj.type) {\n        throw new Error('Rule has no type: ' + JSON.stringify(obj))\n      }\n      result.push(ruleOptions(obj.type, obj))\n    }\n    return result\n  }\n\n  function ruleOptions(type, obj) {\n    if (!isObject(obj)) {\n      obj = { match: obj }\n    }\n    if (obj.include) {\n      throw new Error('Matching rules cannot also include states')\n    }\n\n    // nb. error and fallback imply lineBreaks\n    var options = {\n      defaultType: type,\n      lineBreaks: !!obj.error || !!obj.fallback,\n      pop: false,\n      next: null,\n      push: null,\n      error: false,\n      fallback: false,\n      value: null,\n      type: null,\n      shouldThrow: false,\n    }\n\n    // Avoid Object.assign(), so we support IE9+\n    for (var key in obj) {\n      if (hasOwnProperty.call(obj, key)) {\n        options[key] = obj[key]\n      }\n    }\n\n    // type transform cannot be a string\n    if (typeof options.type === 'string' && type !== options.type) {\n      throw new Error(\"Type transform cannot be a string (type '\" + options.type + \"' for token '\" + type + \"')\")\n    }\n\n    // convert to array\n    var match = options.match\n    options.match = Array.isArray(match) ? match : match ? [match] : []\n    options.match.sort(function(a, b) {\n      return isRegExp(a) && isRegExp(b) ? 0\n           : isRegExp(b) ? -1 : isRegExp(a) ? +1 : b.length - a.length\n    })\n    return options\n  }\n\n  function toRules(spec) {\n    return Array.isArray(spec) ? arrayToRules(spec) : objectToRules(spec)\n  }\n\n  var defaultErrorRule = ruleOptions('error', {lineBreaks: true, shouldThrow: true})\n  function compileRules(rules, hasStates) {\n    var errorRule = null\n    var fast = Object.create(null)\n    var fastAllowed = true\n    var unicodeFlag = null\n    var groups = []\n    var parts = []\n\n    // If there is a fallback rule, then disable fast matching\n    for (var i = 0; i < rules.length; i++) {\n      if (rules[i].fallback) {\n        fastAllowed = false\n      }\n    }\n\n    for (var i = 0; i < rules.length; i++) {\n      var options = rules[i]\n\n      if (options.include) {\n        // all valid inclusions are removed by states() preprocessor\n        throw new Error('Inheritance is not allowed in stateless lexers')\n      }\n\n      if (options.error || options.fallback) {\n        // errorRule can only be set once\n        if (errorRule) {\n          if (!options.fallback === !errorRule.fallback) {\n            throw new Error(\"Multiple \" + (options.fallback ? \"fallback\" : \"error\") + \" rules not allowed (for token '\" + options.defaultType + \"')\")\n          } else {\n            throw new Error(\"fallback and error are mutually exclusive (for token '\" + options.defaultType + \"')\")\n          }\n        }\n        errorRule = options\n      }\n\n      var match = options.match.slice()\n      if (fastAllowed) {\n        while (match.length && typeof match[0] === 'string' && match[0].length === 1) {\n          var word = match.shift()\n          fast[word.charCodeAt(0)] = options\n        }\n      }\n\n      // Warn about inappropriate state-switching options\n      if (options.pop || options.push || options.next) {\n        if (!hasStates) {\n          throw new Error(\"State-switching options are not allowed in stateless lexers (for token '\" + options.defaultType + \"')\")\n        }\n        if (options.fallback) {\n          throw new Error(\"State-switching options are not allowed on fallback tokens (for token '\" + options.defaultType + \"')\")\n        }\n      }\n\n      // Only rules with a .match are included in the RegExp\n      if (match.length === 0) {\n        continue\n      }\n      fastAllowed = false\n\n      groups.push(options)\n\n      // Check unicode flag is used everywhere or nowhere\n      for (var j = 0; j < match.length; j++) {\n        var obj = match[j]\n        if (!isRegExp(obj)) {\n          continue\n        }\n\n        if (unicodeFlag === null) {\n          unicodeFlag = obj.unicode\n        } else if (unicodeFlag !== obj.unicode && options.fallback === false) {\n          throw new Error('If one rule is /u then all must be')\n        }\n      }\n\n      // convert to RegExp\n      var pat = reUnion(match.map(regexpOrLiteral))\n\n      // validate\n      var regexp = new RegExp(pat)\n      if (regexp.test(\"\")) {\n        throw new Error(\"RegExp matches empty string: \" + regexp)\n      }\n      var groupCount = reGroups(pat)\n      if (groupCount > 0) {\n        throw new Error(\"RegExp has capture groups: \" + regexp + \"\\nUse (?: … ) instead\")\n      }\n\n      // try and detect rules matching newlines\n      if (!options.lineBreaks && regexp.test('\\n')) {\n        throw new Error('Rule should declare lineBreaks: ' + regexp)\n      }\n\n      // store regex\n      parts.push(reCapture(pat))\n    }\n\n\n    // If there's no fallback rule, use the sticky flag so we only look for\n    // matches at the current index.\n    //\n    // If we don't support the sticky flag, then fake it using an irrefutable\n    // match (i.e. an empty pattern).\n    var fallbackRule = errorRule && errorRule.fallback\n    var flags = hasSticky && !fallbackRule ? 'ym' : 'gm'\n    var suffix = hasSticky || fallbackRule ? '' : '|'\n\n    if (unicodeFlag === true) flags += \"u\"\n    var combined = new RegExp(reUnion(parts) + suffix, flags)\n    return {regexp: combined, groups: groups, fast: fast, error: errorRule || defaultErrorRule}\n  }\n\n  function compile(rules) {\n    var result = compileRules(toRules(rules))\n    return new Lexer({start: result}, 'start')\n  }\n\n  function checkStateGroup(g, name, map) {\n    var state = g && (g.push || g.next)\n    if (state && !map[state]) {\n      throw new Error(\"Missing state '\" + state + \"' (in token '\" + g.defaultType + \"' of state '\" + name + \"')\")\n    }\n    if (g && g.pop && +g.pop !== 1) {\n      throw new Error(\"pop must be 1 (in token '\" + g.defaultType + \"' of state '\" + name + \"')\")\n    }\n  }\n  function compileStates(states, start) {\n    var all = states.$all ? toRules(states.$all) : []\n    delete states.$all\n\n    var keys = Object.getOwnPropertyNames(states)\n    if (!start) start = keys[0]\n\n    var ruleMap = Object.create(null)\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i]\n      ruleMap[key] = toRules(states[key]).concat(all)\n    }\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i]\n      var rules = ruleMap[key]\n      var included = Object.create(null)\n      for (var j = 0; j < rules.length; j++) {\n        var rule = rules[j]\n        if (!rule.include) continue\n        var splice = [j, 1]\n        if (rule.include !== key && !included[rule.include]) {\n          included[rule.include] = true\n          var newRules = ruleMap[rule.include]\n          if (!newRules) {\n            throw new Error(\"Cannot include nonexistent state '\" + rule.include + \"' (in state '\" + key + \"')\")\n          }\n          for (var k = 0; k < newRules.length; k++) {\n            var newRule = newRules[k]\n            if (rules.indexOf(newRule) !== -1) continue\n            splice.push(newRule)\n          }\n        }\n        rules.splice.apply(rules, splice)\n        j--\n      }\n    }\n\n    var map = Object.create(null)\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i]\n      map[key] = compileRules(ruleMap[key], true)\n    }\n\n    for (var i = 0; i < keys.length; i++) {\n      var name = keys[i]\n      var state = map[name]\n      var groups = state.groups\n      for (var j = 0; j < groups.length; j++) {\n        checkStateGroup(groups[j], name, map)\n      }\n      var fastKeys = Object.getOwnPropertyNames(state.fast)\n      for (var j = 0; j < fastKeys.length; j++) {\n        checkStateGroup(state.fast[fastKeys[j]], name, map)\n      }\n    }\n\n    return new Lexer(map, start)\n  }\n\n  function keywordTransform(map) {\n    var reverseMap = Object.create(null)\n    var byLength = Object.create(null)\n    var types = Object.getOwnPropertyNames(map)\n    for (var i = 0; i < types.length; i++) {\n      var tokenType = types[i]\n      var item = map[tokenType]\n      var keywordList = Array.isArray(item) ? item : [item]\n      keywordList.forEach(function(keyword) {\n        (byLength[keyword.length] = byLength[keyword.length] || []).push(keyword)\n        if (typeof keyword !== 'string') {\n          throw new Error(\"keyword must be string (in keyword '\" + tokenType + \"')\")\n        }\n        reverseMap[keyword] = tokenType\n      })\n    }\n\n    // fast string lookup\n    // https://jsperf.com/string-lookups\n    function str(x) { return JSON.stringify(x) }\n    var source = ''\n    source += 'switch (value.length) {\\n'\n    for (var length in byLength) {\n      var keywords = byLength[length]\n      source += 'case ' + length + ':\\n'\n      source += 'switch (value) {\\n'\n      keywords.forEach(function(keyword) {\n        var tokenType = reverseMap[keyword]\n        source += 'case ' + str(keyword) + ': return ' + str(tokenType) + '\\n'\n      })\n      source += '}\\n'\n    }\n    source += '}\\n'\n    return Function('value', source) // type\n  }\n\n  /***************************************************************************/\n\n  var Lexer = function(states, state) {\n    this.startState = state\n    this.states = states\n    this.buffer = ''\n    this.stack = []\n    this.reset()\n  }\n\n  Lexer.prototype.reset = function(data, info) {\n    this.buffer = data || ''\n    this.index = 0\n    this.line = info ? info.line : 1\n    this.col = info ? info.col : 1\n    this.queuedToken = info ? info.queuedToken : null\n    this.queuedThrow = info ? info.queuedThrow : null\n    this.setState(info ? info.state : this.startState)\n    this.stack = info && info.stack ? info.stack.slice() : []\n    return this\n  }\n\n  Lexer.prototype.save = function() {\n    return {\n      line: this.line,\n      col: this.col,\n      state: this.state,\n      stack: this.stack.slice(),\n      queuedToken: this.queuedToken,\n      queuedThrow: this.queuedThrow,\n    }\n  }\n\n  Lexer.prototype.setState = function(state) {\n    if (!state || this.state === state) return\n    this.state = state\n    var info = this.states[state]\n    this.groups = info.groups\n    this.error = info.error\n    this.re = info.regexp\n    this.fast = info.fast\n  }\n\n  Lexer.prototype.popState = function() {\n    this.setState(this.stack.pop())\n  }\n\n  Lexer.prototype.pushState = function(state) {\n    this.stack.push(this.state)\n    this.setState(state)\n  }\n\n  var eat = hasSticky ? function(re, buffer) { // assume re is /y\n    return re.exec(buffer)\n  } : function(re, buffer) { // assume re is /g\n    var match = re.exec(buffer)\n    // will always match, since we used the |(?:) trick\n    if (match[0].length === 0) {\n      return null\n    }\n    return match\n  }\n\n  Lexer.prototype._getGroup = function(match) {\n    var groupCount = this.groups.length\n    for (var i = 0; i < groupCount; i++) {\n      if (match[i + 1] !== undefined) {\n        return this.groups[i]\n      }\n    }\n    throw new Error('Cannot find token type for matched text')\n  }\n\n  function tokenToString() {\n    return this.value\n  }\n\n  Lexer.prototype.next = function() {\n    var index = this.index\n\n    // If a fallback token matched, we don't need to re-run the RegExp\n    if (this.queuedGroup) {\n      var token = this._token(this.queuedGroup, this.queuedText, index)\n      this.queuedGroup = null\n      this.queuedText = \"\"\n      return token\n    }\n\n    var buffer = this.buffer\n    if (index === buffer.length) {\n      return // EOF\n    }\n\n    // Fast matching for single characters\n    var group = this.fast[buffer.charCodeAt(index)]\n    if (group) {\n      return this._token(group, buffer.charAt(index), index)\n    }\n\n    // Execute RegExp\n    var re = this.re\n    re.lastIndex = index\n    var match = eat(re, buffer)\n\n    // Error tokens match the remaining buffer\n    var error = this.error\n    if (match == null) {\n      return this._token(error, buffer.slice(index, buffer.length), index)\n    }\n\n    var group = this._getGroup(match)\n    var text = match[0]\n\n    if (error.fallback && match.index !== index) {\n      this.queuedGroup = group\n      this.queuedText = text\n\n      // Fallback tokens contain the unmatched portion of the buffer\n      return this._token(error, buffer.slice(index, match.index), index)\n    }\n\n    return this._token(group, text, index)\n  }\n\n  Lexer.prototype._token = function(group, text, offset) {\n    // count line breaks\n    var lineBreaks = 0\n    if (group.lineBreaks) {\n      var matchNL = /\\n/g\n      var nl = 1\n      if (text === '\\n') {\n        lineBreaks = 1\n      } else {\n        while (matchNL.exec(text)) { lineBreaks++; nl = matchNL.lastIndex }\n      }\n    }\n\n    var token = {\n      type: (typeof group.type === 'function' && group.type(text)) || group.defaultType,\n      value: typeof group.value === 'function' ? group.value(text) : text,\n      text: text,\n      toString: tokenToString,\n      offset: offset,\n      lineBreaks: lineBreaks,\n      line: this.line,\n      col: this.col,\n    }\n    // nb. adding more props to token object will make V8 sad!\n\n    var size = text.length\n    this.index += size\n    this.line += lineBreaks\n    if (lineBreaks !== 0) {\n      this.col = size - nl + 1\n    } else {\n      this.col += size\n    }\n\n    // throw, if no rule with {error: true}\n    if (group.shouldThrow) {\n      throw new Error(this.formatError(token, \"invalid syntax\"))\n    }\n\n    if (group.pop) this.popState()\n    else if (group.push) this.pushState(group.push)\n    else if (group.next) this.setState(group.next)\n\n    return token\n  }\n\n  if (typeof Symbol !== 'undefined' && Symbol.iterator) {\n    var LexerIterator = function(lexer) {\n      this.lexer = lexer\n    }\n\n    LexerIterator.prototype.next = function() {\n      var token = this.lexer.next()\n      return {value: token, done: !token}\n    }\n\n    LexerIterator.prototype[Symbol.iterator] = function() {\n      return this\n    }\n\n    Lexer.prototype[Symbol.iterator] = function() {\n      return new LexerIterator(this)\n    }\n  }\n\n  Lexer.prototype.formatError = function(token, message) {\n    if (token == null) {\n      // An undefined token indicates EOF\n      var text = this.buffer.slice(this.index)\n      var token = {\n        text: text,\n        offset: this.index,\n        lineBreaks: text.indexOf('\\n') === -1 ? 0 : 1,\n        line: this.line,\n        col: this.col,\n      }\n    }\n    var start = Math.max(0, token.offset - token.col + 1)\n    var eol = token.lineBreaks ? token.text.indexOf('\\n') : token.text.length\n    var firstLine = this.buffer.substring(start, token.offset + eol)\n    message += \" at line \" + token.line + \" col \" + token.col + \":\\n\\n\"\n    message += \"  \" + firstLine + \"\\n\"\n    message += \"  \" + Array(token.col).join(\" \") + \"^\"\n    return message\n  }\n\n  Lexer.prototype.clone = function() {\n    return new Lexer(this.states, this.state)\n  }\n\n  Lexer.prototype.has = function(tokenType) {\n    return true\n  }\n\n\n  return {\n    compile: compile,\n    states: compileStates,\n    error: Object.freeze({error: true}),\n    fallback: Object.freeze({fallback: true}),\n    keywords: keywordTransform,\n  }\n\n}));\n","const required = {\n  biblatex: {\n    article: ['author', 'title', 'journaltitle', ['year', 'date']],\n    book: ['author', 'title', ['year', 'date']],\n    mvbook: ['author', 'title', ['year', 'date']],\n    inbook: ['author', 'title', 'booktitle', ['year', 'date']],\n    booklet: [['author', 'editor'], 'title', ['year', 'date']],\n    collection: ['editor', 'title', ['year', 'date']],\n    mvcollection: ['editor', 'title', ['year', 'date']],\n    incollection: ['author', 'title', 'booktitle', ['year', 'date']],\n    dataset: [['author', 'editor'], 'title', ['year', 'date']],\n    online: [['author', 'editor'], 'title', ['year', 'date'], ['doi', 'eprint', 'url']],\n    patent: ['author', 'title', 'number', ['year', 'date']],\n    periodical: ['editor', 'title', ['year', 'date']],\n    proceedings: ['title', ['year', 'date']],\n    mvproceedings: ['title', ['year', 'date']],\n    inproceedings: ['author', 'title', 'booktitle', ['year', 'date']],\n    report: ['author', 'title', 'type', 'institution', ['year', 'date']],\n    thesis: ['author', 'title', 'type', 'institution', ['year', 'date']],\n    unpublished: ['author', 'title', ['year', 'date']],\n    conference: ['author', 'title', 'booktitle', ['year', 'date']],\n    electronic: [['author', 'editor'], 'title', ['year', 'date'], ['doi', 'eprint', 'url']],\n    mastersthesis: ['author', 'title', 'institution', ['year', 'date']],\n    phdthesis: ['author', 'title', 'institution', ['year', 'date']],\n    techreport: ['author', 'title', 'institution', ['year', 'date']],\n    www: [['author', 'editor'], 'title', ['year', 'date'], ['doi', 'eprint', 'url']],\n  },\n  bibtex: {\n    article: ['author', 'title', 'journal', 'year'],\n    book: [['author', 'editor'], 'title', 'publisher', 'year'],\n    booklet: ['title'],\n    inbook: [['author', 'editor'], 'title', ['chapter', 'pages'], 'publisher', 'year'],\n    incollection: ['author', 'title', 'booktitle', 'publisher', 'year'],\n    inproceedings: ['author', 'title', 'booktitle', 'year'],\n    mastersthesis: ['author', 'title', 'school', 'year'],\n    phdthesis: ['author', 'title', 'school', 'year'],\n    proceedings: ['title', 'year'],\n    techreport: ['author', 'title', 'institution', 'year'],\n    unpublished: ['author', 'title', 'note'],\n  },\n}\n\nexport default required\n","const fieldTypes = {\n  abstract: ['field', 'literal'],\n  addendum: ['field', 'literal'],\n  afterword: ['list', 'name'],\n  annotation: ['field', 'literal'],\n  annotator: ['list', 'name'],\n  author: ['list', 'name'],\n  authortype: ['field', 'key'],\n  bookauthor: ['list', 'name'],\n  bookpagination: ['field', 'key'],\n  booksubtitle: ['field', 'literal'],\n  booktitle: ['field', 'title'],\n  booktitleaddon: ['field', 'literal'],\n  chapter: ['field', 'literal'],\n  commentator: ['list', 'name'],\n  date: ['field', 'date'],\n  doi: ['field', 'verbatim'],\n  edition: ['field', 'literal'],\n  editor: ['list', 'name'],\n  editora: ['list', 'name'],\n  editorb: ['list', 'name'],\n  editorc: ['list', 'name'],\n  editortype: ['field', 'key'],\n  editoratype: ['field', 'key'],\n  editorbtype: ['field', 'key'],\n  editorctype: ['field', 'key'],\n  eid: ['field', 'literal'],\n  entrysubtype: ['field', 'literal'],\n  eprint: ['field', 'verbatim'],\n  eprintclass: ['field', 'literal'],\n  eprinttype: ['field', 'literal'],\n  eventdate: ['field', 'date'],\n  eventtitle: ['field', 'title'],\n  eventtitleaddon: ['field', 'literal'],\n  file: ['field', 'verbatim'],\n  foreword: ['list', 'name'],\n  holder: ['list', 'name'],\n  howpublished: ['field', 'literal'],\n  indextitle: ['field', 'literal'],\n  institution: ['list', 'literal'],\n  introduction: ['list', 'name'],\n  isan: ['field', 'literal'],\n  isbn: ['field', 'literal'],\n  ismn: ['field', 'literal'],\n  isrn: ['field', 'literal'],\n  issn: ['field', 'literal'],\n  issue: ['field', 'literal'],\n  issuesubtitle: ['field', 'literal'],\n  issuetitle: ['field', 'literal'],\n  iswc: ['field', 'literal'],\n  journalsubtitle: ['field', 'literal'],\n  journaltitle: ['field', 'literal'],\n  label: ['field', 'literal'],\n  language: ['list', 'key'],\n  library: ['field', 'literal'],\n  location: ['list', 'literal'],\n  mainsubtitle: ['field', 'literal'],\n  maintitle: ['field', 'title'],\n  maintitleaddon: ['field', 'literal'],\n  month: ['field', 'literal'],\n  nameaddon: ['field', 'literal'],\n  note: ['field', 'literal'],\n  number: ['field', 'literal'],\n  organization: ['list', 'literal'],\n  origdate: ['field', 'date'],\n  origlanguage: ['list', 'key'],\n  origlocation: ['list', 'literal'],\n  origpublisher: ['list', 'literal'],\n  origtitle: ['field', 'title'],\n  pages: ['field', 'range'],\n  pagetotal: ['field', 'literal'],\n  pagination: ['field', 'key'],\n  part: ['field', 'literal'],\n  publisher: ['list', 'literal'],\n  pubstate: ['field', 'key'],\n  reprinttitle: ['field', 'literal'],\n  series: ['field', 'title'],\n  shortauthor: ['list', 'name'],\n  shorteditor: ['list', 'name'],\n  shorthand: ['field', 'literal'],\n  shorthandintro: ['field', 'literal'],\n  shortjournal: ['field', 'literal'],\n  shortseries: ['field', 'literal'],\n  shorttitle: ['field', 'title'],\n  subtitle: ['field', 'literal'],\n  title: ['field', 'title'],\n  titleaddon: ['field', 'literal'],\n  translator: ['list', 'name'],\n  type: ['field', 'title'],\n  url: ['field', 'uri'],\n  urldate: ['field', 'date'],\n  venue: ['field', 'literal'],\n  version: ['field', 'literal'],\n  volume: ['field', 'integer'],\n  volumes: ['field', 'integer'],\n  year: ['field', 'literal'],\n  crossref: ['field', 'entry key'],\n  entryset: ['separated', 'literal'],\n  execute: ['field', 'code'],\n  gender: ['field', 'gender'],\n  langid: ['field', 'identifier'],\n  langidopts: ['field', 'literal'],\n  ids: ['separated', 'entry key'],\n  indexsorttitle: ['field', 'literal'],\n  keywords: ['separated', 'literal'],\n  options: ['separated', 'options'],\n  presort: ['field', 'string'],\n  related: ['separated', 'literal'],\n  relatedoptions: ['separated', 'literal'],\n  relatedtype: ['field', 'identifier'],\n  relatedstring: ['field', 'literal'],\n  sortkey: ['field', 'literal'],\n  sortname: ['list', 'name'],\n  sortshorthand: ['field', 'literal'],\n  sorttitle: ['field', 'literal'],\n  sortyear: ['field', 'integer'],\n  xdata: ['separated', 'entry key'],\n  xref: ['field', 'entry key'],\n  namea: ['list', 'name'],\n  nameb: ['list', 'name'],\n  namec: ['list', 'name'],\n  nameatype: ['field', 'key'],\n  namebtype: ['field', 'key'],\n  namectype: ['field', 'key'],\n  lista: ['list', 'literal'],\n  listb: ['list', 'literal'],\n  listc: ['list', 'literal'],\n  listd: ['list', 'literal'],\n  liste: ['list', 'literal'],\n  listf: ['list', 'literal'],\n  usera: ['field', 'literal'],\n  userb: ['field', 'literal'],\n  userc: ['field', 'literal'],\n  userd: ['field', 'literal'],\n  usere: ['field', 'literal'],\n  userf: ['field', 'literal'],\n  verba: ['field', 'literal'],\n  verbb: ['field', 'literal'],\n  verbc: ['field', 'literal'],\n  address: ['list', 'literal'],\n  annote: ['field', 'literal'],\n  archiveprefix: ['field', 'literal'],\n  journal: ['field', 'literal'],\n  key: ['field', 'literal'],\n  pdf: ['field', 'verbatim'],\n  primaryclass: ['field', 'literal'],\n  school: ['list', 'literal'],\n  numpages: ['field', 'integer'],\n  pmid: ['field', 'literal'],\n  pmcid: ['field', 'literal'],\n}\n\nexport default fieldTypes\n","const unicode = {\n  diacritics: {\n    '`': '̀',\n    \"'\": '́',\n    '^': '̂',\n    '~': '̃',\n    '=': '̄',\n    u: '̆',\n    '.': '̇',\n    '\"': '̈',\n    r: '̊',\n    H: '̋',\n    v: '̌',\n    b: '̲',\n    d: '̣',\n    c: '̧',\n    k: '̨',\n    t: '͡',\n    textcommabelow: '̦',\n  },\n  commands: {\n    textquotesingle: \"'\",\n    textasciigrave: '`',\n    textquotedbl: '\"',\n    textdollar: '$',\n    textless: '<',\n    textgreater: '>',\n    textbackslash: '\\\\',\n    textasciicircum: '^',\n    textunderscore: '_',\n    textbraceleft: '{',\n    textbar: '|',\n    textbraceright: '}',\n    textasciitilde: '~',\n    textexclamdown: '¡',\n    textcent: '¢',\n    textsterling: '£',\n    textcurrency: '¤',\n    textyen: '¥',\n    textbrokenbar: '¦',\n    textsection: '§',\n    textasciidieresis: '¨',\n    textcopyright: '©',\n    textordfeminine: 'ª',\n    guillemetleft: '«',\n    guillemotleft: '«',\n    textlnot: '¬',\n    textregistered: '®',\n    textasciimacron: '¯',\n    textdegree: '°',\n    textpm: '±',\n    texttwosuperior: '²',\n    textthreesuperior: '³',\n    textasciiacute: '´',\n    textmu: 'µ',\n    textparagraph: '¶',\n    textperiodcentered: '·',\n    textonesuperior: '¹',\n    textordmasculine: 'º',\n    guillemetright: '»',\n    guillemotright: '»',\n    textonequarter: '¼',\n    textonehalf: '½',\n    textthreequarters: '¾',\n    textquestiondown: '¿',\n    AE: 'Æ',\n    DH: 'Ð',\n    texttimes: '×',\n    O: 'Ø',\n    TH: 'Þ',\n    ss: 'ß',\n    ae: 'æ',\n    dh: 'ð',\n    textdiv: '÷',\n    o: 'ø',\n    th: 'þ',\n    DJ: 'Đ',\n    dj: 'đ',\n    i: 'ı',\n    IJ: 'Ĳ',\n    ij: 'ĳ',\n    L: 'Ł',\n    l: 'ł',\n    NG: 'Ŋ',\n    ng: 'ŋ',\n    OE: 'Œ',\n    oe: 'œ',\n    textflorin: 'ƒ',\n    j: 'ȷ',\n    textasciicaron: 'ˇ',\n    textasciibreve: '˘',\n    textacutedbl: '˝',\n    textgravedbl: '˵',\n    texttildelow: '˷',\n    textbaht: '฿',\n    SS: 'ẞ',\n    textcompwordmark: '‌',\n    textendash: '–',\n    textemdash: '—',\n    textbardbl: '‖',\n    textquoteleft: '‘',\n    textquoteright: '’',\n    quotesinglbase: '‚',\n    textquotedblleft: '“',\n    textquotedblright: '”',\n    quotedblbase: '„',\n    textdagger: '†',\n    textdaggerdbl: '‡',\n    textbullet: '•',\n    textellipsis: '…',\n    textperthousand: '‰',\n    textpertenthousand: '‱',\n    guilsinglleft: '‹',\n    guilsinglright: '›',\n    textreferencemark: '※',\n    textinterrobang: '‽',\n    textfractionsolidus: '⁄',\n    textlquill: '⁅',\n    textrquill: '⁆',\n    textdiscount: '⁒',\n    textcolonmonetary: '₡',\n    textlira: '₤',\n    textnaira: '₦',\n    textwon: '₩',\n    textdong: '₫',\n    texteuro: '€',\n    textpeso: '₱',\n    textcelsius: '℃',\n    textnumero: '№',\n    textcircledP: '℗',\n    textrecipe: '℞',\n    textservicemark: '℠',\n    texttrademark: '™',\n    textohm: 'Ω',\n    textmho: '℧',\n    textestimated: '℮',\n    textleftarrow: '←',\n    textuparrow: '↑',\n    textrightarrow: '→',\n    textdownarrow: '↓',\n    textminus: '−',\n    Hwithstroke: 'Ħ',\n    hwithstroke: 'ħ',\n    textasteriskcentered: '∗',\n    textsurd: '√',\n    textlangle: '〈',\n    textrangle: '〉',\n    textblank: '␢',\n    textvisiblespace: '␣',\n    textopenbullet: '◦',\n    textbigcircle: '◯',\n    textmusicalnote: '♪',\n    textmarried: '⚭',\n    textdivorced: '⚮',\n    textinterrobangdown: '⸘',\n    textcommabelow: null,\n    copyright: '©',\n    Gamma: 'Γ',\n    Delta: 'Δ',\n    Theta: 'Θ',\n    Lambda: 'Λ',\n    Xi: 'Ξ',\n    Pi: 'Π',\n    Sigma: 'Σ',\n    Phi: 'Φ',\n    Psi: 'Ψ',\n    Omega: 'Ω',\n    alpha: 'α',\n    beta: 'β',\n    gamma: 'γ',\n    delta: 'δ',\n    varepsilon: 'ε',\n    zeta: 'ζ',\n    eta: 'η',\n    theta: 'θ',\n    iota: 'ι',\n    kappa: 'κ',\n    lambda: 'λ',\n    mu: 'μ',\n    nu: 'ν',\n    xi: 'ξ',\n    pi: 'π',\n    rho: 'ρ',\n    varsigma: 'ς',\n    sigma: 'σ',\n    tau: 'τ',\n    upsilon: 'υ',\n    varphi: 'φ',\n    chi: 'χ',\n    psi: 'ψ',\n    omega: 'ω',\n    vartheta: 'ϑ',\n    Upsilon: 'ϒ',\n    phi: 'ϕ',\n    varpi: 'ϖ',\n    varrho: 'ϱ',\n    epsilon: 'ϵ',\n  },\n}\n\nexport default unicode\n","import _required from './required.js'\nimport _fieldTypes from './fieldTypes.js'\nimport unicode from './unicode.js'\nexport const required = _required\nexport const fieldTypes = _fieldTypes\nexport const diacritics = unicode.diacritics\nexport const commands = unicode.commands\nexport const defaultStrings = {\n  jan: '01',\n  feb: '02',\n  mar: '03',\n  apr: '04',\n  may: '05',\n  jun: '06',\n  jul: '07',\n  aug: '08',\n  sep: '09',\n  oct: '10',\n  nov: '11',\n  dec: '12',\n  acmcs: 'ACM Computing Surveys',\n  acta: 'Acta Informatica',\n  cacm: 'Communications of the ACM',\n  ibmjrd: 'IBM Journal of Research and Development',\n  ibmsj: 'IBM Systems Journal',\n  ieeese: 'IEEE Transactions on Software Engineering',\n  ieeetc: 'IEEE Transactions on Computers',\n  ieeetcad: 'IEEE Transactions on Computer-Aided Design of Integrated Circuits',\n  ipl: 'Information Processing Letters',\n  jacm: 'Journal of the ACM',\n  jcss: 'Journal of Computer and System Sciences',\n  scp: 'Science of Computer Programming',\n  sicomp: 'SIAM Journal on Computing',\n  tocs: 'ACM Transactions on Computer Systems',\n  tods: 'ACM Transactions on Database Systems',\n  tog: 'ACM Transactions on Graphics',\n  toms: 'ACM Transactions on Mathematical Software',\n  toois: 'ACM Transactions on Office Information Systems',\n  toplas: 'ACM Transactions on Programming Languages and Systems',\n  tcs: 'Theoretical Computer Science',\n}\nexport const formattingEnvs = {\n  it: 'italics',\n  itshape: 'italics',\n  sl: 'italics',\n  slshape: 'italics',\n  em: 'italics',\n  bf: 'bold',\n  bfseries: 'bold',\n  sc: 'smallcaps',\n  scshape: 'smallcaps',\n  rm: undefined,\n  sf: undefined,\n  tt: undefined,\n}\nexport const formattingCommands = {\n  textit: 'italics',\n  textsl: 'italics',\n  emph: 'italics',\n  mkbibitalic: 'italics',\n  mkbibemph: 'italics',\n  textbf: 'bold',\n  strong: 'bold',\n  mkbibbold: 'bold',\n  textsc: 'smallcaps',\n  textsuperscript: 'superscript',\n  textsubscript: 'subscript',\n  enquote: 'quotes',\n  mkbibquote: 'quotes',\n  textmd: undefined,\n  textrm: undefined,\n  textsf: undefined,\n  texttt: undefined,\n  textup: undefined,\n}\nexport const formatting = {\n  italics: ['<i>', '</i>'],\n  bold: ['<b>', '</b>'],\n  superscript: ['<sup>', '</sup>'],\n  subscript: ['<sub>', '</sub>'],\n  smallcaps: ['<span style=\"font-variant:small-caps;\">', '</span>'],\n  nocase: ['<span class=\"nocase\">', '</span>'],\n  quotes: ['\\u201C', '\\u201D'],\n}\nexport const argumentCommands = {\n  ElsevierGlyph(glyph) {\n    return String.fromCharCode(parseInt(glyph, 16))\n  },\n\n  href(url, text) {\n    return url\n  },\n\n  url(url) {\n    return url\n  },\n}\nexport const ligaturePattern = /---?|''|``|~/g\nexport const ligatures = {\n  '--': '\\u2013',\n  '---': '\\u2014',\n  '``': '\\u201C',\n  \"''\": '\\u201D',\n  '~': '\\u00A0',\n}\nexport const mathScriptFormatting = {\n  '^': 'superscript',\n  sp: 'superscript',\n  _: 'subscript',\n  sb: 'subscript',\n  mathrm: undefined,\n}\nexport const mathScripts = {\n  '^': {\n    0: '\\u2070',\n    1: '\\u00B9',\n    2: '\\u00B2',\n    3: '\\u00B3',\n    4: '\\u2074',\n    5: '\\u2075',\n    6: '\\u2076',\n    7: '\\u2077',\n    8: '\\u2078',\n    9: '\\u2079',\n    '+': '\\u207A',\n    '-': '\\u207B',\n    '=': '\\u207C',\n    '(': '\\u207D',\n    ')': '\\u207E',\n    i: '\\u2071',\n    n: '\\u207F',\n  },\n  _: {\n    0: '\\u2080',\n    1: '\\u2081',\n    2: '\\u2082',\n    3: '\\u2083',\n    4: '\\u2084',\n    5: '\\u2085',\n    6: '\\u2086',\n    7: '\\u2087',\n    8: '\\u2088',\n    9: '\\u2089',\n    '+': '\\u208A',\n    '-': '\\u208B',\n    '=': '\\u208C',\n    '(': '\\u208D',\n    ')': '\\u208E',\n    a: '\\u2090',\n    e: '\\u2091',\n    o: '\\u2092',\n    x: '\\u2093',\n    '\\u0259': '\\u2094',\n    h: '\\u2095',\n    k: '\\u2096',\n    l: '\\u2097',\n    m: '\\u2098',\n    n: '\\u2099',\n    s: '\\u209A',\n    p: '\\u209B',\n    t: '\\u209C',\n  },\n}\nexport const sentenceCaseLanguages = [\n  'american',\n  'british',\n  'canadian',\n  'english',\n  'australian',\n  'newzealand',\n  'usenglish',\n  'ukenglish',\n  'en',\n  'eng',\n  'en-au',\n  'en-bz',\n  'en-ca',\n  'en-cb',\n  'en-gb',\n  'en-ie',\n  'en-jm',\n  'en-nz',\n  'en-ph',\n  'en-tt',\n  'en-us',\n  'en-za',\n  'en-zw',\n  'anglais',\n]\n","function ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object)\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object)\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable\n      })\n    }\n    keys.push.apply(keys, symbols)\n  }\n  return keys\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {}\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key])\n      })\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source))\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key))\n      })\n    }\n  }\n  return target\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true,\n    })\n  } else {\n    obj[key] = value\n  }\n  return obj\n}\n\nimport { util, logger } from '../../core/index.js'\nimport moo from 'moo'\nimport { defaultStrings } from './constants.js'\nconst identifier = /[a-zA-Z_][a-zA-Z0-9_:-]*/\nconst whitespace = {\n  comment: /%.*/,\n  whitespace: {\n    match: /\\s+/,\n    lineBreaks: true,\n  },\n}\nconst lexer = moo.states({\n  main: {\n    junk: {\n      match: /@[cC][oO][mM][mM][eE][nN][tT].+|[^@]+/,\n      lineBreaks: true,\n    },\n    at: {\n      match: '@',\n      push: 'entry',\n    },\n  },\n  entry: _objectSpread(\n    _objectSpread({}, whitespace),\n    {},\n    {\n      otherEntryType: {\n        match: /[sS][tT][rR][iI][nN][gG]|[pP][rR][eE][aA][mM][bB][lL][eE]/,\n        next: 'otherEntryContents',\n      },\n      dataEntryType: {\n        match: identifier,\n        next: 'dataEntryContents',\n      },\n    }\n  ),\n  otherEntryContents: _objectSpread(\n    _objectSpread({}, whitespace),\n    {},\n    {\n      lbrace: {\n        match: /[{(]/,\n        next: 'fields',\n      },\n    }\n  ),\n  dataEntryContents: _objectSpread(\n    _objectSpread({}, whitespace),\n    {},\n    {\n      lbrace: {\n        match: /[{(]/,\n        next: 'dataEntryContents',\n      },\n      label: /[^,\\s]+/,\n      comma: {\n        match: ',',\n        next: 'fields',\n      },\n    }\n  ),\n  fields: _objectSpread(\n    _objectSpread({}, whitespace),\n    {},\n    {\n      identifier,\n      number: /-?\\d+/,\n      hash: '#',\n      equals: '=',\n      comma: ',',\n      quote: {\n        match: '\"',\n        push: 'quotedLiteral',\n      },\n      lbrace: {\n        match: '{',\n        push: 'bracedLiteral',\n      },\n      rbrace: {\n        match: /[})]/,\n        pop: true,\n      },\n    }\n  ),\n  quotedLiteral: {\n    lbrace: {\n      match: '{',\n      push: 'bracedLiteral',\n    },\n    quote: {\n      match: '\"',\n      pop: true,\n    },\n    text: {\n      match: /(?:\\\\[\\\\{]|[^{\"])+/,\n      lineBreaks: true,\n    },\n  },\n  bracedLiteral: {\n    lbrace: {\n      match: '{',\n      push: 'bracedLiteral',\n    },\n    rbrace: {\n      match: '}',\n      pop: true,\n    },\n    text: {\n      match: /(?:\\\\[\\\\{}]|[^{}])+/,\n      lineBreaks: true,\n    },\n  },\n})\nconst delimiters = {\n  '(': ')',\n  '{': '}',\n}\nexport const bibtexGrammar = new util.Grammar(\n  {\n    Main() {\n      const entries = []\n\n      while (true) {\n        while (this.matchToken('junk')) {\n          this.consumeToken('junk')\n        }\n\n        if (this.matchEndOfFile()) {\n          break\n        }\n\n        entries.push(this.consumeRule('Entry'))\n      }\n\n      return entries.filter(Boolean)\n    },\n\n    _() {\n      let oldToken\n\n      while (oldToken !== this.token) {\n        oldToken = this.token\n        this.consumeToken('whitespace', true)\n        this.consumeToken('comment', true)\n      }\n    },\n\n    Entry() {\n      this.consumeToken('at')\n      this.consumeRule('_')\n      const type = (\n        this.matchToken('otherEntryType')\n          ? this.consumeToken('otherEntryType')\n          : this.consumeToken('dataEntryType')\n      ).value.toLowerCase()\n      this.consumeRule('_')\n      const openBrace = this.consumeToken('lbrace').value\n      this.consumeRule('_')\n      let result\n\n      if (type === 'string') {\n        const [key, value] = this.consumeRule('Field')\n        this.state.strings[key] = value\n      } else if (type === 'preamble') {\n        this.consumeRule('Expression')\n      } else {\n        const label = this.consumeToken('label').value\n        this.consumeRule('_')\n        this.consumeToken('comma')\n        this.consumeRule('_')\n        const properties = this.consumeRule('EntryBody')\n        result = {\n          type,\n          label,\n          properties,\n        }\n      }\n\n      this.consumeRule('_')\n      const closeBrace = this.consumeToken('rbrace').value\n\n      if (closeBrace !== delimiters[openBrace]) {\n        logger.warn(\n          '[plugin-bibtex]',\n          `entry started with \"${openBrace}\", but ends with \"${closeBrace}\"`\n        )\n      }\n\n      return result\n    },\n\n    EntryBody() {\n      const properties = {}\n\n      while (this.matchToken('identifier')) {\n        const [field, value] = this.consumeRule('Field')\n        properties[field] = value\n        this.consumeRule('_')\n\n        if (this.consumeToken('comma', true)) {\n          this.consumeRule('_')\n        } else {\n          break\n        }\n      }\n\n      return properties\n    },\n\n    Field() {\n      const field = this.consumeToken('identifier').value.toLowerCase()\n      this.consumeRule('_')\n      this.consumeToken('equals')\n      this.consumeRule('_')\n      const value = this.consumeRule('Expression')\n      return [field, value]\n    },\n\n    Expression() {\n      let output = this.consumeRule('ExpressionPart')\n      this.consumeRule('_')\n\n      while (this.matchToken('hash')) {\n        this.consumeToken('hash')\n        this.consumeRule('_')\n        output += this.consumeRule('ExpressionPart').toString()\n        this.consumeRule('_')\n      }\n\n      return output\n    },\n\n    ExpressionPart() {\n      if (this.matchToken('identifier')) {\n        return this.state.strings[this.consumeToken('identifier').value.toLowerCase()] || ''\n      } else if (this.matchToken('number')) {\n        return parseInt(this.consumeToken('number'))\n      } else if (this.matchToken('quote')) {\n        return this.consumeRule('QuoteString')\n      } else {\n        return this.consumeRule('BracketString')\n      }\n    },\n\n    QuoteString() {\n      let output = ''\n      this.consumeToken('quote')\n\n      while (!this.matchToken('quote')) {\n        output += this.consumeRule('Text')\n      }\n\n      this.consumeToken('quote')\n      return output\n    },\n\n    BracketString() {\n      let output = ''\n      this.consumeToken('lbrace')\n\n      while (!this.matchToken('rbrace')) {\n        output += this.consumeRule('Text')\n      }\n\n      this.consumeToken('rbrace')\n      return output\n    },\n\n    Text() {\n      if (this.matchToken('lbrace')) {\n        return `{${this.consumeRule('BracketString')}}`\n      } else {\n        return this.consumeToken('text').value\n      }\n    },\n  },\n  {\n    strings: defaultStrings,\n  }\n)\nexport function parse(text) {\n  return bibtexGrammar.parse(lexer.reset(text))\n}\n","const bibTxtRegex = {\n  splitEntries: /\\n\\s*(?=\\[)/g,\n  parseEntry: /^\\[(.+?)\\]\\s*(?:\\n([\\s\\S]+))?$/,\n  splitPairs: /((?=.)\\s)*\\n\\s*/g,\n  splitPair: /:(.*)/,\n}\n\nconst parseBibTxtEntry = (entry) => {\n  const [, label, pairs] = entry.match(bibTxtRegex.parseEntry) || []\n\n  if (!label || !pairs) {\n    return {}\n  } else {\n    const out = {\n      type: 'book',\n      label,\n      properties: {},\n    }\n    pairs\n      .trim()\n      .split(bibTxtRegex.splitPairs)\n      .filter((v) => v)\n      .forEach((pair) => {\n        let [key, value] = pair.split(bibTxtRegex.splitPair)\n\n        if (value) {\n          key = key.trim()\n          value = value.trim()\n\n          if (key === 'type') {\n            out.type = value\n          } else {\n            out.properties[key] = value\n          }\n        }\n      })\n    return out\n  }\n}\n\nconst parseBibTxt = (src) => src.trim().split(bibTxtRegex.splitEntries).map(parseBibTxtEntry)\n\nexport { parseBibTxt as parse, parseBibTxt as text, parseBibTxtEntry as textEntry }\n","const biblatexTypes = {\n  source: {\n    article: 'article-journal',\n    book: 'book',\n    mvbook: 'book',\n    inbook: 'chapter',\n    bookinbook: 'book',\n    booklet: 'book',\n    collection: 'book',\n    mvcollection: 'book',\n    incollection: 'chapter',\n    dataset: 'dataset',\n    online: 'webpage',\n    patent: 'patent',\n    periodical: 'article-journal',\n    proceedings: 'book',\n    mvproceedings: 'book',\n    inproceedings: 'paper-conference',\n    reference: 'book',\n    mvreference: 'book',\n    inreference: 'entry',\n    report: 'report',\n    software: 'book',\n    thesis: 'thesis',\n    unpublished: 'manuscript',\n    artwork: 'graphic',\n    audio: 'song',\n    image: 'figure',\n    jurisdiction: 'legal_case',\n    legislation: 'legislation',\n    legal: 'treaty',\n    letter: 'personal_communication',\n    movie: 'motion_picture',\n    music: 'musical_score',\n    review: 'review',\n    video: 'motion_picture',\n    conference: 'paper-conference',\n    electronic: 'webpage',\n    mastersthesis: 'thesis',\n    phdthesis: 'thesis',\n    techreport: 'report',\n    www: 'webpage',\n  },\n  target: {\n    article: 'article',\n    'article-journal': 'article',\n    'article-magazine': 'article',\n    'article-newspaper': 'article',\n    bill: 'legislation',\n    book: 'book',\n    broadcast: 'audio',\n    chapter: 'inbook',\n    dataset: 'dataset',\n    entry: 'inreference',\n    'entry-dictionary': 'inreference',\n    'entry-encyclopedia': 'inreference',\n    figure: 'artwork',\n    graphic: 'artwork',\n    interview: 'audio',\n    legal_case: 'jurisdiction',\n    legislation: 'legislation',\n    manuscript: 'unpublished',\n    motion_picture: 'movie',\n    musical_score: 'music',\n    'paper-conference': 'inproceedings',\n    patent: 'patent',\n    personal_communication: 'letter',\n    post: 'online',\n    'post-weblog': 'online',\n    report: 'report',\n    review: 'review',\n    'review-book': 'review',\n    song: 'music',\n    speech: 'audio',\n    thesis: 'thesis',\n    treaty: 'legal',\n    webpage: 'online',\n  },\n}\n\nexport default biblatexTypes\n","const bibtexTypes = {\n  source: {\n    article: 'article-journal',\n    book: 'book',\n    booklet: 'book',\n    conference: 'paper-conference',\n    inbook: 'chapter',\n    incollection: 'chapter',\n    inproceedings: 'paper-conference',\n    mastersthesis: 'thesis',\n    phdthesis: 'thesis',\n    proceedings: 'book',\n    techreport: 'report',\n    unpublished: 'manuscript',\n  },\n  target: {\n    article: 'article',\n    'article-journal': 'article',\n    'article-magazine': 'article',\n    'article-newspaper': 'article',\n    book: 'book',\n    chapter: 'inbook',\n    manuscript: 'unpublished',\n    'paper-conference': 'inproceedings',\n    report: 'techreport',\n    review: 'article',\n    'review-book': 'article',\n  },\n}\n\nexport default bibtexTypes\n","import biblatex from './mapping/biblatexTypes.js'\nimport bibtex from './mapping/bibtexTypes.js'\nimport * as constants from './input/constants.js'\nexport default {\n  constants,\n  types: {\n    biblatex,\n    bibtex,\n  },\n  parse: {\n    biblatex: true,\n    strict: false,\n    sentenceCase: 'never',\n  },\n  format: {\n    useIdAsLabel: false,\n  },\n}\n","//@ts-nocheck\nimport { util } from '../../core/index.js'\nimport config from '../config.js'\nconst stopWords = new Set(['the', 'a', 'an'])\nconst unsafeChars = /(?:<\\/?.*?>|[\\u0020-\\u002F\\u003A-\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F])+/g\nconst unicode = /[^\\u0020-\\u007F]+/g\n\nfunction firstWord(text) {\n  if (!text) {\n    return ''\n  } else {\n    return text\n      .normalize('NFKD')\n      .replace(unicode, '')\n      .split(unsafeChars)\n      .find((word) => word.length && !stopWords.has(word.toLowerCase()))\n  }\n}\n\nconst name = new util.Translator([\n  {\n    source: 'given',\n    target: 'given',\n  },\n  {\n    source: 'family',\n    target: 'family',\n  },\n  {\n    source: 'suffix',\n    target: 'suffix',\n  },\n  {\n    source: 'prefix',\n    target: 'non-dropping-particle',\n  },\n  {\n    source: 'family',\n    target: 'literal',\n    when: {\n      source: false,\n      target: {\n        family: false,\n        given: false,\n      },\n    },\n  },\n])\nconst months = ['jan', 'feb', 'mar', 'apr', 'may', 'jun', 'jul', 'aug', 'sep', 'oct', 'nov', 'dec']\nexport const TYPE = 'BibTeX type'\nexport const LABEL = 'BibTeX label'\nexport const MONTHS = {\n  jan: 1,\n  feb: 2,\n  mar: 3,\n  apr: 4,\n  may: 5,\n  jun: 6,\n  jul: 7,\n  aug: 8,\n  sep: 9,\n  oct: 10,\n  nov: 11,\n  dec: 12,\n  january: 1,\n  february: 2,\n  march: 3,\n  april: 4,\n  may: 5,\n  june: 6,\n  july: 7,\n  august: 8,\n  september: 9,\n  october: 10,\n  november: 11,\n  december: 12,\n}\nexport const TYPE_KEYS = {\n  bathesis: \"Bachelor's thesis\",\n  mathesis: \"Master's thesis\",\n  phdthesis: 'PhD thesis',\n  candthesis: 'Candidate thesis',\n  techreport: 'technical report',\n  resreport: 'research report',\n  software: 'computer software',\n  datacd: 'data cd',\n  audiocd: 'audio cd',\n  patent: 'patent',\n  patentde: 'German patent',\n  patenteu: 'European patent',\n  patentfr: 'French patent',\n  patentuk: 'British patent',\n  patentus: 'U.S. patent',\n  patreq: 'patent request',\n  patreqde: 'German patent request',\n  patreqeu: 'European patent request',\n  patreqfr: 'French patent request',\n  patrequk: 'British patent request',\n  patrequs: 'U.S. patent request',\n}\nexport const STANDARD_NUMBERS_PATTERN =\n  /(^(?:ISAN )?(?:[0-9a-f]{4}-){4}[0-9a-z](?:-(?:[0-9a-f]{4}-){2}[0-9a-z])?$)|(^(?:979-?0-?|M-?)(?:\\d{9}|(?=[\\d-]{11}$)\\d+-\\d+-\\d)$)|(^ISRN .{1,36}$)|(^(?:ISWC )?T-?\\d{9}-?\\d$)/i\nexport function parseDate(date) {\n  const parts = date\n    .split('T')[0]\n    .replace(/[?~%]$/, '')\n    .split('-')\n  const year = +parts[0].replace(/^Y(?=-?\\d{4}\\d+)/, '').replace(/X/g, '0')\n  const month = +parts[1]\n  const day = +parts[2]\n\n  if (!month || month > 20) {\n    return [year]\n  } else if (!day) {\n    return [year, month]\n  } else {\n    return [year, month, day]\n  }\n}\nexport function parseMonth(value) {\n  if (value == null) {\n    return []\n  }\n\n  if (+value) {\n    return [parseInt(value, 10)]\n  }\n\n  value = value.trim().toLowerCase()\n\n  if (value in MONTHS) {\n    return [MONTHS[value]]\n  }\n\n  const parts = value.split(/\\s+/)\n  let month\n  let day\n\n  if (parts[0] in MONTHS) {\n    month = MONTHS[parts[0]]\n    day = parseInt(parts[1])\n  } else if (parts[1] in MONTHS) {\n    month = MONTHS[parts[1]]\n    day = parseInt(parts[0])\n  }\n\n  return day ? [month, day] : month ? [month] : []\n}\nexport function formatLabel(author, issued, suffix, title) {\n  let label = ''\n\n  if (author && author[0]) {\n    label += firstWord(author[0].family || author[0].literal)\n  }\n\n  if (issued && issued['date-parts'] && issued['date-parts'][0]) {\n    label += issued['date-parts'][0][0]\n  }\n\n  if (suffix) {\n    label += suffix\n  } else if (title) {\n    label += firstWord(title)\n  }\n\n  return label\n}\nexport const Converters = {\n  PICK: {\n    toTarget(...args) {\n      return args.find(Boolean)\n    },\n\n    toSource(value) {\n      return [value]\n    },\n  },\n  DATE: {\n    toTarget(date) {\n      const parts = date\n        .split('/')\n        .map((part) => (part && part !== '..' ? parseDate(part) : undefined))\n      return isNaN(parts[0][0])\n        ? {\n            literal: date,\n          }\n        : {\n            'date-parts': parts,\n          }\n    },\n\n    toSource(date) {\n      if ('date-parts' in date) {\n        return date['date-parts']\n          .map((datePart) =>\n            datePart.map((datePart) => datePart.toString().padStart(2, '0')).join('-')\n          )\n          .join('/')\n      }\n    },\n  },\n  YEAR_MONTH: {\n    toTarget(year, month, day) {\n      if (isNaN(+year)) {\n        return {\n          literal: year,\n        }\n      } else if (!isNaN(+day) && !isNaN(+month)) {\n        return {\n          'date-parts': [[+year, +month, +day]],\n        }\n      } else {\n        return {\n          'date-parts': [[+year, ...parseMonth(month)]],\n        }\n      }\n    },\n\n    toSource(date) {\n      if ('date-parts' in date) {\n        const [year, month, day] = date['date-parts'][0]\n        return [year.toString(), month ? (day ? `${months[month - 1]} ${day}` : month) : undefined]\n      }\n    },\n  },\n  EPRINT: {\n    toTarget(id, type) {\n      if (type === 'pubmed') {\n        return id\n      }\n    },\n\n    toSource(id) {\n      return [id, 'pubmed']\n    },\n  },\n  HOW_PUBLISHED: {\n    toTarget(howPublished) {\n      if (howPublished.startsWith('http')) {\n        return howPublished\n      }\n    },\n  },\n  KEYWORDS: {\n    toTarget(list) {\n      return list.join(',')\n    },\n\n    toSource(list) {\n      return list.split(',')\n    },\n  },\n  LABEL: {\n    toTarget(label) {\n      return [label, label]\n    },\n\n    toSource(id, label, author, issued, suffix, title) {\n      let safeId\n\n      if (id === null) {\n        safeId = 'null'\n      } else if (id === undefined) {\n        safeId = 'undefined'\n      } else {\n        safeId = id.toString().replace(unsafeChars, '')\n      }\n\n      if (config.format.useIdAsLabel) {\n        return safeId\n      }\n\n      if (label && !unsafeChars.test(label)) {\n        return label\n      } else {\n        return formatLabel(author, issued, suffix, title) || safeId\n      }\n    },\n  },\n  NAMES: {\n    toTarget(list) {\n      return list.map(name.convertToTarget)\n    },\n\n    toSource(list) {\n      return list.map(name.convertToSource)\n    },\n  },\n  STANDARD_NUMBERS: {\n    toTarget(...args) {\n      return args.find(Boolean)\n    },\n\n    toSource(number) {\n      const match = number.toString().match(STANDARD_NUMBERS_PATTERN)\n      return match ? match.slice(1, 5) : []\n    },\n  },\n  STATUS: {\n    toSource(state) {\n      if (/^(inpreparation|submitted|forthcoming|inpress|prepublished)$/i.test(state)) {\n        return state\n      }\n    },\n  },\n  TITLE: {\n    toTarget(title, subtitle, addon) {\n      if (subtitle) {\n        title += ': ' + subtitle\n      }\n\n      return title\n    },\n\n    toSource(title) {\n      return [title]\n    },\n  },\n}\n","import { util } from '../../core/index.js'\nimport { format as formatDate } from '@citation-js/date'\nimport types from './biblatexTypes.js'\nimport { TYPE, LABEL, TYPE_KEYS, Converters } from './shared.js'\nconst nonSpec = [\n  {\n    source: 'note',\n    target: 'accessed',\n    when: {\n      source: false,\n      target: {\n        note: false,\n      },\n    },\n    convert: {\n      toSource(accessed) {\n        return `[Online; accessed ${formatDate(accessed)}]`\n      },\n    },\n  },\n  {\n    source: 'numpages',\n    target: 'number-of-pages',\n    when: {\n      source: {\n        pagetotal: false,\n      },\n      target: false,\n    },\n  },\n  {\n    source: 'pmid',\n    target: 'PMID',\n    when: {\n      source: {\n        eprinttype(type) {\n          return type !== 'pmid'\n        },\n\n        archiveprefix(type) {\n          return type !== 'pmid'\n        },\n      },\n      target: false,\n    },\n  },\n  {\n    source: 'pmcid',\n    target: 'PMCID',\n    when: {\n      target: false,\n    },\n  },\n]\nconst aliases = [\n  {\n    source: 'annote',\n    target: 'annote',\n    when: {\n      source: {\n        annotation: false,\n      },\n      target: false,\n    },\n  },\n  {\n    source: 'address',\n    target: 'publisher-place',\n    convert: Converters.PICK,\n    when: {\n      source: {\n        location: false,\n      },\n      target: false,\n    },\n  },\n  {\n    source: ['eprint', 'archiveprefix'],\n    target: 'PMID',\n    convert: Converters.EPRINT,\n    when: {\n      source: {\n        eprinttype: false,\n      },\n      target: false,\n    },\n  },\n  {\n    source: 'journal',\n    target: 'container-title',\n    when: {\n      source: {\n        maintitle: false,\n        booktitle: false,\n        journaltitle: false,\n      },\n      target: false,\n    },\n  },\n  {\n    source: 'school',\n    target: 'publisher',\n    convert: Converters.PICK,\n    when: {\n      source: {\n        institution: false,\n        organization: false,\n        publisher: false,\n      },\n      target: false,\n    },\n  },\n]\nexport default new util.Translator([\n  ...aliases,\n  ...nonSpec,\n  {\n    source: 'abstract',\n    target: 'abstract',\n  },\n  {\n    source: 'urldate',\n    target: 'accessed',\n    convert: Converters.DATE,\n  },\n  {\n    source: 'annotation',\n    target: 'annote',\n  },\n  {\n    source: 'author',\n    target: 'author',\n    convert: Converters.NAMES,\n  },\n  {\n    source: 'library',\n    target: 'call-number',\n  },\n  {\n    source: 'chapter',\n    target: 'chapter-number',\n  },\n  {\n    source: 'bookauthor',\n    target: 'container-author',\n    convert: Converters.NAMES,\n  },\n  {\n    source: ['maintitle', 'mainsubtitle', 'maintitleaddon'],\n    target: 'container-title',\n    when: {\n      source: true,\n      target: {\n        'number-of-volumes': true,\n      },\n    },\n    convert: Converters.TITLE,\n  },\n  {\n    source: ['booktitle', 'booksubtitle', 'booktitleaddon'],\n    target: 'container-title',\n    when: {\n      source: {\n        maintitle: false,\n      },\n      target: {\n        'number-of-volumes': false,\n\n        type(type) {\n          return !type.startsWith('article')\n        },\n      },\n    },\n    convert: Converters.TITLE,\n  },\n  {\n    source: ['journaltitle', 'journalsubtitle', 'journaltitleaddon'],\n    target: 'container-title',\n    when: {\n      source: {\n        [TYPE]: 'article',\n      },\n      target: {\n        type: ['article', 'article-newspaper', 'article-journal', 'article-magazine'],\n      },\n    },\n    convert: Converters.TITLE,\n  },\n  {\n    source: 'shortjournal',\n    target: 'container-title-short',\n    when: {\n      source: {\n        [TYPE]: 'article',\n      },\n      target: {\n        type: ['article', 'article-newspaper', 'article-journal', 'article-magazine'],\n      },\n    },\n  },\n  {\n    source: 'shortjournal',\n    target: 'journalAbbreviation',\n    when: {\n      source: false,\n      target: {\n        'container-title-short': false,\n      },\n    },\n  },\n  {\n    source: 'number',\n    target: 'collection-number',\n    when: {\n      source: {\n        [TYPE]: [\n          'book',\n          'mvbook',\n          'inbook',\n          'bookinbook',\n          'suppbook',\n          'collection',\n          'mvcollection',\n          'incollection',\n          'suppcollection',\n          'manual',\n          'suppperiodical',\n          'proceedings',\n          'mvproceedings',\n          'refererence',\n        ],\n      },\n      target: {\n        type: [\n          'bill',\n          'book',\n          'broadcast',\n          'chapter',\n          'dataset',\n          'entry',\n          'entry-dictionary',\n          'entry-encyclopedia',\n          'figure',\n          'graphic',\n          'interview',\n          'legislation',\n          'legal_case',\n          'manuscript',\n          'map',\n          'motion_picture',\n          'musical_score',\n          'pamphlet',\n          'post',\n          'post-weblog',\n          'personal_communication',\n          'review',\n          'review-book',\n          'song',\n          'speech',\n          'thesis',\n          'treaty',\n          'webpage',\n        ],\n      },\n    },\n  },\n  {\n    source: 'series',\n    target: 'collection-title',\n  },\n  {\n    source: 'shortseries',\n    target: 'collection-title-short',\n  },\n  {\n    source: 'doi',\n    target: 'DOI',\n  },\n  {\n    source: 'edition',\n    target: 'edition',\n  },\n  {\n    source: 'editor',\n    target: 'editor',\n    convert: Converters.NAMES,\n  },\n  {\n    source: [TYPE, 'entrysubtype', 'type'],\n    target: ['type', 'genre'],\n    convert: {\n      toTarget(type, subtype, typeKey) {\n        if (!typeKey) {\n          if (type === 'masterthesis') {\n            typeKey = 'mathesis'\n          }\n\n          if (type === 'phdthesis') {\n            typeKey = 'phdthesis'\n          }\n\n          if (type === 'techreport') {\n            typeKey = 'techreport'\n          }\n        }\n\n        return [types.source[type] || 'book', typeKey || subtype]\n      },\n\n      toSource(type, genre) {\n        const sourceType = types.target[type] || 'misc'\n        return genre in TYPE_KEYS ? [sourceType, undefined, genre] : [sourceType, genre]\n      },\n    },\n  },\n  {\n    source: TYPE,\n    when: {\n      target: {\n        type: false,\n      },\n    },\n    convert: {\n      toSource() {\n        return 'misc'\n      },\n    },\n  },\n  {\n    source: 'eventdate',\n    target: 'event-date',\n    convert: Converters.DATE,\n  },\n  {\n    source: 'venue',\n    target: 'event-place',\n  },\n  {\n    source: 'eventtitle',\n    target: 'event',\n  },\n  {\n    source: LABEL,\n    target: ['id', 'citation-label', 'author', 'issued', 'year-suffix', 'title'],\n    convert: Converters.LABEL,\n  },\n  {\n    source: 'isbn',\n    target: 'ISBN',\n  },\n  {\n    source: 'issn',\n    target: 'ISSN',\n  },\n  {\n    source: 'issue',\n    target: 'issue',\n    when: {\n      source: {\n        number: false,\n        [TYPE]: ['article', 'periodical'],\n      },\n      target: {\n        issue(issue) {\n          return typeof issue === 'string' && !issue.match(/\\d+/)\n        },\n\n        type: ['article', 'article-journal', 'article-newspaper', 'article-magazine'],\n      },\n    },\n  },\n  {\n    source: 'number',\n    target: 'issue',\n    when: {\n      source: {\n        [TYPE]: ['article', 'periodical', 'inproceedings'],\n      },\n      target: {\n        issue(issue) {\n          return issue && (typeof issue === 'number' || issue.match(/\\d+/))\n        },\n\n        type: [\n          'article',\n          'article-journal',\n          'article-newspaper',\n          'article-magazine',\n          'paper-conference',\n        ],\n      },\n    },\n  },\n  {\n    source: 'date',\n    target: 'issued',\n    convert: Converters.DATE,\n  },\n  {\n    source: ['year', 'month', 'day'],\n    target: 'issued',\n    convert: Converters.YEAR_MONTH,\n    when: {\n      source: {\n        date: false,\n      },\n      target: false,\n    },\n  },\n  {\n    source: 'location',\n    target: 'jurisdiction',\n    when: {\n      source: {\n        type: 'patent',\n      },\n      target: {\n        type: 'patent',\n      },\n    },\n  },\n  {\n    source: 'keywords',\n    target: 'keyword',\n    convert: Converters.KEYWORDS,\n  },\n  {\n    source: 'language',\n    target: 'language',\n    convert: Converters.PICK,\n  },\n  {\n    source: 'note',\n    target: 'note',\n  },\n  {\n    source: ['isan', 'ismn', 'isrn', 'iswc'],\n    target: 'number',\n    convert: Converters.STANDARD_NUMBERS,\n    when: {\n      source: {\n        [TYPE](type) {\n          return type !== 'patent'\n        },\n      },\n      target: {\n        type(type) {\n          return type !== 'patent'\n        },\n      },\n    },\n  },\n  {\n    source: 'number',\n    target: 'number',\n    when: {\n      source: {\n        [TYPE]: ['patent', 'report', 'techreport', 'legislation'],\n      },\n      target: {\n        type: ['patent', 'report', 'legislation'],\n      },\n    },\n  },\n  {\n    source: 'origdate',\n    target: 'original-date',\n    convert: Converters.DATE,\n  },\n  {\n    source: 'origlocation',\n    target: 'original-publisher-place',\n    convert: Converters.PICK,\n  },\n  {\n    source: 'origpublisher',\n    target: 'original-publisher',\n    convert: Converters.PICK,\n  },\n  {\n    source: 'origtitle',\n    target: 'original-title',\n  },\n  {\n    source: ['pages', 'eid'],\n    target: 'page',\n    convert: {\n      toTarget(pages, eid) {\n        return eid ? eid.replace(/^e?/i, 'e') : pages.replace(/[–—]/, '-')\n      },\n\n      toSource(page) {\n        return /^e/i.test(page) ? [page, page] : [page.replace('-', '--')]\n      },\n    },\n  },\n  {\n    source: 'pagetotal',\n    target: 'number-of-pages',\n  },\n  {\n    source: ['eprint', 'eprinttype'],\n    target: 'PMID',\n    convert: Converters.EPRINT,\n  },\n  {\n    source: 'location',\n    target: 'publisher-place',\n    convert: Converters.PICK,\n  },\n  {\n    source: 'publisher',\n    target: 'publisher',\n    convert: Converters.PICK,\n    when: {\n      source: true,\n      target: {\n        type: [\n          'article',\n          'article-journal',\n          'article-magazine',\n          'article-newspaper',\n          'bill',\n          'book',\n          'broadcast',\n          'chapter',\n          'dataset',\n          'entry',\n          'entry-dictionary',\n          'entry-encyclopedia',\n          'figure',\n          'graphic',\n          'interview',\n          'legal_case',\n          'legislation',\n          'manuscript',\n          'map',\n          'motion_picture',\n          'musical_score',\n          'pamphlet',\n          'paper-conference',\n          'patent',\n          'personal_communication',\n          'post',\n          'post-weblog',\n          'regulation',\n          'review',\n          'review-book',\n          'song',\n          'speech',\n          'treaty',\n        ],\n      },\n    },\n  },\n  {\n    source: 'organization',\n    target: 'publisher',\n    convert: Converters.PICK,\n    when: {\n      source: {\n        publisher: false,\n      },\n      target: {\n        type: 'webpage',\n      },\n    },\n  },\n  {\n    source: 'institution',\n    target: 'publisher',\n    convert: Converters.PICK,\n    when: {\n      source: {\n        publisher: false,\n        organization: false,\n      },\n      target: {\n        type: ['report', 'thesis'],\n      },\n    },\n  },\n  {\n    source: 'howpublished',\n    target: 'publisher',\n    convert: Converters.PICK,\n    when: {\n      source: {\n        publisher: false,\n        organization: false,\n        institution: false,\n      },\n      target: {\n        type: 'manuscript',\n      },\n    },\n  },\n  {\n    source: ['pages', 'bookpagination'],\n    target: 'section',\n    when: {\n      source: {\n        bookpagination: 'section',\n      },\n      target: {\n        page: false,\n      },\n    },\n    convert: {\n      toTarget(section) {\n        return section\n      },\n\n      toSource(section) {\n        return [section, 'section']\n      },\n    },\n  },\n  {\n    source: 'pubstate',\n    target: 'status',\n    convert: Converters.STATUS,\n  },\n  {\n    source: 'shorttitle',\n    target: 'title-short',\n  },\n  {\n    source: ['title', 'subtitle', 'titleaddon'],\n    target: 'title',\n    convert: Converters.TITLE,\n  },\n  {\n    source: 'translator',\n    target: 'translator',\n    convert: Converters.NAMES,\n  },\n  {\n    source: 'url',\n    target: 'URL',\n  },\n  {\n    source: 'howpublished',\n    target: 'URL',\n    convert: Converters.HOW_PUBLISHED,\n    when: {\n      source: {\n        url: false,\n      },\n      target: false,\n    },\n  },\n  {\n    source: 'version',\n    target: 'version',\n  },\n  {\n    source: 'volume',\n    target: 'volume',\n  },\n  {\n    source: 'volumes',\n    target: 'number-of-volumes',\n  },\n])\n","import { util } from '../../core/index.js'\nimport { format as formatDate } from '@citation-js/date'\nimport types from './bibtexTypes.js'\nimport { TYPE, LABEL, Converters } from './shared.js'\nexport default new util.Translator([\n  {\n    source: 'note',\n    target: 'accessed',\n    when: {\n      source: false,\n      target: {\n        note: false,\n      },\n    },\n    convert: {\n      toSource(accessed) {\n        return `[Online; accessed ${formatDate(accessed)}]`\n      },\n    },\n  },\n  {\n    source: 'annote',\n    target: 'annote',\n  },\n  {\n    source: 'address',\n    target: 'publisher-place',\n    convert: Converters.PICK,\n  },\n  {\n    source: 'author',\n    target: 'author',\n    convert: Converters.NAMES,\n  },\n  {\n    source: 'chapter',\n    target: 'chapter-number',\n  },\n  {\n    source: 'number',\n    target: 'collection-number',\n    when: {\n      source: {\n        [TYPE]: [\n          'book',\n          'mvbook',\n          'inbook',\n          'collection',\n          'mvcollection',\n          'incollection',\n          'suppcollection',\n          'manual',\n          'suppperiodical',\n          'proceedings',\n          'mvproceedings',\n          'refererence',\n        ],\n      },\n      target: {\n        type: [\n          'bill',\n          'book',\n          'broadcast',\n          'chapter',\n          'dataset',\n          'entry',\n          'entry-dictionary',\n          'entry-encyclopedia',\n          'figure',\n          'graphic',\n          'interview',\n          'legislation',\n          'legal_case',\n          'manuscript',\n          'map',\n          'motion_picture',\n          'musical_score',\n          'pamphlet',\n          'post',\n          'post-weblog',\n          'personal_communication',\n          'review',\n          'review-book',\n          'song',\n          'speech',\n          'thesis',\n          'treaty',\n          'webpage',\n        ],\n      },\n    },\n  },\n  {\n    source: 'series',\n    target: 'collection-title',\n  },\n  {\n    source: 'booktitle',\n    target: 'container-title',\n    when: {\n      target: {\n        type: ['chapter', 'paper-conference'],\n      },\n    },\n  },\n  {\n    source: 'journal',\n    target: 'container-title',\n    when: {\n      source: {\n        [TYPE]: 'article',\n      },\n      target: {\n        type: ['article', 'article-newspaper', 'article-journal', 'article-magazine'],\n      },\n    },\n  },\n  {\n    source: 'edition',\n    target: 'edition',\n  },\n  {\n    source: 'editor',\n    target: 'editor',\n    convert: Converters.NAMES,\n  },\n  {\n    source: LABEL,\n    target: ['id', 'citation-label', 'author', 'issued', 'year-suffix', 'title'],\n    convert: Converters.LABEL,\n  },\n  {\n    source: 'number',\n    target: 'issue',\n    when: {\n      source: {\n        [TYPE]: ['article', 'periodical', 'inproceedings'],\n      },\n      target: {\n        issue(issue) {\n          return typeof issue === 'number' || (typeof issue === 'string' && issue.match(/\\d+/))\n        },\n\n        type: [\n          'article',\n          'article-journal',\n          'article-newspaper',\n          'article-magazine',\n          'paper-conference',\n        ],\n      },\n    },\n  },\n  {\n    source: ['year', 'month', 'day'],\n    target: 'issued',\n    convert: Converters.YEAR_MONTH,\n  },\n  {\n    source: 'note',\n    target: 'note',\n  },\n  {\n    source: 'number',\n    target: 'number',\n    when: {\n      source: {\n        [TYPE]: ['patent', 'report', 'techreport'],\n      },\n      target: {\n        type: ['patent', 'report'],\n      },\n    },\n  },\n  {\n    source: 'pages',\n    target: 'page',\n    convert: {\n      toTarget(text) {\n        return text.replace(/[–—]/, '-')\n      },\n\n      toSource(text) {\n        return text.replace('-', '--')\n      },\n    },\n  },\n  {\n    source: 'publisher',\n    target: 'publisher',\n    convert: Converters.PICK,\n    when: {\n      target: {\n        type: [\n          'article',\n          'article-journal',\n          'article-magazine',\n          'article-newspaper',\n          'bill',\n          'book',\n          'broadcast',\n          'chapter',\n          'dataset',\n          'entry',\n          'entry-dictionary',\n          'entry-encyclopedia',\n          'figure',\n          'graphic',\n          'interview',\n          'legal_case',\n          'legislation',\n          'map',\n          'motion_picture',\n          'musical_score',\n          'pamphlet',\n          'patent',\n          'personal_communication',\n          'post',\n          'post-weblog',\n          'review',\n          'review-book',\n          'song',\n          'speech',\n          'treaty',\n          'webpage',\n        ],\n      },\n    },\n  },\n  {\n    source: 'organization',\n    target: 'publisher',\n    convert: Converters.PICK,\n    when: {\n      source: {\n        publisher: false,\n      },\n      target: {\n        type: 'paper-conference',\n      },\n    },\n  },\n  {\n    source: 'institution',\n    target: 'publisher',\n    convert: Converters.PICK,\n    when: {\n      source: {\n        publisher: false,\n        organization: false,\n      },\n      target: {\n        type: 'report',\n      },\n    },\n  },\n  {\n    source: 'school',\n    target: 'publisher',\n    convert: Converters.PICK,\n    when: {\n      source: {\n        institution: false,\n        organization: false,\n        publisher: false,\n      },\n      target: {\n        type: 'thesis',\n      },\n    },\n  },\n  {\n    source: 'howpublished',\n    target: 'publisher',\n    convert: Converters.PICK,\n    when: {\n      source: {\n        publisher: false,\n        organization: false,\n        institution: false,\n        school: false,\n      },\n      target: {\n        type: 'manuscript',\n      },\n    },\n  },\n  {\n    source: 'title',\n    target: 'title',\n  },\n  {\n    source: [TYPE, 'type'],\n    target: ['type', 'genre'],\n    convert: {\n      toTarget(sourceType, subType) {\n        const type = types.source[sourceType] || 'book'\n\n        if (subType) {\n          return [type, subType]\n        } else if (sourceType === 'mastersthesis') {\n          return [type, \"Master's thesis\"]\n        } else if (sourceType === 'phdthesis') {\n          return [type, 'PhD thesis']\n        } else {\n          return [type]\n        }\n      },\n\n      toSource(targetType, genre) {\n        const type = types.target[targetType] || 'misc'\n\n        if (/^(master'?s|diploma) thesis$/i.test(genre)) {\n          return ['mastersthesis']\n        } else if (/^(phd|doctoral) thesis$/i.test(genre)) {\n          return ['phdthesis']\n        } else {\n          return [type, genre]\n        }\n      },\n    },\n  },\n  {\n    source: TYPE,\n    when: {\n      target: {\n        type: false,\n      },\n    },\n    convert: {\n      toSource() {\n        return 'misc'\n      },\n    },\n  },\n  {\n    source: 'howpublished',\n    target: 'URL',\n    convert: Converters.HOW_PUBLISHED,\n    when: {\n      target: {\n        publisher: false,\n      },\n    },\n  },\n  {\n    source: 'volume',\n    target: 'volume',\n  },\n])\n","function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {}\n  var target = _objectWithoutPropertiesLoose(source, excluded)\n  var key, i\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source)\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i]\n      if (excluded.indexOf(key) >= 0) continue\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue\n      target[key] = source[key]\n    }\n  }\n  return target\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {}\n  var target = {}\n  var sourceKeys = Object.keys(source)\n  var key, i\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i]\n    if (excluded.indexOf(key) >= 0) continue\n    target[key] = source[key]\n  }\n  return target\n}\n\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, 'string')\n  return typeof key === 'symbol' ? key : String(key)\n}\n\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== 'object' || input === null) return input\n  var prim = input[Symbol.toPrimitive]\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || 'default')\n    if (typeof res !== 'object') return res\n    throw new TypeError('@@toPrimitive must return a primitive value.')\n  }\n  return (hint === 'string' ? String : Number)(input)\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object)\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object)\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable\n      })\n    }\n    keys.push.apply(keys, symbols)\n  }\n  return keys\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {}\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key])\n      })\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source))\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key))\n      })\n    }\n  }\n  return target\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true,\n    })\n  } else {\n    obj[key] = value\n  }\n  return obj\n}\n\nimport { TYPE, LABEL } from './shared.js'\nimport biblatex from './biblatex.js'\nimport bibtex from './bibtex.js'\n\nfunction crossref(entry, registry) {\n  if (entry.crossref in registry) {\n    const parent = registry[entry.crossref].properties\n\n    if (parent === entry) {\n      return entry\n    }\n\n    return Object.assign({}, crossref(parent, registry), entry)\n  }\n\n  return entry\n}\n\nfunction _parse(input, spec) {\n  const registry = {}\n\n  for (const entry of input) {\n    registry[entry.label] = entry\n  }\n\n  return input.map(({ type, label, properties }) =>\n    spec.convertToTarget(\n      _objectSpread(\n        {\n          [TYPE]: type,\n          [LABEL]: label,\n        },\n        crossref(properties, registry)\n      )\n    )\n  )\n}\n\nfunction _format(input, spec) {\n  return input.map((entry) => {\n    const _spec$convertToSource = spec.convertToSource(entry),\n      { [TYPE]: type, [LABEL]: label } = _spec$convertToSource,\n      properties = _objectWithoutProperties(\n        _spec$convertToSource,\n        [TYPE, LABEL].map(_toPropertyKey)\n      )\n\n    return {\n      type,\n      label,\n      properties,\n    }\n  })\n}\n\nexport function parseBibtex(input) {\n  return _parse(input, bibtex)\n}\nexport function formatBibtex(input) {\n  return _format(input, bibtex)\n}\nexport function parse(input) {\n  return _parse(input, biblatex)\n}\nexport function format(input) {\n  return _format(input, biblatex)\n}\n","export function getStringCase(string) {\n  const a = string.toUpperCase()\n  const b = string.toLowerCase()\n\n  for (let i = 0; i < string.length; i++) {\n    if (a[i] !== b[i]) {\n      return a[i] === string[i]\n    }\n  }\n\n  return null\n}\nexport function formatNameParts(parts) {\n  if (parts.length === 0) {\n    return undefined\n  }\n\n  let piece = ''\n\n  while (parts.length > 1) {\n    const { value, hyphenated } = parts.shift()\n    piece += value + (hyphenated ? '-' : ' ')\n  }\n\n  const output = piece + parts[0].value\n  return output[0] && output\n}\nexport function orderNameParts(parts, orderGiven = true) {\n  const given = []\n  const undecided = []\n\n  if (orderGiven) {\n    while (parts.length > 1 && parts[0].upperCase !== false) {\n      given.push(...undecided)\n      undecided.length = 0\n\n      while (parts.length > 1 && parts[0].upperCase !== false && !parts[0].hyphenated) {\n        given.push(parts.shift())\n      }\n\n      while (parts.length > 0 && parts[0].upperCase !== false && parts[0].hyphenated) {\n        undecided.push(parts.shift())\n      }\n    }\n  }\n\n  const prefix = []\n  const family = []\n\n  while (parts.length > 1) {\n    prefix.push(...family)\n    family.length = 0\n\n    while (parts.length > 1 && parts[0].upperCase === false) {\n      prefix.push(parts.shift())\n    }\n\n    while (parts.length > 0 && parts[0].upperCase !== false) {\n      family.push(parts.shift())\n    }\n  }\n\n  if (undecided.length) {\n    family.unshift(...undecided)\n  }\n\n  if (parts.length) {\n    family.push(parts[0])\n  }\n\n  return [formatNameParts(given), formatNameParts(prefix), formatNameParts(family)]\n}\nexport function orderNamePieces(pieces) {\n  if (pieces[0][0].label) {\n    const name = {}\n\n    for (const [{ value, label }] of pieces) {\n      name[label] = value\n    }\n\n    return name\n  }\n\n  const name = {}\n  const [given, prefix, family] = orderNameParts(pieces[0], pieces.length === 1)\n\n  if (family) {\n    name.family = family\n  }\n\n  if (prefix) {\n    name.prefix = prefix\n  }\n\n  if (pieces.length === 3) {\n    name.given = formatNameParts(pieces[2])\n    name.suffix = formatNameParts(pieces[1])\n  } else if (pieces.length === 2) {\n    name.given = formatNameParts(pieces[1])\n  } else if (given) {\n    name.given = given\n  }\n\n  return name\n}\n","function ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object)\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object)\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable\n      })\n    }\n    keys.push.apply(keys, symbols)\n  }\n  return keys\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {}\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key])\n      })\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source))\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key))\n      })\n    }\n  }\n  return target\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true,\n    })\n  } else {\n    obj[key] = value\n  }\n  return obj\n}\n\nimport { util } from '../../core/index.js'\nimport moo from 'moo'\nimport config from '../config.js'\nimport * as constants from './constants.js'\nimport { orderNamePieces, formatNameParts, getStringCase } from './name.js'\nconst commandKeywords = {\n  '\\\\begin': 'commandBegin',\n  '\\\\end': 'commandEnd',\n}\nconst text = {\n  command: {\n    match: /\\\\(?:[a-zA-Z]+|.) */,\n    type: (command) => commandKeywords[command],\n    value: (s) => s.slice(1).trim(),\n  },\n  lbrace: {\n    match: '{',\n    push: 'bracedLiteral',\n  },\n  mathShift: {\n    match: '$',\n    push: 'mathLiteral',\n  },\n  whitespace: {\n    match: /[\\s]+|~/,\n    lineBreaks: true,\n\n    value(token) {\n      return token === '~' ? '\\xa0' : ' '\n    },\n  },\n}\nconst lexer = moo.states({\n  stringLiteral: _objectSpread(\n    _objectSpread({}, text),\n    {},\n    {\n      text: /[^{$}\\s~\\\\]+/,\n    }\n  ),\n  namesLiteral: _objectSpread(\n    _objectSpread(\n      {\n        and: /\\s+and\\s+/,\n        comma: ',',\n        hyphen: '-',\n        equals: '=',\n      },\n      text\n    ),\n    {},\n    {\n      text: /[^{$}\\s~\\\\,=-]+/,\n    }\n  ),\n  listLiteral: _objectSpread(\n    _objectSpread(\n      {\n        and: /\\s+and\\s+/,\n      },\n      text\n    ),\n    {},\n    {\n      text: /[^{$}\\s~\\\\]+/,\n    }\n  ),\n  separatedLiteral: _objectSpread(\n    _objectSpread(\n      {\n        comma: ',',\n      },\n      text\n    ),\n    {},\n    {\n      text: /[^{$}\\s~\\\\,]+/,\n    }\n  ),\n  bracedLiteral: _objectSpread(\n    _objectSpread({}, text),\n    {},\n    {\n      rbrace: {\n        match: '}',\n        pop: true,\n      },\n      text: /[^{$}\\s~\\\\]+/,\n    }\n  ),\n  mathLiteral: _objectSpread(\n    _objectSpread({}, text),\n    {},\n    {\n      mathShift: {\n        match: '$',\n        pop: true,\n      },\n      script: /[\\^_]/,\n      text: /[^{$}\\s~\\\\^_]+/,\n    }\n  ),\n})\n\nfunction flattenConsString(string) {\n  string[0]\n  return string\n}\n\nfunction applyFormatting(text, format) {\n  if (format in constants.formatting) {\n    return text && constants.formatting[format].join(text)\n  } else {\n    return text\n  }\n}\n\nexport const valueGrammar = new util.Grammar(\n  {\n    String() {\n      let output = ''\n\n      while (!this.matchEndOfFile()) {\n        output += this.consumeRule('Text')\n      }\n\n      return flattenConsString(output)\n    },\n\n    StringNames() {\n      const list = []\n\n      while (true) {\n        this.consumeToken('whitespace', true)\n        list.push(this.consumeRule('Name'))\n        this.consumeToken('whitespace', true)\n\n        if (this.matchEndOfFile()) {\n          return list\n        } else {\n          this.consumeToken('and')\n        }\n      }\n    },\n\n    Name() {\n      const pieces = []\n\n      while (true) {\n        pieces.push(this.consumeRule('NamePiece'))\n\n        if (this.matchEndOfFile() || this.matchToken('and')) {\n          return orderNamePieces(pieces)\n        } else {\n          this.consumeToken('comma')\n          this.consumeToken('whitespace', true)\n        }\n      }\n    },\n\n    NamePiece() {\n      const parts = []\n\n      while (true) {\n        const part = this.consumeRule('NameToken')\n\n        if (part.label) {\n          part.label = formatNameParts([\n            ...parts,\n            {\n              value: part.label,\n            },\n          ])\n          return [part]\n        }\n\n        parts.push(part)\n\n        if (this.matchEndOfFile() || this.matchToken('and') || this.matchToken('comma')) {\n          return parts\n        } else {\n          while (this.matchToken('hyphen') || this.matchToken('whitespace')) {\n            this.consumeToken()\n          }\n        }\n      }\n    },\n\n    NameToken() {\n      let upperCase = null\n      let value = ''\n\n      while (true) {\n        if (upperCase === null && this.matchToken('text')) {\n          const text = this.consumeToken().value\n          value += text\n          upperCase = getStringCase(text)\n        } else if (\n          this.matchEndOfFile() ||\n          this.matchToken('and') ||\n          this.matchToken('comma') ||\n          this.matchToken('whitespace')\n        ) {\n          return {\n            value,\n            upperCase,\n          }\n        } else if (this.matchToken('hyphen')) {\n          return {\n            value,\n            upperCase,\n            hyphenated: true,\n          }\n        } else if (this.matchToken('equals')) {\n          this.consumeToken('equals')\n          const text = this.consumeRule('NamePiece')\n\n          if (text[0].label) {\n            value += '=' + text[0].label\n          }\n\n          return {\n            value: formatNameParts(text),\n            label: value,\n          }\n        } else {\n          value += this.consumeRule('Text')\n        }\n      }\n    },\n\n    StringList() {\n      const list = []\n\n      while (!this.matchEndOfFile()) {\n        let output = ''\n\n        while (!this.matchEndOfFile() && !this.matchToken('and')) {\n          output += this.consumeRule('Text')\n        }\n\n        list.push(flattenConsString(output))\n        this.consumeToken('and', true)\n      }\n\n      return list.length === 1 ? list[0] : list\n    },\n\n    StringSeparated() {\n      const list = []\n\n      while (!this.matchEndOfFile()) {\n        let output = ''\n\n        while (!this.matchEndOfFile() && !this.matchToken('comma')) {\n          output += this.consumeRule('Text')\n        }\n\n        list.push(output.trim())\n        this.consumeToken('comma', true)\n        this.consumeToken('whitespace', true)\n      }\n\n      return list\n    },\n\n    StringVerbatim() {\n      let output = ''\n\n      while (!this.matchEndOfFile()) {\n        output += this.consumeToken().text\n      }\n\n      return flattenConsString(output)\n    },\n\n    StringUri() {\n      const uri = this.consumeRule('StringVerbatim')\n\n      try {\n        if (decodeURI(uri) === uri) {\n          return encodeURI(uri)\n        } else {\n          return uri\n        }\n      } catch (e) {\n        return encodeURI(uri)\n      }\n    },\n\n    StringTitleCase() {\n      this.state.sentenceCase = true\n      let output = ''\n\n      while (!this.matchEndOfFile()) {\n        output += this.consumeRule('Text')\n      }\n\n      return flattenConsString(output)\n    },\n\n    BracketString() {\n      var _this$state\n\n      let output = ''\n      this.consumeToken('lbrace')\n      const sentenceCase = this.state.sentenceCase\n      this.state.sentenceCase = sentenceCase && this.matchToken('command')\n      ;(_this$state = this.state).partlyLowercase &&\n        (_this$state.partlyLowercase = this.state.sentenceCase)\n\n      while (!this.matchToken('rbrace')) {\n        output += this.consumeRule('Text')\n      }\n\n      const topLevel = sentenceCase && !this.state.sentenceCase\n      const protectCase = topLevel && this.state.partlyLowercase\n      this.state.sentenceCase = sentenceCase\n      this.consumeToken('rbrace')\n      return protectCase ? applyFormatting(output, 'nocase') : output\n    },\n\n    MathString() {\n      let output = ''\n      this.consumeToken('mathShift')\n\n      while (!this.matchToken('mathShift')) {\n        if (this.matchToken('script')) {\n          const script = this.consumeToken('script').value\n          const text = this.consumeRule('Text').split('')\n\n          if (text.every((char) => char in constants.mathScripts[script])) {\n            output += text.map((char) => constants.mathScripts[script][char]).join('')\n          } else {\n            const formatName = constants.mathScriptFormatting[script]\n            output += constants.formatting[formatName].join(text.join(''))\n          }\n\n          continue\n        }\n\n        if (this.matchToken('command')) {\n          const command = this.token.value\n\n          if (command in constants.mathScriptFormatting) {\n            this.consumeToken('command')\n            const text = this.consumeRule('BracketString')\n            output += applyFormatting(text, constants.mathScriptFormatting[command])\n            continue\n          }\n        }\n\n        output += this.consumeRule('Text')\n      }\n\n      this.consumeToken('mathShift')\n      return output\n    },\n\n    Text() {\n      if (this.matchToken('lbrace')) {\n        return this.consumeRule('BracketString')\n      } else if (this.matchToken('mathShift')) {\n        return this.consumeRule('MathString')\n      } else if (this.matchToken('whitespace')) {\n        return this.consumeToken('whitespace').value\n      } else if (this.matchToken('commandBegin')) {\n        return this.consumeRule('EnclosedEnv')\n      } else if (this.matchToken('command')) {\n        return this.consumeRule('Command')\n      }\n\n      const text = this.consumeToken('text').value.replace(\n        constants.ligaturePattern,\n        (ligature) => constants.ligatures[ligature]\n      )\n      const afterPunctuation = this.state.afterPunctuation\n      this.state.afterPunctuation = /[?!.:]$/.test(text)\n\n      if (!this.state.sentenceCase) {\n        var _this$state2\n\n        ;(_this$state2 = this.state).partlyLowercase ||\n          (_this$state2.partlyLowercase =\n            text === text.toLowerCase() && text !== text.toUpperCase())\n        return text\n      }\n\n      const [first, ...otherCharacters] = text\n      const rest = otherCharacters.join('')\n      const restLowerCase = rest.toLowerCase()\n\n      if (rest !== restLowerCase) {\n        return text\n      }\n\n      if (!afterPunctuation) {\n        return text.toLowerCase()\n      }\n\n      return first + restLowerCase\n    },\n\n    Command() {\n      const commandToken = this.consumeToken('command')\n      const command = commandToken.value\n\n      if (command in constants.formattingEnvs) {\n        const text = this.consumeRule('Env')\n        const format = constants.formattingEnvs[command]\n        return applyFormatting(text, format)\n      } else if (command in constants.formattingCommands) {\n        const text = this.consumeRule('BracketString')\n        const format = constants.formattingCommands[command]\n        return applyFormatting(text, format)\n      } else if (command in constants.commands) {\n        return constants.commands[command]\n      } else if (command in constants.diacritics && !this.matchEndOfFile()) {\n        const text = this.consumeRule('Text')\n        const diacritic = text[0] + constants.diacritics[command]\n        return diacritic.normalize('NFC') + text.slice(1)\n      } else if (command in constants.argumentCommands) {\n        const func = constants.argumentCommands[command]\n        const args = []\n        let arity = func.length\n\n        while (arity-- > 0) {\n          this.consumeToken('whitespace', true)\n          args.push(this.consumeRule('BracketString'))\n        }\n\n        return func(...args)\n      } else if (/^[&%$#_{}]$/.test(command)) {\n        return commandToken.text.slice(1)\n      } else {\n        return commandToken.text\n      }\n    },\n\n    Env() {\n      let output = ''\n\n      while (!this.matchEndOfFile() && !this.matchToken('rbrace')) {\n        output += this.consumeRule('Text')\n      }\n\n      return output\n    },\n\n    EnclosedEnv() {\n      this.consumeToken('commandBegin')\n      const beginEnv = this.consumeRule('BracketString')\n      let output = ''\n\n      while (!this.matchToken('commandEnd')) {\n        output += this.consumeRule('Text')\n      }\n\n      const end = this.consumeToken('commandEnd')\n      const endEnv = this.consumeRule('BracketString')\n\n      if (beginEnv !== endEnv) {\n        throw new SyntaxError(\n          this.lexer.formatError(\n            end,\n            `environment started with \"${beginEnv}\", ended with \"${endEnv}\"`\n          )\n        )\n      }\n\n      return applyFormatting(output, constants.formattingEnvs[beginEnv])\n    },\n  },\n  {\n    sentenceCase: false,\n    partlyLowercase: false,\n    afterPunctuation: true,\n  }\n)\n\nfunction singleLanguageIsEnglish(language) {\n  return constants.sentenceCaseLanguages.includes(language.toLowerCase())\n}\n\nfunction isEnglish(languages) {\n  if (Array.isArray(languages)) {\n    return languages.every(singleLanguageIsEnglish)\n  }\n\n  return singleLanguageIsEnglish(languages)\n}\n\nfunction getMainRule(fieldType, languages) {\n  if (fieldType[1] === 'name') {\n    return fieldType[0] === 'list' ? 'StringNames' : 'Name'\n  }\n\n  if (fieldType[1] === 'title') {\n    const option = config.parse.sentenceCase\n\n    if (option === 'always' || (option === 'english' && isEnglish(languages))) {\n      return 'StringTitleCase'\n    } else {\n      return 'String'\n    }\n  }\n\n  switch (fieldType[0] === 'field' ? fieldType[1] : fieldType[0]) {\n    case 'list':\n      return 'StringList'\n\n    case 'separated':\n      return 'StringSeparated'\n\n    case 'verbatim':\n      return 'StringVerbatim'\n\n    case 'uri':\n      return 'StringUri'\n\n    case 'title':\n    case 'literal':\n    default:\n      return 'String'\n  }\n}\n\nfunction getLexerState(fieldType) {\n  if (fieldType[1] === 'name') {\n    return 'namesLiteral'\n  }\n\n  switch (fieldType[0]) {\n    case 'list':\n      return 'listLiteral'\n\n    case 'separated':\n      return 'separatedLiteral'\n\n    case 'field':\n    default:\n      return 'stringLiteral'\n  }\n}\n\nexport function parse(text, field, languages = []) {\n  const fieldType = constants.fieldTypes[field] || []\n  return valueGrammar.parse(\n    lexer.reset(text, {\n      state: getLexerState(fieldType),\n      line: 0,\n      col: 0,\n    }),\n    getMainRule(fieldType, languages)\n  )\n}\n","function ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object)\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object)\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable\n      })\n    }\n    keys.push.apply(keys, symbols)\n  }\n  return keys\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {}\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key])\n      })\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source))\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key))\n      })\n    }\n  }\n  return target\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true,\n    })\n  } else {\n    obj[key] = value\n  }\n  return obj\n}\n\nimport config from '../config.js'\nimport { parse as mapBiblatex, parseBibtex as mapBibtex } from '../mapping/index.js'\nimport { parse as parseValue } from './value.js'\nimport { required } from './constants.js'\n\nfunction validate(entries, requirements) {\n  const problems = []\n\n  for (const { type, label, properties } of entries) {\n    if (type in requirements) {\n      const missing = []\n\n      for (const field of requirements[type]) {\n        if (Array.isArray(field) && !field.some((field) => field in properties)) {\n          missing.push(field.join('/'))\n        } else if (typeof field === 'string' && !(field in properties)) {\n          missing.push(field)\n        }\n      }\n\n      if (missing.length) {\n        problems.push([label, `missing fields: ${missing.join(', ')}`])\n      }\n    } else {\n      problems.push([label, `invalid type: \"${type}\"`])\n    }\n  }\n\n  if (problems.length) {\n    throw new RangeError(\n      ['Invalid entries:']\n        .concat(problems.map(([label, problem]) => `  - ${label} has ${problem}`))\n        .join('\\n')\n    )\n  }\n}\n\nfunction parseEntryValues(entry) {\n  const output = {}\n\n  if ('language' in entry.properties) {\n    output.language = parseValue(entry.properties.language, 'language')\n  }\n\n  for (const property in entry.properties) {\n    const value = entry.properties[property]\n\n    if (value === '') {\n      continue\n    }\n\n    output[property] = parseValue(value + '', property, output.language)\n  }\n\n  return _objectSpread(\n    _objectSpread({}, entry),\n    {},\n    {\n      properties: output,\n    }\n  )\n}\n\nexport function parse(entries) {\n  if (config.parse.strict) {\n    validate(entries, required.biblatex)\n  }\n\n  return mapBiblatex(entries.map(parseEntryValues))\n}\nexport function parseBibtex(entries) {\n  if (config.parse.strict) {\n    validate(entries, required.bibtex)\n  }\n\n  return mapBibtex(entries.map(parseEntryValues))\n}\n","import { parse as parseFile } from './file.js'\nimport { parse as parseBibtxt } from './bibtxt.js'\nimport { parse as parseEntries, parseBibtex } from './entries.js'\nexport const ref = '@bibtex'\nexport const formats = {\n  '@biblatex/text': {\n    parse: parseFile,\n    parseType: {\n      dataType: 'String',\n      predicate: /@\\s{0,5}[A-Za-z]{1,13}\\s{0,5}\\{\\s{0,5}[^@{}\"=,\\\\\\s]{0,100}\\s{0,5},[\\s\\S]*\\}/,\n    },\n  },\n  '@biblatex/entry+object': {\n    parse(input) {\n      return parseEntries([input])\n    },\n\n    parseType: {\n      dataType: 'SimpleObject',\n      propertyConstraint: {\n        props: ['type', 'label', 'properties'],\n      },\n    },\n  },\n  '@biblatex/entries+list': {\n    parse: parseEntries,\n    parseType: {\n      elementConstraint: '@biblatex/entry+object',\n    },\n  },\n  '@bibtex/text': {\n    parse: parseFile,\n    outputs: '@bibtex/entries+list',\n  },\n  '@bibtex/entry+object': {\n    parse(input) {\n      return parseBibtex([input])\n    },\n  },\n  '@bibtex/entries+list': {\n    parse: parseBibtex,\n  },\n  '@bibtxt/text': {\n    parse: parseBibtxt,\n    parseType: {\n      dataType: 'String',\n      predicate: /^\\s*(\\[(?!\\s*[{[]).*?\\]\\s*(\\n\\s*[^[]((?!:)\\S)+\\s*:\\s*.+?\\s*)*\\s*)+$/,\n    },\n  },\n}\n","//@ts-nocheck\nimport { diacritics, commands, ligatures, fieldTypes } from '../input/constants.js'\nconst unicode = {}\n\nfor (const command in commands) {\n  unicode[commands[command]] = command\n}\n\nfor (const diacritic in diacritics) {\n  unicode[diacritics[diacritic]] = diacritic\n}\n\nfor (const ligature in ligatures) {\n  unicode[ligatures[ligature]] = ligature\n}\n\nconst UNSAFE_UNICODE =\n  /[^a-zA-Z0-9\\s!\"#%&'()*+,\\-./:;=?@[\\]{}\\u0300-\\u0308\\u030a-\\u030c\\u0332\\u0323\\u0327\\u0328\\u0361\\u0326]/g\nconst DIACRITIC_PATTERN = /.[\\u0300-\\u0308\\u030a-\\u030c\\u0332\\u0323\\u0327\\u0328\\u0361\\u0326]+/g\nconst listDelimiters = {\n  separated: ',',\n  list: ' and ',\n}\nconst richTextMappings = {\n  i: '\\\\textit{',\n  b: '\\\\textbf{',\n  sc: '\\\\textsc{',\n  sup: '\\\\textsuperscript{',\n  sub: '\\\\textsubscript{',\n  'span style=\"font-variant:small-caps;\"': '\\\\textsc{',\n  'span class=\"nocase\"': '{',\n}\n\nfunction escapeValue(value) {\n  return value\n    .normalize('NFKD')\n    .replace(UNSAFE_UNICODE, (char) =>\n      char in unicode ? (unicode[char] in ligatures ? unicode[char] : `\\\\${unicode[char]}{}`) : ''\n    )\n    .replace(DIACRITIC_PATTERN, (match) =>\n      Array.from(match).reduce((subject, diacritic) => `{\\\\${unicode[diacritic]} ${subject}}`)\n    )\n}\n\nfunction formatRichText(value) {\n  const closingTags = []\n  let tokens = value.split(/<(\\/?(?:i|b|sc|sup|sub|span)|span .*?)>/g)\n  tokens = tokens.map((token, index) => {\n    if (index % 2 === 0) {\n      return escapeValue(token)\n    } else if (token in richTextMappings) {\n      closingTags.push('/' + token.split(' ')[0])\n      return richTextMappings[token]\n    } else if (token === closingTags[closingTags.length - 1]) {\n      closingTags.pop()\n      return '}'\n    } else {\n      return ''\n    }\n  })\n  return tokens.join('')\n}\n\nfunction formatName(name) {\n  if (name.family && !name.prefix && !name.given & !name.suffix) {\n    return name.family.includes(listDelimiters.list) ? name.family : `{${name.family}}`\n  }\n\n  const parts = ['']\n\n  if (name.prefix && name.family) {\n    parts[0] += name.prefix + ' '\n  }\n\n  if (name.family) {\n    parts[0] += name.family\n  }\n\n  if (name.suffix) {\n    parts.push(name.suffix)\n    parts.push(name.given || '')\n  } else {\n    parts.push(name.given)\n  }\n\n  return escapeValue(parts.join(', ').trim())\n}\n\nfunction formatTitle(title) {\n  return formatRichText(title)\n    .split(/(:\\s*)/)\n    .map((part, i) => (i % 2 ? part : part.replace(/(?!^)\\b[a-z]*[A-Z].*?\\b/g, '{$&}')))\n    .join('')\n}\n\nfunction formatSingleValue(value, valueType) {\n  switch (valueType) {\n    case 'title':\n      return formatTitle(value)\n\n    case 'literal':\n      return formatRichText(value.toString())\n\n    case 'name':\n      return formatName(value)\n\n    case 'verbatim':\n    case 'uri':\n      return value.toString()\n\n    default:\n      return escapeValue(value.toString())\n  }\n}\n\nfunction formatList(values, valueType, listType) {\n  const delimiter = listDelimiters[listType]\n  return values\n    .map((value) => {\n      const formatted = formatSingleValue(value, valueType)\n      return formatted.includes(delimiter) ? `{${formatted}}` : formatted\n    })\n    .join(delimiter)\n}\n\nexport function format(field, value) {\n  if (!(field in fieldTypes)) {\n    return formatSingleValue(value, 'verbatim')\n  }\n\n  const [listType, valueType] = fieldTypes[field]\n\n  if (listType in listDelimiters) {\n    return formatList(value, valueType, listType)\n  } else {\n    return formatSingleValue(value, valueType)\n  }\n}\n","import { format as mapBiblatex, formatBibtex as mapBibtex } from '../mapping/index.js'\nimport { format as formatValue } from './value.js'\n\nfunction formatEntryValues({ type, label, properties }) {\n  const output = {}\n\n  for (const property in properties) {\n    const value = properties[property]\n    output[property] = formatValue(property, value)\n  }\n\n  return {\n    type,\n    label,\n    properties: output,\n  }\n}\n\nexport function format(entries) {\n  return mapBiblatex(entries).map(formatEntryValues)\n}\nexport function formatBibtex(entries) {\n  return mapBibtex(entries).map(formatEntryValues)\n}\n","function formatEntry({ type, label, properties }, dict) {\n  const fields = Object.entries(properties).map(([field, value]) =>\n    dict.listItem.join(`${field} = {${value}},`)\n  )\n  return dict.entry.join(`@${type}{${label},${dict.list.join(fields.join(''))}}`)\n}\n\nexport function format(src, dict) {\n  const entries = src.map((entry) => formatEntry(entry, dict)).join('')\n  return dict.bibliographyContainer.join(entries)\n}\n","function formatEntry({ type, label, properties }, dict) {\n  const fields = Object.entries(properties)\n    .concat([['type', type]])\n    .map(([field, value]) => dict.listItem.join(`${field}: ${value}`))\n  return dict.entry.join(`[${label}]${dict.list.join(fields.join(''))}`)\n}\n\nexport function format(src, dict) {\n  const entries = src.map((entry) => formatEntry(entry, dict)).join('\\n')\n  return dict.bibliographyContainer.join(entries)\n}\n","import { plugins } from '../../core/index.js'\nimport { format as mapBiblatex, formatBibtex as mapBibtex } from './entries.js'\nimport { format } from './bibtex.js'\nimport { format as formatBibtxt } from './bibtxt.js'\n\nconst factory = function (mapper, formatter) {\n  return function (data, opts = {}) {\n    const { type, format = type || 'text' } = opts\n    data = mapper(data)\n\n    if (format === 'object') {\n      return data\n    } else if (plugins.dict.has(format)) {\n      return formatter(data, plugins.dict.get(format), opts)\n    } else {\n      throw new RangeError(`Output dictionary \"${format}\" not available`)\n    }\n  }\n}\n\nexport default {\n  bibtex: factory(mapBibtex, format),\n  biblatex: factory(mapBiblatex, format),\n  bibtxt: factory(mapBibtex, formatBibtxt),\n}\n","import { plugins } from '../core/index.js'\nimport { ref, formats as input } from './input/index.js'\nimport config from './config.js'\nimport output from './output/index.js'\nplugins.add(ref, {\n  input,\n  output,\n  config,\n})\n","import { util } from '../core/index.js'\n\nconst defaultLocales = {\n  'en-US': `<?xml version=\"1.0\" encoding=\"utf-8\"?><locale xmlns=\"http://purl.org/net/xbiblio/csl\" version=\"1.0\" xml:lang=\"en-US\"><info><translator><name>Andrew Dunning</name></translator><translator><name>Sebastian Karcher</name></translator><translator><name>Rintze M. Zelle</name></translator><translator><name>Denis Meier</name></translator><translator><name>Brenton M. Wiernik</name></translator><rights license=\"http://creativecommons.org/licenses/by-sa/3.0/\">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights><updated>2015-10-10T23:31:02+00:00</updated></info><style-options punctuation-in-quote=\"true\"/><date form=\"text\"><date-part name=\"month\" suffix=\" \"/><date-part name=\"day\" suffix=\", \"/><date-part name=\"year\"/></date><date form=\"numeric\"><date-part name=\"month\" form=\"numeric-leading-zeros\" suffix=\"/\"/><date-part name=\"day\" form=\"numeric-leading-zeros\" suffix=\"/\"/><date-part name=\"year\"/></date><terms><term name=\"advance-online-publication\">advance online publication</term><term name=\"album\">album</term><term name=\"audio-recording\">audio recording</term><term name=\"film\">film</term><term name=\"henceforth\">henceforth</term><term name=\"loc-cit\">loc. cit.</term><term name=\"no-place\">no place</term><term name=\"no-place\" form=\"short\">n.p.</term><term name=\"no-publisher\">no publisher</term><term name=\"no-publisher\" form=\"short\">n.p.</term><term name=\"on\">on</term><term name=\"op-cit\">op. cit.</term><term name=\"original-work-published\">original work published</term><term name=\"personal-communication\">personal communication</term><term name=\"podcast\">podcast</term><term name=\"podcast-episode\">podcast episode</term><term name=\"preprint\">preprint</term><term name=\"radio-broadcast\">radio broadcast</term><term name=\"radio-series\">radio series</term><term name=\"radio-series-episode\">radio series episode</term><term name=\"special-issue\">special issue</term><term name=\"special-section\">special section</term><term name=\"television-broadcast\">television broadcast</term><term name=\"television-series\">television series</term><term name=\"television-series-episode\">television series episode</term><term name=\"video\">video</term><term name=\"working-paper\">working paper</term><term name=\"accessed\">accessed</term><term name=\"and\">and</term><term name=\"and others\">and others</term><term name=\"anonymous\">anonymous</term><term name=\"anonymous\" form=\"short\">anon.</term><term name=\"at\">at</term><term name=\"available at\">available at</term><term name=\"by\">by</term><term name=\"circa\">circa</term><term name=\"circa\" form=\"short\">c.</term><term name=\"cited\">cited</term><term name=\"edition\"><single>edition</single><multiple>editions</multiple></term><term name=\"edition\" form=\"short\">ed.</term><term name=\"et-al\">et al.</term><term name=\"forthcoming\">forthcoming</term><term name=\"from\">from</term><term name=\"ibid\">ibid.</term><term name=\"in\">in</term><term name=\"in press\">in press</term><term name=\"internet\">internet</term><term name=\"interview\">interview</term><term name=\"letter\">letter</term><term name=\"no date\">no date</term><term name=\"no date\" form=\"short\">n.d.</term><term name=\"online\">online</term><term name=\"presented at\">presented at the</term><term name=\"reference\"><single>reference</single><multiple>references</multiple></term><term name=\"reference\" form=\"short\"><single>ref.</single><multiple>refs.</multiple></term><term name=\"retrieved\">retrieved</term><term name=\"scale\">scale</term><term name=\"version\">version</term><term name=\"article\">preprint</term><term name=\"article-journal\">journal article</term><term name=\"article-magazine\">magazine article</term><term name=\"article-newspaper\">newspaper article</term><term name=\"bill\">bill</term><term name=\"book\">book</term><term name=\"broadcast\">broadcast</term><term name=\"chapter\">book chapter</term><term name=\"classic\">classic</term><term name=\"collection\">collection</term><term name=\"dataset\">dataset</term><term name=\"document\">document</term><term name=\"entry\">entry</term><term name=\"entry-dictionary\">dictionary entry</term><term name=\"entry-encyclopedia\">encyclopedia entry</term><term name=\"event\">event</term><term name=\"graphic\">graphic</term><term name=\"hearing\">hearing</term><term name=\"interview\">interview</term><term name=\"legal_case\">legal case</term><term name=\"legislation\">legislation</term><term name=\"manuscript\">manuscript</term><term name=\"map\">map</term><term name=\"motion_picture\">video recording</term><term name=\"musical_score\">musical score</term><term name=\"pamphlet\">pamphlet</term><term name=\"paper-conference\">conference paper</term><term name=\"patent\">patent</term><term name=\"performance\">performance</term><term name=\"periodical\">periodical</term><term name=\"personal_communication\">personal communication</term><term name=\"post\">post</term><term name=\"post-weblog\">blog post</term><term name=\"regulation\">regulation</term><term name=\"report\">report</term><term name=\"review\">review</term><term name=\"review-book\">book review</term><term name=\"software\">software</term><term name=\"song\">audio recording</term><term name=\"speech\">presentation</term><term name=\"standard\">standard</term><term name=\"thesis\">thesis</term><term name=\"treaty\">treaty</term><term name=\"webpage\">webpage</term><term name=\"article-journal\" form=\"short\">journal art.</term><term name=\"article-magazine\" form=\"short\">mag. art.</term><term name=\"article-newspaper\" form=\"short\">newspaper art.</term><term name=\"book\" form=\"short\">bk.</term><term name=\"chapter\" form=\"short\">bk. chap.</term><term name=\"document\" form=\"short\">doc.</term><term name=\"graphic\" form=\"short\">graph.</term><term name=\"interview\" form=\"short\">interv.</term><term name=\"manuscript\" form=\"short\">MS</term><term name=\"motion_picture\" form=\"short\">video rec.</term><term name=\"report\" form=\"short\">rep.</term><term name=\"review\" form=\"short\">rev.</term><term name=\"review-book\" form=\"short\">bk. rev.</term><term name=\"song\" form=\"short\">audio rec.</term><term name=\"ad\">AD</term><term name=\"bc\">BC</term><term name=\"bce\">BCE</term><term name=\"ce\">CE</term><term name=\"open-quote\">“</term><term name=\"close-quote\">”</term><term name=\"open-inner-quote\">‘</term><term name=\"close-inner-quote\">’</term><term name=\"page-range-delimiter\">–</term><term name=\"colon\">:</term><term name=\"comma\">,</term><term name=\"semicolon\">;</term><term name=\"ordinal\">th</term><term name=\"ordinal-01\">st</term><term name=\"ordinal-02\">nd</term><term name=\"ordinal-03\">rd</term><term name=\"ordinal-11\">th</term><term name=\"ordinal-12\">th</term><term name=\"ordinal-13\">th</term><term name=\"long-ordinal-01\">first</term><term name=\"long-ordinal-02\">second</term><term name=\"long-ordinal-03\">third</term><term name=\"long-ordinal-04\">fourth</term><term name=\"long-ordinal-05\">fifth</term><term name=\"long-ordinal-06\">sixth</term><term name=\"long-ordinal-07\">seventh</term><term name=\"long-ordinal-08\">eighth</term><term name=\"long-ordinal-09\">ninth</term><term name=\"long-ordinal-10\">tenth</term><term name=\"act\"><single>act</single><multiple>acts</multiple></term><term name=\"appendix\"><single>appendix</single><multiple>appendices</multiple></term><term name=\"article-locator\"><single>article</single><multiple>articles</multiple></term><term name=\"canon\"><single>canon</single><multiple>canons</multiple></term><term name=\"elocation\"><single>location</single><multiple>locations</multiple></term><term name=\"equation\"><single>equation</single><multiple>equations</multiple></term><term name=\"rule\"><single>rule</single><multiple>rules</multiple></term><term name=\"scene\"><single>scene</single><multiple>scenes</multiple></term><term name=\"table\"><single>table</single><multiple>tables</multiple></term><term name=\"timestamp\"><single></single><multiple></multiple></term><term name=\"title-locator\"><single>title</single><multiple>titles</multiple></term><term name=\"book\"><single>book</single><multiple>books</multiple></term><term name=\"chapter\"><single>chapter</single><multiple>chapters</multiple></term><term name=\"column\"><single>column</single><multiple>columns</multiple></term><term name=\"figure\"><single>figure</single><multiple>figures</multiple></term><term name=\"folio\"><single>folio</single><multiple>folios</multiple></term><term name=\"issue\"><single>number</single><multiple>numbers</multiple></term><term name=\"line\"><single>line</single><multiple>lines</multiple></term><term name=\"note\"><single>note</single><multiple>notes</multiple></term><term name=\"opus\"><single>opus</single><multiple>opera</multiple></term><term name=\"page\"><single>page</single><multiple>pages</multiple></term><term name=\"number-of-pages\"><single>page</single><multiple>pages</multiple></term><term name=\"paragraph\"><single>paragraph</single><multiple>paragraphs</multiple></term><term name=\"part\"><single>part</single><multiple>parts</multiple></term><term name=\"section\"><single>section</single><multiple>sections</multiple></term><term name=\"sub-verbo\"><single>sub verbo</single><multiple>sub verbis</multiple></term><term name=\"verse\"><single>verse</single><multiple>verses</multiple></term><term name=\"volume\"><single>volume</single><multiple>volumes</multiple></term><term name=\"appendix\"><single>app.</single><multiple>apps.</multiple></term><term name=\"article-locator\"><single>art.</single><multiple>arts.</multiple></term><term name=\"elocation\"><single>loc.</single><multiple>locs.</multiple></term><term name=\"equation\"><single>eq.</single><multiple>eqs.</multiple></term><term name=\"rule\"><single>r.</single><multiple>rr.</multiple></term><term name=\"scene\"><single>sc.</single><multiple>scs.</multiple></term><term name=\"table\"><single>tbl.</single><multiple>tbls.</multiple></term><term name=\"timestamp\"><single></single><multiple></multiple></term><term name=\"title-locator\"><single>tit.</single><multiple>tits.</multiple></term><term name=\"book\" form=\"short\"><single>bk.</single><multiple>bks.</multiple></term><term name=\"chapter\" form=\"short\"><single>chap.</single><multiple>chaps.</multiple></term><term name=\"column\" form=\"short\"><single>col.</single><multiple>cols.</multiple></term><term name=\"figure\" form=\"short\"><single>fig.</single><multiple>figs.</multiple></term><term name=\"folio\" form=\"short\"><single>fol.</single><multiple>fols.</multiple></term><term name=\"issue\" form=\"short\"><single>no.</single><multiple>nos.</multiple></term><term name=\"line\" form=\"short\"><single>l.</single><multiple>ll.</multiple></term><term name=\"note\" form=\"short\"><single>n.</single><multiple>nn.</multiple></term><term name=\"opus\" form=\"short\"><single>op.</single><multiple>opp.</multiple></term><term name=\"page\" form=\"short\"><single>p.</single><multiple>pp.</multiple></term><term name=\"number-of-pages\" form=\"short\"><single>p.</single><multiple>pp.</multiple></term><term name=\"paragraph\" form=\"short\"><single>para.</single><multiple>paras.</multiple></term><term name=\"part\" form=\"short\"><single>pt.</single><multiple>pts.</multiple></term><term name=\"section\" form=\"short\"><single>sec.</single><multiple>secs.</multiple></term><term name=\"sub-verbo\" form=\"short\"><single>s.v.</single><multiple>s.vv.</multiple></term><term name=\"verse\" form=\"short\"><single>v.</single><multiple>vv.</multiple></term><term name=\"volume\" form=\"short\"><single>vol.</single><multiple>vols.</multiple></term><term name=\"paragraph\" form=\"symbol\"><single>¶</single><multiple>¶¶</multiple></term><term name=\"section\" form=\"symbol\"><single>§</single><multiple>§§</multiple></term><term name=\"chair\"><single>chair</single><multiple>chairs</multiple></term><term name=\"compiler\"><single>compiler</single><multiple>compilers</multiple></term><term name=\"contributor\"><single>contributor</single><multiple>contributors</multiple></term><term name=\"curator\"><single>curator</single><multiple>curators</multiple></term><term name=\"executive-producer\"><single>executive producer</single><multiple>executive producers</multiple></term><term name=\"guest\"><single>guest</single><multiple>guests</multiple></term><term name=\"host\"><single>host</single><multiple>hosts</multiple></term><term name=\"narrator\"><single>narrator</single><multiple>narrators</multiple></term><term name=\"organizer\"><single>organizer</single><multiple>organizers</multiple></term><term name=\"performer\"><single>performer</single><multiple>performers</multiple></term><term name=\"producer\"><single>producer</single><multiple>producers</multiple></term><term name=\"script-writer\"><single>writer</single><multiple>writers</multiple></term><term name=\"series-creator\"><single>series creator</single><multiple>series creators</multiple></term><term name=\"director\"><single>director</single><multiple>directors</multiple></term><term name=\"editor\"><single>editor</single><multiple>editors</multiple></term><term name=\"editorial-director\"><single>editor</single><multiple>editors</multiple></term><term name=\"illustrator\"><single>illustrator</single><multiple>illustrators</multiple></term><term name=\"translator\"><single>translator</single><multiple>translators</multiple></term><term name=\"editortranslator\"><single>editor &amp; translator</single><multiple>editors &amp; translators</multiple></term><term name=\"compiler\" form=\"short\"><single>comp.</single><multiple>comps.</multiple></term><term name=\"contributor\" form=\"short\"><single>contrib.</single><multiple>contribs.</multiple></term><term name=\"curator\" form=\"short\"><single>cur.</single><multiple>curs.</multiple></term><term name=\"executive-producer\" form=\"short\"><single>exec. prod.</single><multiple>exec. prods.</multiple></term><term name=\"narrator\" form=\"short\"><single>narr.</single><multiple>narrs.</multiple></term><term name=\"organizer\" form=\"short\"><single>org.</single><multiple>orgs.</multiple></term><term name=\"performer\" form=\"short\"><single>perf.</single><multiple>perfs.</multiple></term><term name=\"producer\" form=\"short\"><single>prod.</single><multiple>prods.</multiple></term><term name=\"script-writer\" form=\"short\"><single>writ.</single><multiple>writs.</multiple></term><term name=\"series-creator\" form=\"short\"><single>cre.</single><multiple>cres.</multiple></term><term name=\"director\" form=\"short\"><single>dir.</single><multiple>dirs.</multiple></term><term name=\"editor\" form=\"short\"><single>ed.</single><multiple>eds.</multiple></term><term name=\"editorial-director\" form=\"short\"><single>ed.</single><multiple>eds.</multiple></term><term name=\"illustrator\" form=\"short\"><single>ill.</single><multiple>ills.</multiple></term><term name=\"translator\" form=\"short\"><single>tran.</single><multiple>trans.</multiple></term><term name=\"editortranslator\" form=\"short\"><single>ed. &amp; tran.</single><multiple>eds. &amp; trans.</multiple></term><term name=\"chair\" form=\"verb\">chaired by</term><term name=\"compiler\" form=\"verb\">compiled by</term><term name=\"contributor\" form=\"verb\">with</term><term name=\"curator\" form=\"verb\">curated by</term><term name=\"executive-producer\" form=\"verb\">executive produced by</term><term name=\"guest\" form=\"verb\">with guest</term><term name=\"host\" form=\"verb\">hosted by</term><term name=\"narrator\" form=\"verb\">narrated by</term><term name=\"organizer\" form=\"verb\">organized by</term><term name=\"performer\" form=\"verb\">performed by</term><term name=\"producer\" form=\"verb\">produced by</term><term name=\"script-writer\" form=\"verb\">written by</term><term name=\"series-creator\" form=\"verb\">created by</term><term name=\"container-author\" form=\"verb\">by</term><term name=\"director\" form=\"verb\">directed by</term><term name=\"editor\" form=\"verb\">edited by</term><term name=\"editorial-director\" form=\"verb\">edited by</term><term name=\"illustrator\" form=\"verb\">illustrated by</term><term name=\"interviewer\" form=\"verb\">interview by</term><term name=\"recipient\" form=\"verb\">to</term><term name=\"reviewed-author\" form=\"verb\">by</term><term name=\"translator\" form=\"verb\">translated by</term><term name=\"editortranslator\" form=\"verb\">edited &amp; translated by</term><term name=\"compiler\" form=\"verb-short\">comp. by</term><term name=\"contributor\" form=\"verb-short\">w.</term><term name=\"curator\" form=\"verb-short\">cur. by</term><term name=\"executive-producer\" form=\"verb-short\">exec. prod. by</term><term name=\"guest\" form=\"verb-short\">w. guest</term><term name=\"host\" form=\"verb-short\">hosted by</term><term name=\"narrator\" form=\"verb-short\">narr. by</term><term name=\"organizer\" form=\"verb-short\">org. by</term><term name=\"performer\" form=\"verb-short\">perf. by</term><term name=\"producer\" form=\"verb-short\">prod. by</term><term name=\"script-writer\" form=\"verb-short\">writ. by</term><term name=\"series-creator\" form=\"verb-short\">cre. by</term><term name=\"director\" form=\"verb-short\">dir. by</term><term name=\"editor\" form=\"verb-short\">ed. by</term><term name=\"editorial-director\" form=\"verb-short\">ed. by</term><term name=\"illustrator\" form=\"verb-short\">illus. by</term><term name=\"translator\" form=\"verb-short\">trans. by</term><term name=\"editortranslator\" form=\"verb-short\">ed. &amp; trans. by</term><term name=\"month-01\">January</term><term name=\"month-02\">February</term><term name=\"month-03\">March</term><term name=\"month-04\">April</term><term name=\"month-05\">May</term><term name=\"month-06\">June</term><term name=\"month-07\">July</term><term name=\"month-08\">August</term><term name=\"month-09\">September</term><term name=\"month-10\">October</term><term name=\"month-11\">November</term><term name=\"month-12\">December</term><term name=\"month-01\" form=\"short\">Jan.</term><term name=\"month-02\" form=\"short\">Feb.</term><term name=\"month-03\" form=\"short\">Mar.</term><term name=\"month-04\" form=\"short\">Apr.</term><term name=\"month-05\" form=\"short\">May</term><term name=\"month-06\" form=\"short\">Jun.</term><term name=\"month-07\" form=\"short\">Jul.</term><term name=\"month-08\" form=\"short\">Aug.</term><term name=\"month-09\" form=\"short\">Sep.</term><term name=\"month-10\" form=\"short\">Oct.</term><term name=\"month-11\" form=\"short\">Nov.</term><term name=\"month-12\" form=\"short\">Dec.</term><term name=\"season-01\">Spring</term><term name=\"season-02\">Summer</term><term name=\"season-03\">Autumn</term><term name=\"season-04\">Winter</term></terms></locale>`,\n}\n\nconst locales = new util.Register(defaultLocales)\n\nconst fetchLocale = (lang) => {\n  if (locales.has(lang)) {\n    return locales.get(lang)\n  } else {\n    return locales.get('en-US')\n  }\n}\n\nexport default fetchLocale\nexport { locales }\n","import { util } from '../core/index.js'\n\nconst defaultTemplates = {\n  apa: `<?xml version=\"1.0\" encoding=\"utf-8\"?><style xmlns=\"http://purl.org/net/xbiblio/csl\" class=\"in-text\" version=\"1.0\" demote-non-dropping-particle=\"never\" page-range-format=\"expanded\"><info><title>American Psychological Association 7th edition</title><title-short>APA</title-short><id>http://www.zotero.org/styles/apa</id><link href=\"http://www.zotero.org/styles/apa\" rel=\"self\"/><link href=\"http://www.zotero.org/styles/apa-6th-edition\" rel=\"template\"/><link href=\"https://apastyle.apa.org/style-grammar-guidelines/references/examples\" rel=\"documentation\"/><author><name>Brenton M. Wiernik</name><email>zotero@wiernik.org</email></author><category citation-format=\"author-date\"/><category field=\"psychology\"/><category field=\"generic-base\"/><updated>2022-01-31T14:30:00+00:00</updated><rights license=\"http://creativecommons.org/licenses/by-sa/3.0/\">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights></info><locale xml:lang=\"en\"><terms><term name=\"editortranslator\" form=\"short\"><single>ed. &amp; trans.</single><multiple>eds. &amp; trans.</multiple></term><term name=\"translator\" form=\"short\">trans.</term><term name=\"interviewer\" form=\"short\"><single>interviewer</single><multiple>interviewers</multiple></term><term name=\"collection-editor\" form=\"short\"><single>ed.</single><multiple>eds.</multiple></term><term name=\"circa\" form=\"short\">ca.</term><term name=\"bc\"> B.C.E.</term><term name=\"ad\"> C.E.</term><term name=\"letter\">personal communication</term><term name=\"letter\" form=\"short\">letter</term><term name=\"issue\" form=\"long\"><single>issue</single><multiple>issues</multiple></term></terms></locale><locale xml:lang=\"af\"><terms><term name=\"letter\">persoonlike kommunikasie</term><term name=\"letter\" form=\"short\">brief</term></terms></locale><locale xml:lang=\"ar\"><terms><term name=\"letter\">اتصال شخصي</term><term name=\"letter\" form=\"short\">خطاب</term></terms></locale><locale xml:lang=\"bg\"><terms><term name=\"letter\">лична комуникация</term><term name=\"letter\" form=\"short\">писмо</term></terms></locale><locale xml:lang=\"ca\"><terms><term name=\"letter\">comunicació personal</term><term name=\"letter\" form=\"short\">carta</term></terms></locale><locale xml:lang=\"cs\"><terms><term name=\"letter\">osobní komunikace</term><term name=\"letter\" form=\"short\">dopis</term></terms></locale><locale xml:lang=\"cy\"><terms><term name=\"letter\">cyfathrebu personol</term><term name=\"letter\" form=\"short\">llythyr</term></terms></locale><locale xml:lang=\"da\"><terms><term name=\"et-al\">et al.</term><term name=\"letter\">personlig kommunikation</term><term name=\"letter\" form=\"short\">brev</term></terms></locale><locale xml:lang=\"de\"><terms><term name=\"et-al\">et al.</term><term name=\"letter\">persönliche Kommunikation</term><term name=\"letter\" form=\"short\">Brief</term></terms></locale><locale xml:lang=\"el\"><terms><term name=\"letter\">προσωπική επικοινωνία</term><term name=\"letter\" form=\"short\">επιστολή</term></terms></locale><locale xml:lang=\"es\"><terms><term name=\"from\">de</term><term name=\"letter\">comunicación personal</term><term name=\"letter\" form=\"short\">carta</term></terms></locale><locale xml:lang=\"et\"><terms><term name=\"letter\">isiklik suhtlus</term><term name=\"letter\" form=\"short\">kiri</term></terms></locale><locale xml:lang=\"eu\"><terms><term name=\"letter\">komunikazio pertsonala</term><term name=\"letter\" form=\"short\">gutuna</term></terms></locale><locale xml:lang=\"fa\"><terms><term name=\"letter\">ارتباط شخصی</term><term name=\"letter\" form=\"short\">نامه</term></terms></locale><locale xml:lang=\"fi\"><terms><term name=\"letter\">henkilökohtainen viestintä</term><term name=\"letter\" form=\"short\">kirje</term></terms></locale><locale xml:lang=\"fr\"><terms><term name=\"letter\">communication personnelle</term><term name=\"letter\" form=\"short\">lettre</term><term name=\"editor\" form=\"short\"><single>éd.</single><multiple>éds.</multiple></term></terms></locale><locale xml:lang=\"he\"><terms><term name=\"letter\">תקשורת אישית</term><term name=\"letter\" form=\"short\">מכתב</term></terms></locale><locale xml:lang=\"hr\"><terms><term name=\"letter\">osobna komunikacija</term><term name=\"letter\" form=\"short\">pismo</term></terms></locale><locale xml:lang=\"hu\"><terms><term name=\"letter\">személyes kommunikáció</term><term name=\"letter\" form=\"short\">levél</term></terms></locale><locale xml:lang=\"id\"><terms><term name=\"letter\">komunikasi pribadi</term><term name=\"letter\" form=\"short\">surat</term></terms></locale><locale xml:lang=\"is\"><terms><term name=\"letter\">persónuleg samskipti</term><term name=\"letter\" form=\"short\">bréf</term></terms></locale><locale xml:lang=\"it\"><terms><term name=\"letter\">comunicazione personale</term><term name=\"letter\" form=\"short\">lettera</term></terms></locale><locale xml:lang=\"ja\"><terms><term name=\"letter\">個人的なやり取り</term><term name=\"letter\" form=\"short\">手紙</term></terms></locale><locale xml:lang=\"ko\"><terms><term name=\"letter\">개인 서신</term><term name=\"letter\" form=\"short\">편지</term></terms></locale><locale xml:lang=\"la\"><terms><term name=\"letter\"/><term name=\"letter\" form=\"short\">epistula</term></terms></locale><locale xml:lang=\"lt\"><terms><term name=\"letter\">communicationis personalis</term><term name=\"letter\" form=\"short\"/></terms></locale><locale xml:lang=\"lv\"><terms><term name=\"letter\">personīga komunikācija</term><term name=\"letter\" form=\"short\">vēstule</term></terms></locale><locale xml:lang=\"mn\"><terms><term name=\"letter\">хувийн харилцаа холбоо</term><term name=\"letter\" form=\"short\">захиа</term></terms></locale><locale xml:lang=\"nb\"><terms><term name=\"et-al\">et al.</term><term name=\"letter\">personlig kommunikasjon</term><term name=\"letter\" form=\"short\">brev</term></terms></locale><locale xml:lang=\"nl\"><terms><term name=\"et-al\">et al.</term><term name=\"letter\">persoonlijke communicatie</term><term name=\"letter\" form=\"short\">brief</term></terms></locale><locale xml:lang=\"nn\"><terms><term name=\"et-al\">et al.</term><term name=\"letter\">personlig kommunikasjon</term><term name=\"letter\" form=\"short\">brev</term></terms></locale><locale xml:lang=\"pl\"><terms><term name=\"letter\">osobista komunikacja</term><term name=\"letter\" form=\"short\">list</term></terms></locale><locale xml:lang=\"pt\"><terms><term name=\"letter\">comunicação pessoal</term><term name=\"letter\" form=\"short\">carta</term></terms></locale><locale xml:lang=\"ro\"><terms><term name=\"letter\">comunicare personală</term><term name=\"letter\" form=\"short\">scrisoare</term></terms></locale><locale xml:lang=\"ru\"><terms><term name=\"letter\">личная переписка</term><term name=\"letter\" form=\"short\">письмо</term></terms></locale><locale xml:lang=\"sk\"><terms><term name=\"letter\">osobná komunikácia</term><term name=\"letter\" form=\"short\">list</term></terms></locale><locale xml:lang=\"sl\"><terms><term name=\"letter\">osebna komunikacija</term><term name=\"letter\" form=\"short\">pismo</term></terms></locale><locale xml:lang=\"sr\"><terms><term name=\"letter\">лична комуникација</term><term name=\"letter\" form=\"short\">писмо</term></terms></locale><locale xml:lang=\"sv\"><terms><term name=\"letter\">personlig kommunikation</term><term name=\"letter\" form=\"short\">brev</term></terms></locale><locale xml:lang=\"th\"><terms><term name=\"letter\">การสื่อสารส่วนบุคคล</term><term name=\"letter\" form=\"short\">จดหมาย</term></terms></locale><locale xml:lang=\"tr\"><terms><term name=\"letter\">kişisel iletişim</term><term name=\"letter\" form=\"short\">mektup</term></terms></locale><locale xml:lang=\"uk\"><terms><term name=\"letter\">особисте спілкування</term><term name=\"letter\" form=\"short\">лист</term></terms></locale><locale xml:lang=\"vi\"><terms><term name=\"letter\">giao tiếp cá nhân</term><term name=\"letter\" form=\"short\">thư</term></terms></locale><locale xml:lang=\"zh-CN\"><terms><term name=\"letter\">的私人交流</term><term name=\"letter\" form=\"short\">信函</term></terms></locale><locale xml:lang=\"zh-TW\"><terms><term name=\"letter\">私人通訊</term><term name=\"letter\" form=\"short\">信函</term></terms></locale><macro name=\"author-bib\"><names variable=\"composer\" delimiter=\", \"><name name-as-sort-order=\"all\" and=\"symbol\" sort-separator=\", \" initialize-with=\". \" delimiter=\", \" delimiter-precedes-last=\"always\"/><substitute><names variable=\"author\"/><names variable=\"illustrator\"/><names variable=\"director\"><name name-as-sort-order=\"all\" and=\"symbol\" sort-separator=\", \" initialize-with=\". \" delimiter=\", \" delimiter-precedes-last=\"always\"/><label form=\"long\" prefix=\" (\" suffix=\")\" text-case=\"title\"/></names><choose><if variable=\"container-title\"><choose><if type=\"book entry entry-dictionary entry-encyclopedia\" match=\"any\"><choose><if variable=\"title\"><group delimiter=\" \"><text macro=\"title\"/><text macro=\"parenthetical\"/></group></if><else><text macro=\"title-and-descriptions\"/></else></choose></if></choose></if></choose><names variable=\"editor\" delimiter=\", \"><name name-as-sort-order=\"all\" and=\"symbol\" sort-separator=\", \" initialize-with=\". \" delimiter=\", \" delimiter-precedes-last=\"always\"/><label form=\"short\" prefix=\" (\" suffix=\")\" text-case=\"title\"/></names><names variable=\"editorial-director\"><name name-as-sort-order=\"all\" and=\"symbol\" sort-separator=\", \" initialize-with=\". \" delimiter=\", \" delimiter-precedes-last=\"always\"/><label form=\"short\" prefix=\" (\" suffix=\")\" text-case=\"title\"/></names><names variable=\"collection-editor\"><name name-as-sort-order=\"all\" and=\"symbol\" sort-separator=\", \" initialize-with=\". \" delimiter=\", \" delimiter-precedes-last=\"always\"/><label form=\"short\" prefix=\" (\" suffix=\")\" text-case=\"title\"/></names><choose><if variable=\"title\"><group delimiter=\" \"><text macro=\"title\"/><text macro=\"parenthetical\"/></group></if><else><text macro=\"title-and-descriptions\"/></else></choose></substitute></names></macro><macro name=\"author-intext\"><choose><if type=\"bill legal_case legislation treaty\" match=\"any\"><text macro=\"title-intext\"/></if><else-if type=\"interview personal_communication\" match=\"any\"><choose><if variable=\"archive container-title DOI publisher URL\" match=\"none\"><group delimiter=\", \"><names variable=\"author\"><name and=\"symbol\" delimiter=\", \" initialize-with=\". \"/><substitute><text macro=\"title-intext\"/></substitute></names><text term=\"letter\"/></group></if><else><names variable=\"author\" delimiter=\", \"><name form=\"short\" and=\"symbol\" delimiter=\", \" initialize-with=\". \"/><substitute><text macro=\"title-intext\"/></substitute></names></else></choose></else-if><else><names variable=\"composer\" delimiter=\", \"><name form=\"short\" and=\"symbol\" delimiter=\", \" initialize-with=\". \"/><substitute><names variable=\"author\"/><names variable=\"illustrator\"/><names variable=\"director\"/><choose><if variable=\"container-title\"><choose><if type=\"book entry entry-dictionary entry-encyclopedia\" match=\"any\"><text macro=\"title-intext\"/></if></choose></if></choose><names variable=\"editor\"/><names variable=\"editorial-director\"/><text macro=\"title-intext\"/></substitute></names></else></choose></macro><macro name=\"date-bib\"><group delimiter=\" \" prefix=\"(\" suffix=\")\"><choose><if is-uncertain-date=\"issued\"><text term=\"circa\" form=\"short\"/></if></choose><group><choose><if variable=\"issued\"><date variable=\"issued\"><date-part name=\"year\"/></date><text variable=\"year-suffix\"/><choose><if type=\"article-magazine article-newspaper broadcast interview motion_picture pamphlet personal_communication post post-weblog song speech webpage\" match=\"any\"><date variable=\"issued\"><date-part prefix=\", \" name=\"month\"/><date-part prefix=\" \" name=\"day\"/></date></if><else-if type=\"paper-conference\"><choose><if variable=\"collection-editor editor editorial-director issue page volume\" match=\"none\"><date variable=\"issued\"><date-part prefix=\", \" name=\"month\"/><date-part prefix=\" \" name=\"day\"/></date></if></choose></else-if></choose></if><else-if variable=\"status\"><group><text variable=\"status\" text-case=\"lowercase\"/><text variable=\"year-suffix\" prefix=\"-\"/></group></else-if><else><text term=\"no date\" form=\"short\"/><text variable=\"year-suffix\" prefix=\"-\"/></else></choose></group></group></macro><macro name=\"date-sort-group\"><choose><if variable=\"issued\"><text value=\"1\"/></if><else-if variable=\"status\"><text value=\"2\"/></else-if><else><text value=\"0\"/></else></choose></macro><macro name=\"date-sort-date\"><date variable=\"issued\" form=\"numeric\"/></macro><macro name=\"date-intext\"><choose><if variable=\"issued\"><group delimiter=\"/\"><group delimiter=\" \"><choose><if is-uncertain-date=\"original-date\"><text term=\"circa\" form=\"short\"/></if></choose><date variable=\"original-date\"><date-part name=\"year\"/></date></group><group delimiter=\" \"><choose><if is-uncertain-date=\"issued\"><text term=\"circa\" form=\"short\"/></if></choose><group><choose><if type=\"interview personal_communication\" match=\"any\"><choose><if variable=\"archive container-title DOI publisher URL\" match=\"none\"><date variable=\"issued\" form=\"text\"/></if><else><date variable=\"issued\"><date-part name=\"year\"/></date></else></choose></if><else><date variable=\"issued\"><date-part name=\"year\"/></date></else></choose><text variable=\"year-suffix\"/></group></group></group></if><else-if variable=\"status\"><text variable=\"status\" text-case=\"lowercase\"/><text variable=\"year-suffix\" prefix=\"-\"/></else-if><else><text term=\"no date\" form=\"short\"/><text variable=\"year-suffix\" prefix=\"-\"/></else></choose></macro><macro name=\"title-and-descriptions\"><choose><if variable=\"title\"><group delimiter=\" \"><text macro=\"title\"/><text macro=\"parenthetical\"/><text macro=\"bracketed\"/></group></if><else><group delimiter=\" \"><text macro=\"bracketed\"/><text macro=\"parenthetical\"/></group></else></choose></macro><macro name=\"title\"><choose><if type=\"post webpage\" match=\"any\"><text variable=\"title\" font-style=\"italic\"/></if><else-if variable=\"container-title\" match=\"any\"><text variable=\"title\"/></else-if><else><choose><if type=\"article-journal article-magazine article-newspaper post-weblog review review-book\" match=\"any\"><text variable=\"title\" font-style=\"italic\"/></if><else-if type=\"paper-conference\"><choose><if variable=\"collection-editor editor editorial-director\" match=\"any\"><group delimiter=\": \" font-style=\"italic\"><text variable=\"title\"/><choose><if is-numeric=\"volume\" match=\"none\"><group delimiter=\" \"><label variable=\"volume\" form=\"short\" text-case=\"capitalize-first\"/><text variable=\"volume\"/></group></if></choose></group></if><else><text variable=\"title\" font-style=\"italic\"/></else></choose></else-if><else><group delimiter=\": \" font-style=\"italic\"><text variable=\"title\"/><choose><if is-numeric=\"volume\" match=\"none\"><group delimiter=\" \"><label variable=\"volume\" form=\"short\" text-case=\"capitalize-first\"/><text variable=\"volume\"/></group></if></choose></group></else></choose></else></choose></macro><macro name=\"title-intext\"><choose><if variable=\"title\" match=\"none\"><text macro=\"bracketed-intext\" prefix=\"[\" suffix=\"]\"/></if><else-if type=\"bill\"><choose><if variable=\"number container-title\" match=\"none\"><text variable=\"title\" form=\"short\" font-style=\"italic\" text-case=\"title\"/></if><else-if variable=\"title\"><text variable=\"title\" form=\"short\" text-case=\"title\"/></else-if><else><group delimiter=\" \"><text variable=\"genre\"/><group delimiter=\" \"><choose><if variable=\"chapter-number container-title\" match=\"none\"><text term=\"issue\" form=\"short\"/></if></choose><text variable=\"number\"/></group></group></else></choose></else-if><else-if type=\"legal_case\" match=\"any\"><text variable=\"title\" font-style=\"italic\"/></else-if><else-if type=\"legislation treaty\" match=\"any\"><text variable=\"title\" form=\"short\" text-case=\"title\"/></else-if><else-if type=\"post webpage\" match=\"any\"><text variable=\"title\" form=\"short\" font-style=\"italic\" text-case=\"title\"/></else-if><else-if variable=\"container-title\" match=\"any\"><text variable=\"title\" form=\"short\" quotes=\"true\" text-case=\"title\"/></else-if><else><text variable=\"title\" form=\"short\" font-style=\"italic\" text-case=\"title\"/></else></choose></macro><macro name=\"parenthetical\"><group prefix=\"(\" suffix=\")\"><choose><if type=\"patent\"><group delimiter=\" \"><text variable=\"authority\" form=\"short\"/><choose><if variable=\"genre\"><text variable=\"genre\" text-case=\"capitalize-first\"/></if><else><text value=\"patent\" text-case=\"capitalize-first\"/></else></choose><group delimiter=\" \"><text term=\"issue\" form=\"short\" text-case=\"capitalize-first\"/><text variable=\"number\"/></group></group></if><else-if type=\"post webpage\" match=\"any\"><group delimiter=\"; \"><text macro=\"secondary-contributors\"/><text macro=\"database-location\"/><text macro=\"number\"/><text macro=\"locators-booklike\"/></group></else-if><else-if variable=\"container-title\"><group delimiter=\"; \"><text macro=\"secondary-contributors\"/><choose><if type=\"broadcast graphic map motion_picture song\" match=\"any\"><text macro=\"number\"/></if></choose></group></else-if><else><group delimiter=\"; \"><text macro=\"secondary-contributors\"/><text macro=\"database-location\"/><text macro=\"number\"/><text macro=\"locators-booklike\"/></group></else></choose></group></macro><macro name=\"parenthetical-container\"><choose><if variable=\"container-title\" match=\"any\"><group prefix=\"(\" suffix=\")\"><group delimiter=\"; \"><text macro=\"database-location\"/><choose><if type=\"broadcast graphic map motion_picture song\" match=\"none\"><text macro=\"number\"/></if></choose><text macro=\"locators-booklike\"/></group></group></if></choose></macro><macro name=\"bracketed\"><group prefix=\"[\" suffix=\"]\"><choose><if variable=\"reviewed-author reviewed-title\" type=\"review review-book\" match=\"any\"><group delimiter=\"; \"><group delimiter=\", \"><group delimiter=\" \"><choose><if variable=\"number\" match=\"none\"><choose><if variable=\"genre\"><text variable=\"genre\" text-case=\"capitalize-first\"/></if><else-if variable=\"medium\"><text variable=\"medium\" text-case=\"capitalize-first\"/></else-if><else><text value=\"Review of\"/></else></choose></if><else><choose><if variable=\"medium\"><text variable=\"medium\" text-case=\"capitalize-first\"/></if><else><text value=\"Review of\"/></else></choose></else></choose><text macro=\"reviewed-title\"/></group><names variable=\"reviewed-author\"><label form=\"verb-short\" suffix=\" \"/><name and=\"symbol\" initialize-with=\". \" delimiter=\", \"/></names></group><choose><if variable=\"genre\" match=\"any\"><choose><if variable=\"number\" match=\"none\"><text variable=\"medium\" text-case=\"capitalize-first\"/></if></choose></if></choose></group></if><else-if type=\"thesis\"><group delimiter=\"; \"><choose><if variable=\"number\" match=\"none\"><group delimiter=\", \"><text variable=\"genre\" text-case=\"capitalize-first\"/><choose><if variable=\"archive DOI URL\" match=\"any\"><text variable=\"publisher\"/></if></choose></group></if></choose><text variable=\"medium\" text-case=\"capitalize-first\"/></group></else-if><else-if variable=\"interviewer\" type=\"interview\" match=\"any\"><choose><if variable=\"title\"><text macro=\"format\"/></if><else-if variable=\"genre\"><group delimiter=\"; \"><group delimiter=\" \"><text variable=\"genre\" text-case=\"capitalize-first\"/><group delimiter=\" \"><text term=\"author\" form=\"verb\"/><names variable=\"interviewer\"><name and=\"symbol\" initialize-with=\". \" delimiter=\", \"/></names></group></group></group></else-if><else-if variable=\"interviewer\"><group delimiter=\"; \"><names variable=\"interviewer\"><label form=\"verb\" suffix=\" \" text-case=\"capitalize-first\"/><name and=\"symbol\" initialize-with=\". \" delimiter=\", \"/></names><text variable=\"medium\" text-case=\"capitalize-first\"/></group></else-if><else><text macro=\"format\"/></else></choose></else-if><else-if type=\"personal_communication\"><choose><if variable=\"recipient\"><group delimiter=\"; \"><group delimiter=\" \"><choose><if variable=\"number\" match=\"none\"><choose><if variable=\"genre\"><text variable=\"genre\" text-case=\"capitalize-first\"/></if><else-if variable=\"medium\"><text variable=\"medium\" text-case=\"capitalize-first\"/></else-if><else><text term=\"letter\" form=\"short\" text-case=\"capitalize-first\"/></else></choose></if><else><choose><if variable=\"medium\"><text variable=\"medium\" text-case=\"capitalize-first\"/></if><else><text term=\"letter\" form=\"short\" text-case=\"capitalize-first\"/></else></choose></else></choose><names variable=\"recipient\" delimiter=\", \"><label form=\"verb\" suffix=\" \"/><name and=\"symbol\" delimiter=\", \"/></names></group><choose><if variable=\"genre\" match=\"any\"><choose><if variable=\"number\" match=\"none\"><text variable=\"medium\" text-case=\"capitalize-first\"/></if></choose></if></choose></group></if><else><text macro=\"format\"/></else></choose></else-if><else-if variable=\"composer\" type=\"song\" match=\"all\"><group delimiter=\"; \"><choose><if variable=\"number\" match=\"none\"><group delimiter=\" \"><choose><if variable=\"genre\"><text variable=\"genre\" text-case=\"capitalize-first\"/><names variable=\"author\" prefix=\"recorded by \"><name and=\"symbol\" initialize-with=\". \" delimiter=\", \"/></names></if><else-if variable=\"medium\"><text variable=\"medium\" text-case=\"capitalize-first\"/><names variable=\"author\" prefix=\"recorded by \"><name and=\"symbol\" initialize-with=\". \" delimiter=\", \"/></names></else-if><else><names variable=\"author\" prefix=\"Recorded by \"><name and=\"symbol\" initialize-with=\". \" delimiter=\", \"/></names></else></choose></group></if><else><group delimiter=\" \"><choose><if variable=\"medium\"><text variable=\"medium\" text-case=\"capitalize-first\"/><names variable=\"author\" prefix=\"recorded by \"><name and=\"symbol\" initialize-with=\". \" delimiter=\", \"/></names></if><else><names variable=\"author\" prefix=\"Recorded by \"><name and=\"symbol\" initialize-with=\". \" delimiter=\", \"/></names></else></choose></group></else></choose><choose><if variable=\"genre\" match=\"any\"><choose><if variable=\"number\" match=\"none\"><text variable=\"medium\" text-case=\"capitalize-first\"/></if></choose></if></choose></group></else-if><else-if variable=\"container-title\" match=\"none\"><text macro=\"format\"/></else-if><else><choose><if type=\"paper-conference speech\" match=\"any\"><choose><if variable=\"collection-editor editor editorial-director issue page volume\" match=\"any\"><text macro=\"format\"/></if></choose></if><else-if type=\"book\"><choose><if variable=\"version\" match=\"none\"><text macro=\"format\"/></if></choose></else-if><else-if type=\"report\" match=\"none\"><text macro=\"format\"/></else-if></choose></else></choose></group></macro><macro name=\"bracketed-intext\"><group prefix=\"[\" suffix=\"]\"><choose><if variable=\"reviewed-author reviewed-title\" type=\"review review-book\" match=\"any\"><text macro=\"reviewed-title-intext\" prefix=\"Review of \"/></if><else-if variable=\"interviewer\" type=\"interview\" match=\"any\"><names variable=\"interviewer\"><label form=\"verb\" suffix=\" \" text-case=\"capitalize-first\"/><name and=\"symbol\" initialize-with=\". \" delimiter=\", \"/><substitute><text macro=\"format-intext\"/></substitute></names></else-if><else-if type=\"personal_communication\"><choose><if variable=\"recipient\"><group delimiter=\" \"><choose><if variable=\"number\" match=\"none\"><text variable=\"genre\" text-case=\"capitalize-first\"/></if><else><text term=\"letter\" form=\"short\" text-case=\"capitalize-first\"/></else></choose><names variable=\"recipient\" delimiter=\", \"><label form=\"verb\" suffix=\" \"/><name and=\"symbol\" delimiter=\", \"/></names></group></if><else><text macro=\"format-intext\"/></else></choose></else-if><else><text macro=\"format-intext\"/></else></choose></group></macro><macro name=\"bracketed-container\"><group prefix=\"[\" suffix=\"]\"><choose><if type=\"paper-conference speech\" match=\"any\"><choose><if variable=\"collection-editor editor editorial-director issue page volume\" match=\"none\"><text macro=\"format\"/></if></choose></if><else-if type=\"book\" variable=\"version\" match=\"all\"><text macro=\"format\"/></else-if><else-if type=\"report\"><text macro=\"format\"/></else-if></choose></group></macro><macro name=\"secondary-contributors\"><choose><if type=\"article-journal article-magazine article-newspaper post-weblog review review-book\" match=\"any\"><text macro=\"secondary-contributors-periodical\"/></if><else-if type=\"paper-conference\"><choose><if variable=\"collection-editor editor editorial-director\" match=\"any\"><text macro=\"secondary-contributors-booklike\"/></if><else><text macro=\"secondary-contributors-periodical\"/></else></choose></else-if><else><text macro=\"secondary-contributors-booklike\"/></else></choose></macro><macro name=\"secondary-contributors-periodical\"><group delimiter=\"; \"><choose><if variable=\"title\"><names variable=\"interviewer\" delimiter=\"; \"><name and=\"symbol\" initialize-with=\". \" delimiter=\", \"/><label form=\"short\" prefix=\", \" text-case=\"title\"/></names></if></choose><names variable=\"translator\" delimiter=\"; \"><name and=\"symbol\" initialize-with=\". \" delimiter=\", \"/><label form=\"short\" prefix=\", \" text-case=\"title\"/></names></group></macro><macro name=\"secondary-contributors-booklike\"><group delimiter=\"; \"><choose><if variable=\"title\"><names variable=\"interviewer\"><name and=\"symbol\" initialize-with=\". \" delimiter=\", \"/><label form=\"short\" prefix=\", \" text-case=\"title\"/></names></if></choose><choose><if type=\"post webpage\" match=\"none\"><choose><if variable=\"container-title\" match=\"none\"><group delimiter=\"; \"><names variable=\"container-author\"><label form=\"verb-short\" suffix=\" \" text-case=\"title\"/><name and=\"symbol\" initialize-with=\". \" delimiter=\", \"/></names><names variable=\"editor translator\" delimiter=\"; \"><name and=\"symbol\" initialize-with=\". \" delimiter=\", \"/><label form=\"short\" prefix=\", \" text-case=\"title\"/></names></group></if></choose></if><else><group delimiter=\"; \"><names variable=\"container-author\"><label form=\"verb-short\" suffix=\" \" text-case=\"title\"/><name and=\"symbol\" initialize-with=\". \" delimiter=\", \"/></names><names variable=\"editor translator\" delimiter=\"; \"><name and=\"symbol\" initialize-with=\". \" delimiter=\", \"/><label form=\"short\" prefix=\", \" text-case=\"title\"/></names></group></else></choose></group></macro><macro name=\"database-location\"><choose><if variable=\"archive-place\" match=\"none\"><text variable=\"archive_location\"/></if></choose></macro><macro name=\"number\"><choose><if variable=\"number\"><group delimiter=\", \"><group delimiter=\" \"><text variable=\"genre\" text-case=\"title\"/><choose><if is-numeric=\"number\"><text term=\"issue\" form=\"short\" text-case=\"capitalize-first\"/><text variable=\"number\"/></if><else><text variable=\"number\"/></else></choose></group><choose><if type=\"thesis\"><choose><if variable=\"archive DOI URL\" match=\"any\"><text variable=\"publisher\"/></if></choose></if></choose></group></if></choose></macro><macro name=\"locators-booklike\"><choose><if type=\"article-journal article-magazine article-newspaper broadcast interview patent post post-weblog review review-book speech webpage\" match=\"any\"/><else-if type=\"paper-conference\"><choose><if variable=\"collection-editor editor editorial-director\" match=\"any\"><group delimiter=\", \"><text macro=\"version\"/><text macro=\"edition\"/><text macro=\"volume-booklike\"/></group></if></choose></else-if><else><group delimiter=\", \"><text macro=\"version\"/><text macro=\"edition\"/><text macro=\"volume-booklike\"/></group></else></choose></macro><macro name=\"version\"><choose><if is-numeric=\"version\"><group delimiter=\" \"><text term=\"version\" text-case=\"capitalize-first\"/><text variable=\"version\"/></group></if><else><text variable=\"version\"/></else></choose></macro><macro name=\"edition\"><choose><if is-numeric=\"edition\"><group delimiter=\" \"><number variable=\"edition\" form=\"ordinal\"/><label variable=\"edition\" form=\"short\"/></group></if><else><text variable=\"edition\"/></else></choose></macro><macro name=\"volume-booklike\"><group delimiter=\", \"><choose><if type=\"report\"><group delimiter=\" \"><text variable=\"collection-title\" text-case=\"title\"/><text variable=\"collection-number\"/></group></if></choose><choose><if variable=\"volume\" match=\"any\"><choose><if is-numeric=\"volume\" match=\"none\"/><else><group delimiter=\" \"><label variable=\"volume\" form=\"short\" text-case=\"capitalize-first\"/><number variable=\"volume\" form=\"numeric\"/></group></else></choose></if><else><group><text term=\"volume\" form=\"short\" text-case=\"capitalize-first\" suffix=\" \"/><text term=\"page-range-delimiter\" prefix=\"1\"/><number variable=\"number-of-volumes\" form=\"numeric\"/></group></else></choose><group delimiter=\" \"><label variable=\"issue\" text-case=\"capitalize-first\"/><text variable=\"issue\"/></group><group delimiter=\" \"><label variable=\"page\" form=\"short\" suffix=\" \"/><text variable=\"page\"/></group></group></macro><macro name=\"reviewed-title\"><choose><if variable=\"reviewed-title\"><text variable=\"reviewed-title\" font-style=\"italic\"/></if><else><text variable=\"title\" font-style=\"italic\"/></else></choose></macro><macro name=\"reviewed-title-intext\"><choose><if variable=\"reviewed-title\"><text variable=\"reviewed-title\" form=\"short\" font-style=\"italic\" text-case=\"title\"/></if><else><text variable=\"title\" form=\"short\" font-style=\"italic\" text-case=\"title\"/></else></choose></macro><macro name=\"format\"><choose><if variable=\"genre medium\" match=\"any\"><group delimiter=\"; \"><choose><if variable=\"number\" match=\"none\"><text variable=\"genre\" text-case=\"capitalize-first\"/></if></choose><text variable=\"medium\" text-case=\"capitalize-first\"/></group></if><else-if type=\"dataset\"><text value=\"Data set\"/></else-if><else-if type=\"book\" variable=\"version\" match=\"all\"><text value=\"Computer software\"/></else-if><else-if type=\"interview personal_communication\" match=\"any\"><choose><if variable=\"archive container-title DOI publisher URL\" match=\"none\"><text term=\"letter\" text-case=\"capitalize-first\"/></if><else-if type=\"interview\"><text term=\"interview\" text-case=\"capitalize-first\"/></else-if></choose></else-if><else-if type=\"map\"><text value=\"Map\"/></else-if></choose></macro><macro name=\"format-intext\"><choose><if variable=\"genre\" match=\"any\"><text variable=\"genre\" text-case=\"capitalize-first\"/></if><else-if variable=\"medium\"><text variable=\"medium\" text-case=\"capitalize-first\"/></else-if><else-if type=\"dataset\"><text value=\"Data set\"/></else-if><else-if type=\"book\" variable=\"version\" match=\"all\"><text value=\"Computer software\"/></else-if><else-if type=\"interview personal_communication\" match=\"any\"><choose><if variable=\"archive container-title DOI publisher URL\" match=\"none\"><text term=\"letter\" text-case=\"capitalize-first\"/></if><else-if type=\"interview\"><text term=\"interview\" text-case=\"capitalize-first\"/></else-if></choose></else-if><else-if type=\"map\"><text value=\"Map\"/></else-if></choose></macro><macro name=\"container\"><choose><if type=\"article-journal article-magazine article-newspaper post-weblog review review-book\" match=\"any\"><text macro=\"container-periodical\"/></if><else-if type=\"paper-conference\"><choose><if variable=\"editor editorial-director collection-editor container-author\" match=\"any\"><text macro=\"container-booklike\"/></if><else><text macro=\"container-periodical\"/></else></choose></else-if><else-if type=\"post webpage\" match=\"none\"><text macro=\"container-booklike\"/></else-if></choose></macro><macro name=\"container-periodical\"><group delimiter=\". \"><group delimiter=\", \"><text variable=\"container-title\" font-style=\"italic\" text-case=\"title\"/><choose><if variable=\"volume\"><group><text variable=\"volume\" font-style=\"italic\"/><text variable=\"issue\" prefix=\"(\" suffix=\")\"/></group></if><else><text variable=\"issue\" font-style=\"italic\"/></else></choose><choose><if variable=\"page\"><text variable=\"page\"/></if><else><text variable=\"number\" prefix=\"Article \"/></else></choose></group><choose><if variable=\"issued\"><choose><if variable=\"issue page volume\" match=\"none\"><text variable=\"status\" text-case=\"capitalize-first\"/></if></choose></if></choose></group></macro><macro name=\"container-booklike\"><choose><if variable=\"container-title\" match=\"any\"><group delimiter=\" \"><text term=\"in\" text-case=\"capitalize-first\"/><group delimiter=\", \"><names variable=\"editor translator\" delimiter=\", &amp; \"><name and=\"symbol\" initialize-with=\". \" delimiter=\", \"/><label form=\"short\" text-case=\"title\" prefix=\" (\" suffix=\")\"/><substitute><names variable=\"editorial-director\"/><names variable=\"collection-editor\"/><names variable=\"container-author\"/></substitute></names><group delimiter=\": \" font-style=\"italic\"><text variable=\"container-title\"/><choose><if is-numeric=\"volume\" match=\"none\"><group delimiter=\" \"><label variable=\"volume\" form=\"short\" text-case=\"capitalize-first\"/><text variable=\"volume\"/></group></if></choose></group></group><text macro=\"parenthetical-container\"/><text macro=\"bracketed-container\"/></group></if></choose></macro><macro name=\"publisher\"><group delimiter=\"; \"><choose><if type=\"thesis\"><choose><if variable=\"archive DOI URL\" match=\"none\"><text variable=\"publisher\"/></if></choose></if><else-if type=\"post webpage\" match=\"any\"><group delimiter=\"; \"><text variable=\"container-title\" text-case=\"title\"/><text variable=\"publisher\"/></group></else-if><else-if type=\"paper-conference\"><choose><if variable=\"collection-editor editor editorial-director\" match=\"any\"><text variable=\"publisher\"/></if></choose></else-if><else-if type=\"article-journal article-magazine article-newspaper post-weblog\" match=\"none\"><text variable=\"publisher\"/></else-if></choose><group delimiter=\", \"><choose><if variable=\"archive-place\"><text variable=\"archive_location\"/></if></choose><text variable=\"archive\"/><text variable=\"archive-place\"/></group></group></macro><macro name=\"access\"><choose><if variable=\"DOI\" match=\"any\"><text variable=\"DOI\" prefix=\"https://doi.org/\"/></if><else-if variable=\"URL\"><group delimiter=\" \"><choose><if variable=\"issued status\" match=\"none\"><group delimiter=\" \"><text term=\"retrieved\" text-case=\"capitalize-first\"/><date variable=\"accessed\" form=\"text\" suffix=\",\"/><text term=\"from\"/></group></if></choose><text variable=\"URL\"/></group></else-if></choose></macro><macro name=\"event\"><choose><if variable=\"event\"><choose><if variable=\"collection-editor editor editorial-director issue page volume\" match=\"none\"><group delimiter=\", \"><text variable=\"event\"/><text variable=\"event-place\"/></group></if></choose></if></choose></macro><macro name=\"publication-history\"><choose><if type=\"patent\" match=\"none\"><group prefix=\"(\" suffix=\")\"><choose><if variable=\"references\"><text variable=\"references\"/></if><else><group delimiter=\" \"><text value=\"Original work published\"/><choose><if is-uncertain-date=\"original-date\"><text term=\"circa\" form=\"short\"/></if></choose><date variable=\"original-date\"><date-part name=\"year\"/></date></group></else></choose></group></if><else><text variable=\"references\" prefix=\"(\" suffix=\")\"/></else></choose></macro><macro name=\"legal-cites\"><choose><if type=\"legal_case\"><group delimiter=\". \"><group delimiter=\", \"><text variable=\"title\"/><group delimiter=\" \"><text macro=\"container-legal\"/><text macro=\"date-legal\"/></group><text variable=\"references\"/></group><text macro=\"access\"/></group></if><else-if type=\"bill\"><group delimiter=\". \"><group delimiter=\", \"><choose><if variable=\"number container-title\" match=\"none\"><text variable=\"title\" font-style=\"italic\"/></if><else><text variable=\"title\"/></else></choose><group delimiter=\" \"><text macro=\"container-legal\"/><text macro=\"date-legal\"/><choose><if variable=\"number container-title\" match=\"none\"><names variable=\"author\" prefix=\"(testimony of \" suffix=\")\"><name and=\"symbol\" delimiter=\", \"/></names></if><else><text variable=\"status\" prefix=\"(\" suffix=\")\"/></else></choose></group><text variable=\"references\"/></group><text macro=\"access\"/></group></else-if><else-if type=\"legislation\"><group delimiter=\". \"><group delimiter=\", \"><text variable=\"title\"/><group delimiter=\" \"><text macro=\"container-legal\"/><text macro=\"date-legal\"/><text variable=\"status\" prefix=\"(\" suffix=\")\"/></group><text variable=\"references\"/></group><text macro=\"access\"/></group></else-if><else-if type=\"treaty\"><group delimiter=\", \"><text variable=\"title\" text-case=\"title\"/><names variable=\"author\"><name initialize-with=\".\" form=\"short\" delimiter=\"-\"/></names><text macro=\"date-legal\"/><text macro=\"container-legal\"/><text macro=\"access\"/></group></else-if></choose></macro><macro name=\"date-legal\"><choose><if type=\"legal_case\"><group prefix=\"(\" suffix=\")\" delimiter=\" \"><text variable=\"authority\"/><choose><if variable=\"container-title\" match=\"any\"><date variable=\"issued\" form=\"numeric\" date-parts=\"year\"/></if><else><date variable=\"issued\" form=\"text\"/></else></choose></group></if><else-if type=\"bill legislation\" match=\"any\"><group prefix=\"(\" suffix=\")\" delimiter=\" \"><group delimiter=\" \"><date variable=\"original-date\"><date-part name=\"year\"/></date><text term=\"and\" form=\"symbol\"/></group><date variable=\"issued\"><date-part name=\"year\"/></date></group></else-if><else-if type=\"treaty\"><date variable=\"issued\" form=\"text\"/></else-if></choose></macro><macro name=\"container-legal\"><choose><if type=\"legal_case\"><group delimiter=\" \"><choose><if variable=\"container-title\"><group delimiter=\" \"><text variable=\"volume\"/><text variable=\"container-title\"/><group delimiter=\" \"><text term=\"section\" form=\"symbol\"/><text variable=\"section\"/></group><choose><if variable=\"page page-first\" match=\"any\"><text variable=\"page-first\"/></if><else><text value=\"___\"/></else></choose></group></if><else><group delimiter=\" \"><choose><if is-numeric=\"number\"><text term=\"issue\" form=\"short\" text-case=\"capitalize-first\"/></if></choose><text variable=\"number\"/></group></else></choose></group></if><else-if type=\"bill\"><group delimiter=\", \"><group delimiter=\" \"><text variable=\"genre\"/><group delimiter=\" \"><choose><if variable=\"chapter-number container-title\" match=\"none\"><text term=\"issue\" form=\"short\"/></if></choose><text variable=\"number\"/></group></group><text variable=\"authority\"/><text variable=\"chapter-number\"/><group delimiter=\" \"><text variable=\"volume\"/><text variable=\"container-title\"/><text variable=\"page-first\"/></group></group></else-if><else-if type=\"legislation\"><choose><if variable=\"number\"><group delimiter=\", \"><text variable=\"number\" prefix=\"Pub. L. No. \"/><group delimiter=\" \"><text variable=\"volume\"/><text variable=\"container-title\"/><text variable=\"page-first\"/></group></group></if><else><group delimiter=\" \"><text variable=\"volume\"/><text variable=\"container-title\"/><choose><if variable=\"section\"><group delimiter=\" \"><text term=\"section\" form=\"symbol\"/><text variable=\"section\"/></group></if><else><text variable=\"page-first\"/></else></choose></group></else></choose></else-if><else-if type=\"treaty\"><group delimiter=\" \"><number variable=\"volume\"/><text variable=\"container-title\"/><choose><if variable=\"page page-first\" match=\"any\"><text variable=\"page-first\"/></if><else><group delimiter=\" \"><text term=\"issue\" form=\"short\" text-case=\"capitalize-first\"/><text variable=\"number\"/></group></else></choose></group></else-if></choose></macro><macro name=\"citation-locator\"><group delimiter=\" \"><choose><if locator=\"chapter\"><label variable=\"locator\" text-case=\"capitalize-first\"/></if><else><label variable=\"locator\" form=\"short\"/></else></choose><text variable=\"locator\"/></group></macro><citation et-al-min=\"3\" et-al-use-first=\"1\" disambiguate-add-year-suffix=\"true\" disambiguate-add-names=\"true\" disambiguate-add-givenname=\"true\" collapse=\"year\" givenname-disambiguation-rule=\"primary-name-with-initials\"><sort><key macro=\"author-bib\" names-min=\"3\" names-use-first=\"1\"/><key macro=\"date-sort-group\"/><key macro=\"date-sort-date\" sort=\"ascending\"/><key variable=\"status\"/></sort><layout prefix=\"(\" suffix=\")\" delimiter=\"; \"><group delimiter=\", \"><text macro=\"author-intext\"/><text macro=\"date-intext\"/><text macro=\"citation-locator\"/></group></layout></citation><bibliography hanging-indent=\"true\" et-al-min=\"21\" et-al-use-first=\"19\" et-al-use-last=\"true\" entry-spacing=\"0\" line-spacing=\"2\"><sort><key macro=\"author-bib\"/><key macro=\"date-sort-group\"/><key macro=\"date-sort-date\" sort=\"ascending\"/><key variable=\"status\"/><key macro=\"title\"/></sort><layout><choose><if type=\"bill legal_case legislation treaty\" match=\"any\"><choose><if variable=\"DOI URL\" match=\"any\"><text macro=\"legal-cites\"/></if><else><text macro=\"legal-cites\" suffix=\".\"/></else></choose></if><else><group delimiter=\" \"><group delimiter=\". \" suffix=\".\"><text macro=\"author-bib\"/><text macro=\"date-bib\"/><text macro=\"title-and-descriptions\"/><text macro=\"container\"/><text macro=\"event\"/><text macro=\"publisher\"/></group><text macro=\"access\"/><text macro=\"publication-history\"/></group></else></choose></layout></bibliography></style>`,\n}\nconst templates = new util.Register(defaultTemplates)\n\nconst fetchStyle = (style) => {\n  if (templates.has(style)) {\n    return templates.get(style)\n  } else {\n    return templates.get('apa')\n  }\n}\n\nexport default fetchStyle\nexport { templates }\n","import CSL from 'citeproc'\nimport { templates } from './styles.js'\nimport { locales } from './locales.js'\nconst proxied = Symbol.for('proxied')\n\nconst getWrapperProxy = function (original) {\n  const proxy = function (state, entry) {\n    if (state.sys.wrapBibliographyEntry) {\n      const [prefix, postfix] = state.sys.wrapBibliographyEntry(this.system_id)\n      entry = [prefix, entry, postfix].join('')\n    }\n\n    return original.call(this, state, entry)\n  }\n\n  proxy[proxied] = true\n  return proxy\n}\n\nfor (const format in CSL.Output.Formats) {\n  const original = CSL.Output.Formats[format]['@bibliography/entry']\n\n  if (!original || original[proxied]) {\n    continue\n  }\n\n  CSL.Output.Formats[format]['@bibliography/entry'] = getWrapperProxy(original)\n}\n\nfunction retrieveLocale(lang) {\n  const unnormalised = lang.replace('-', '_')\n\n  if (locales.has(lang)) {\n    return locales.get(lang)\n  } else if (locales.has(unnormalised)) {\n    return locales.get(unnormalised)\n  }\n}\n\nconst engines = {}\n\nconst fetchEngine = function (style, lang, template, retrieveItem, retrieveLocale) {\n  const engineHash = `${style}|${lang}`\n  let engine\n\n  if (engines[engineHash] instanceof CSL.Engine) {\n    engine = engines[engineHash]\n    engine.sys.retrieveItem = retrieveItem\n    engine.updateItems([])\n  } else {\n    engine = engines[engineHash] = new CSL.Engine(\n      {\n        retrieveLocale,\n        retrieveItem,\n      },\n      template,\n      lang,\n      true\n    )\n  }\n\n  return engine\n}\n\nconst prepareEngine = function (data, templateName, language, format) {\n  if (!CSL.Output.Formats[format] || !CSL.Output.Formats[format]['@bibliography/entry']) {\n    throw new TypeError(`Cannot find format '${format}'`)\n  }\n\n  const items = data.reduce((store, entry) => {\n    store[entry.id] = entry\n    return store\n  }, {})\n  const template = templates.get(templates.has(templateName) ? templateName : 'apa')\n  language = locales.has(language) ? language : 'en-US'\n\n  const callback = function (key) {\n    if (Object.prototype.hasOwnProperty.call(items, key)) {\n      return items[key]\n    } else {\n      throw new Error(`Cannot find entry with id '${key}'`)\n    }\n  }\n\n  const engine = fetchEngine(templateName, language, template, callback, retrieveLocale)\n  engine.setOutputFormat(format)\n  return engine\n}\n\nexport default prepareEngine\nexport { fetchEngine }\n","const getAttributedEntry = (string, name, value) =>\n  string.replace(/^\\s*<[a-z]+/i, `$& data-${name}=\"${value}\"`)\n\nconst getPrefixedEntry = (value, id) => getAttributedEntry(value, 'csl-entry-id', id)\n\nexport { getAttributedEntry, getPrefixedEntry }\n","import prepareEngine from './engines.js'\nimport { getPrefixedEntry } from './attr.js'\n\nconst getAffix = (source, affix) => (typeof affix === 'function' ? affix(source) : affix || '')\n\nexport default function bibliography(data, options = {}) {\n  const { template = 'apa', lang = 'en-US', format = 'text', nosort = false } = options\n  const ids = options.entry ? [].concat(options.entry) : data.map(({ id }) => id)\n  const citeproc = prepareEngine(data, template, lang, format)\n  const sortedIds = citeproc.updateItems(ids, nosort)\n\n  if (options.append || options.prepend) {\n    const items = data.reduce((items, entry) => {\n      items[entry.id] = entry\n      return items\n    }, {})\n\n    citeproc.sys.wrapBibliographyEntry = function (id) {\n      const entry = items[id]\n      return [getAffix(entry, options.prepend), getAffix(entry, options.append)]\n    }\n  } else {\n    citeproc.sys.wrapBibliographyEntry = () => ['', '']\n  }\n\n  const bibliography = citeproc.makeBibliography()\n  const [{ bibstart, bibend }, bibBody] = bibliography\n  const entries = bibBody.map((element, index) => getPrefixedEntry(element, sortedIds[index]))\n\n  if (options.asEntryArray) {\n    return entries.map((element, index) => [sortedIds[index], element])\n  }\n\n  return bibstart + entries.join('') + bibend\n}\n","import prepareEngine from './engines.js'\nexport default function citation(data, options = {}) {\n  const { template = 'apa', lang = 'en-US', format = 'text' } = options\n  const ids = data.map(({ id }) => id)\n  const entries = options.entry ? [].concat(options.entry) : ids\n  const citeproc = prepareEngine(data, template, lang, format)\n  citeproc.updateItems(ids)\n  const { citationsPre = [], citationsPost = [] } = options\n  const citation = citeproc.previewCitationCluster(\n    {\n      citationItems: entries.map((id) =>\n        typeof id === 'object'\n          ? id\n          : {\n              id,\n            }\n      ),\n      properties: {\n        noteIndex: 0,\n      },\n    },\n    citationsPre,\n    citationsPost,\n    format\n  )\n  return citation\n}\n","import { plugins } from '../core/index.js'\nimport { locales } from './locales.js'\nimport { templates } from './styles.js'\nimport engine from './engines.js'\nimport bibliography from './bibliography.js'\nimport citation from './citation.js'\nplugins.add('@csl', {\n  output: {\n    bibliography,\n    citation,\n  },\n  config: {\n    engine,\n    locales,\n    templates,\n  },\n})\n","//@ts-nocheck\n// Copied as is from https://github.com/larsgw/citation.js/blob/main/index.js\n// commented out doi, ris, wikidata as they are not used in the rehype plugin\n// and use esm\n\nimport * as core from './citation-js/core/index.js'\nimport { parsers as coreParsers } from './citation-js/core/plugin-common/input/index.js'\nimport coreOutput from './citation-js/core/plugin-common/output/index.js'\nimport './citation-js/plugin-bibjson/index.js'\nimport './citation-js/plugin-bibtex/index.js'\nimport './citation-js/plugin-csl/index.js'\nimport { fetchEngine } from './citation-js/plugin-csl/engines.js'\nimport { parsers as bibjsonParsers } from './citation-js/plugin-bibjson/index.js'\nimport { formats } from './citation-js/plugin-bibtex/input/index.js'\nimport * as entries from './citation-js/plugin-bibtex/input/entries.js'\nimport * as bibtxt from './citation-js/plugin-bibtex/input/bibtxt.js'\nimport bibtexOutput from './citation-js/plugin-bibtex/output/index.js'\nimport * as bibtexOutputEntries from './citation-js/plugin-bibtex/output/entries.js'\nimport { Converters } from './citation-js/plugin-bibtex/mapping/shared.js'\nimport { format as bibtxtFormat } from './citation-js/plugin-bibtex/output/bibtxt.js'\n\n// require('@citation-js/plugin-doi')\n// require('@citation-js/plugin-ris')\n// require('@citation-js/plugin-wikidata')\n\nimport citeproc from 'citeproc'\nimport * as name from '@citation-js/name'\nimport * as date from '@citation-js/date'\n\nimport bibtexTypes from './citation-js/plugin-bibtex/mapping/bibtexTypes.js'\n\nfunction clone(obj) {\n  const copy = {}\n  for (const key in obj) {\n    copy[key] = typeof obj[key] === 'object' ? clone(obj[key]) : obj[key]\n  }\n  return copy\n}\n\nconst attr = {\n  getAttributedEntry(string, name, value) {\n    return string.replace(/^\\s*<[a-z]+/i, `$& data-${name}=\"${value}\"`)\n  },\n  getPrefixedEntry(value, id) {\n    return attr.getAttributedEntry(value, 'csl-entry-id', id)\n  },\n  getWrappedEntry(value, source, affixes) {\n    const getAffix = (source, affix) =>\n      typeof affix === 'function' ? affix(source) : affix == null ? affix : ''\n\n    if (affixes.prepend == null && affixes.append == null) {\n      return value\n    }\n\n    const prefix = getAffix(source, affixes.prepend)\n    const suffix = getAffix(source, affixes.append)\n    let start = ''\n    let end = ''\n    const match = value.match(/^([^>]+>)([\\s\\S]+)(<[^<]+)$/i)\n    if (match) {\n      start = match[1]\n      value = match[2]\n      end = match[3]\n    }\n\n    return start + prefix + value + suffix + end\n  },\n}\n\nfunction Cite(data, opts) {\n  if (!(this instanceof Cite)) {\n    return new Cite(data, opts)\n  }\n\n  const self = new core.Cite(data, opts)\n  this._options = self._options\n  this.log = self.log\n  this.data = self.data\n}\n\nCite.prototype = Object.create(core.Cite.prototype)\n\nCite.async = core.Cite.async\nCite.validateOptions = core.Cite.validateOptions\nCite.validateOutputOptions = core.Cite.validateOutputOptions\n\nCite.input = core.plugins.input.chain\nCite.inputAsync = core.plugins.input.chainAsync\n\nCite.util = Object.assign({ attr }, core.util)\nCite.version = {\n  cite: core.version,\n  citeproc: citeproc.PROCESSOR_VERSION,\n}\n\nconst CSL = core.plugins.config.get('@csl')\n\nCite.CSL = {\n  engine: fetchEngine,\n  item(data) {\n    return (id) => data.find((entry) => entry.id === id)\n  },\n  locale(lang) {\n    return CSL.styles.get(CSL.styles.has(lang) ? lang : 'en-US')\n  },\n  style(style) {\n    return CSL.templates.get(CSL.templates.has(style) ? style : 'apa')\n  },\n  register: {\n    addTemplate: CSL.templates.add.bind(CSL.templates),\n    getTemplate: CSL.templates.get.bind(CSL.templates),\n    hasTemplate: CSL.templates.has.bind(CSL.templates),\n    addLocale: CSL.locales.add.bind(CSL.locales),\n    getLocale: CSL.locales.get.bind(CSL.locales),\n    hasLocale: CSL.locales.has.bind(CSL.locales),\n  },\n}\n\nCite.plugins = clone(core.plugins)\ndelete Cite.plugins.input.util.clean\n\nCite.parse = Object.assign(\n  {\n    input: {\n      chain: core.plugins.input.chain,\n      chainAsync: core.plugins.input.chainAsync,\n      chainLink: core.plugins.input.chainLink,\n      chainLinkAsync: core.plugins.input.chainLinkAsync,\n      data: core.plugins.input.data,\n      dataAsync: core.plugins.input.dataAsync,\n      type: core.plugins.input.type,\n      async: {\n        chain: core.plugins.input.chainAsync,\n        chainLink: core.plugins.input.chainLinkAsync,\n        data: core.plugins.input.dataAsync,\n      },\n    },\n    name: name.parse,\n    date: date.parse,\n    csl: core.plugins.input.util.clean,\n\n    bibjson: bibjsonParsers.json.record,\n    bibtex: ((parsers, entries, types) => ({\n      json(entries) {\n        return entries.parse([].concat(entries))\n      },\n      prop(field, value) {\n        const parsed = entries.parse([\n          {\n            type: 'book',\n            properties: { [field]: value },\n          },\n        ])[0]\n        const key = Object.keys(parsed).find(([key]) => key !== 'type')\n        return [key, parsed[key]]\n      },\n      text(file) {\n        return parsers['@biblatex/text'].parse(file)\n      },\n      type(type) {\n        return types[type] || 'book'\n      },\n    }))(formats, entries, bibtexTypes.target),\n    bibtxt: ((bibtxt) => ({\n      text: bibtxt.parse,\n      textEntry: bibtxt.textEntry,\n    }))(bibtxt),\n    // doi: ((doi) => ({\n    //   api: doi.parsers.api.parse,\n    //   id: doi.parsers.id.parse,\n    //   async: {\n    //     api: doi.parsers.api.parseAsync,\n    //   },\n    // }))(require('@citation-js/plugin-doi')),\n    json: coreParsers.json.parse,\n    // wikidata: ((wikidata) => ({\n    //   json: wikidata.parsers.entity.parse,\n    //   list: wikidata.parsers.id.parse,\n    //   prop: wikidata.parsers.prop.parse,\n    //   type: wikidata.parsers.prop.parseType,\n    //   async: {\n    //     json: wikidata.parsers.entity.parseAsync,\n    //     prop(...args) {\n    //       return Promise.resolve(wikidata.parsers.prop.parse.apply(this, args))\n    //     },\n    //   },\n    // }))(require('@citation-js/plugin-wikidata')),\n  },\n  Cite.plugins.input\n)\n\nCite.get = Object.assign(\n  {\n    dict: Cite.plugins.dict,\n\n    name: name.format,\n    date: date.format,\n\n    bibtex: ((formatters, entries, converters, types) => ({\n      json(entry) {\n        return entries.formatBibtex([entry])[0]\n      },\n      label({ id, 'citation-label': label, author, issued, 'year-suffix': suffix, title }) {\n        return converters.LABEL.toSource(id, label, author, issued, suffix, title)\n      },\n      text(entries, asHtml) {\n        return formatters.bibtex(entries, { format: asHtml ? 'html' : 'text' })\n      },\n      type(type) {\n        return types[type] || 'misc'\n      },\n    }))(bibtexOutput, bibtexOutputEntries, Converters, bibtexTypes.target),\n    bibtxt: bibtxtFormat,\n    json: coreOutput.data,\n    label: coreOutput.label,\n  },\n  Cite.plugins.output\n)\n\nexport default Cite\n","export default `<?xml version=\"1.0\" encoding=\"utf-8\"?><style xmlns=\"http://purl.org/net/xbiblio/csl\" class=\"in-text\" version=\"1.0\" demote-non-dropping-particle=\"never\" page-range-format=\"minimal-two\"><info><title>Modern Language Association 9th edition</title><title-short>MLA</title-short><id>http://www.zotero.org/styles/modern-language-association</id><link href=\"http://www.zotero.org/styles/modern-language-association\" rel=\"self\"/><link href=\"http://style.mla.org\" rel=\"documentation\"/><author><name>Sebastian Karcher</name></author><category citation-format=\"author\"/><category field=\"generic-base\"/><summary>This style adheres to the MLA 9th edition handbook. Follows the structure of references as outlined in the MLA Manual closely</summary><updated>2021-07-13T20:05:10+00:00</updated><rights license=\"http://creativecommons.org/licenses/by-sa/3.0/\">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights></info><locale xml:lang=\"en\"><date form=\"text\"><date-part name=\"day\" suffix=\" \"/><date-part name=\"month\" suffix=\" \" form=\"short\"/><date-part name=\"year\"/></date><terms><term name=\"month-01\" form=\"short\">Jan.</term><term name=\"month-02\" form=\"short\">Feb.</term><term name=\"month-03\" form=\"short\">Mar.</term><term name=\"month-04\" form=\"short\">Apr.</term><term name=\"month-05\" form=\"short\">May</term><term name=\"month-06\" form=\"short\">June</term><term name=\"month-07\" form=\"short\">July</term><term name=\"month-08\" form=\"short\">Aug.</term><term name=\"month-09\" form=\"short\">Sept.</term><term name=\"month-10\" form=\"short\">Oct.</term><term name=\"month-11\" form=\"short\">Nov.</term><term name=\"month-12\" form=\"short\">Dec.</term><term name=\"translator\" form=\"short\">trans.</term></terms></locale><macro name=\"author\"><names variable=\"author\"><name name-as-sort-order=\"first\" and=\"text\" delimiter-precedes-last=\"always\" delimiter-precedes-et-al=\"always\" initialize=\"false\" initialize-with=\". \"/><label form=\"long\" prefix=\", \"/><substitute><names variable=\"editor\"/><names variable=\"translator\"/><text macro=\"title\"/></substitute></names></macro><macro name=\"author-short\"><group delimiter=\", \"><names variable=\"author\"><name form=\"short\" initialize-with=\". \" and=\"text\"/><substitute><names variable=\"editor\"/><names variable=\"translator\"/><text macro=\"title-short\"/></substitute></names><choose><if disambiguate=\"true\"><text macro=\"title-short\"/></if></choose></group></macro><macro name=\"title\"><choose><if variable=\"container-title\" match=\"any\"><text variable=\"title\" quotes=\"true\" text-case=\"title\"/></if><else><text variable=\"title\" font-style=\"italic\" text-case=\"title\"/></else></choose></macro><macro name=\"title-short\"><choose><if variable=\"container-title\" match=\"any\"><text variable=\"title\" form=\"short\" quotes=\"true\" text-case=\"title\"/></if><else><text variable=\"title\" form=\"short\" font-style=\"italic\" text-case=\"title\"/></else></choose></macro><macro name=\"container-title\"><text variable=\"container-title\" font-style=\"italic\" text-case=\"title\"/></macro><macro name=\"other-contributors\"><choose><if variable=\"container-title\" match=\"any\"><group delimiter=\", \"><names variable=\"container-author\" delimiter=\", \"><label form=\"verb\" suffix=\" \"/><name and=\"text\"/></names><names variable=\"editor translator\" delimiter=\", \"><label form=\"verb\" suffix=\" \"/><name and=\"text\"/></names><names variable=\"director illustrator interviewer\" delimiter=\", \"><label form=\"verb\" suffix=\" \"/><name and=\"text\"/></names></group></if><else><group delimiter=\", \"><names variable=\"container-author\" delimiter=\", \"><label form=\"verb\" suffix=\" \" text-case=\"capitalize-first\"/><name and=\"text\"/></names><names variable=\"editor translator\" delimiter=\", \"><label form=\"verb\" suffix=\" \" text-case=\"capitalize-first\"/><name and=\"text\"/></names><names variable=\"director illustrator interviewer\" delimiter=\", \"><label form=\"verb\" suffix=\" \" text-case=\"capitalize-first\"/><name and=\"text\"/></names></group></else></choose></macro><macro name=\"version\"><group delimiter=\", \"><choose><if is-numeric=\"edition\"><group delimiter=\" \"><number variable=\"edition\" form=\"ordinal\"/><text term=\"edition\" form=\"short\"/></group></if><else><text variable=\"edition\" text-case=\"capitalize-first\"/></else></choose><text variable=\"version\"/></group></macro><macro name=\"volume-lowercase\"><group delimiter=\" \"><text term=\"volume\" form=\"short\"/><text variable=\"volume\"/></group></macro><macro name=\"number\"><group delimiter=\", \"><group><choose><if variable=\"edition container-title\" match=\"any\"><text macro=\"volume-lowercase\"/></if><else-if variable=\"author\" match=\"all\"><choose><if variable=\"editor translator container-author illustrator interviewer director\" match=\"any\"><text macro=\"volume-lowercase\"/></if></choose></else-if><else-if variable=\"editor\" match=\"all\"><choose><if variable=\"translator container-author illustrator interviewer director\" match=\"any\"><text macro=\"volume-lowercase\"/></if></choose></else-if><else-if variable=\"container-author illustrator interviewer director\" match=\"any\"><text macro=\"volume-lowercase\"/></else-if><else><group delimiter=\" \"><text term=\"volume\" form=\"short\" text-case=\"capitalize-first\"/><text variable=\"volume\"/></group></else></choose></group><group delimiter=\" \"><text term=\"issue\" form=\"short\"/><text variable=\"issue\"/></group><choose><if type=\"report\"><text variable=\"genre\"/></if></choose><text variable=\"number\"/></group></macro><macro name=\"publisher\"><text variable=\"publisher\"/></macro><macro name=\"publication-date\"><choose><if type=\"book chapter paper-conference motion_picture\" match=\"any\"><date variable=\"issued\" form=\"numeric\" date-parts=\"year\"/></if><else-if type=\"article-journal article-magazine\" match=\"any\"><date variable=\"issued\" form=\"text\" date-parts=\"year-month\"/></else-if><else-if type=\"speech\" match=\"none\"><date variable=\"issued\" form=\"text\"/></else-if></choose></macro><macro name=\"location\"><group delimiter=\", \"><group delimiter=\" \"><label variable=\"page\" form=\"short\"/><text variable=\"page\"/></group><choose><if variable=\"source\" match=\"none\"><text macro=\"URI\"/></if></choose></group></macro><macro name=\"container2-title\"><group delimiter=\", \"><choose><if type=\"speech\"><text variable=\"event\"/><date variable=\"event-date\" form=\"text\"/><text variable=\"event-place\"/></if></choose><text variable=\"archive\"/><text variable=\"archive-place\"/><text variable=\"archive_location\"/></group></macro><macro name=\"container2-location\"><choose><if variable=\"source\"><choose><if variable=\"DOI URL\" match=\"any\"><group delimiter=\", \"><text variable=\"source\" font-style=\"italic\"/><text macro=\"URI\"/></group></if></choose></if></choose></macro><macro name=\"URI\"><choose><if variable=\"DOI\"><text variable=\"DOI\" prefix=\"https://doi.org/\"/></if><else><text variable=\"URL\"/></else></choose></macro><macro name=\"accessed\"><choose><if variable=\"issued\" match=\"none\"><group delimiter=\" \"><text term=\"accessed\" text-case=\"capitalize-first\"/><date variable=\"accessed\" form=\"text\"/></group></if></choose></macro><citation et-al-min=\"3\" et-al-use-first=\"1\" disambiguate-add-names=\"true\" disambiguate-add-givenname=\"true\"><layout prefix=\"(\" suffix=\")\" delimiter=\"; \"><choose><if locator=\"page line\" match=\"any\"><group delimiter=\" \"><text macro=\"author-short\"/><text variable=\"locator\"/></group></if><else><group delimiter=\", \"><text macro=\"author-short\"/><group><label variable=\"locator\" form=\"short\"/><text variable=\"locator\"/></group></group></else></choose></layout></citation><bibliography hanging-indent=\"true\" et-al-min=\"3\" et-al-use-first=\"1\" line-spacing=\"2\" entry-spacing=\"0\" subsequent-author-substitute=\"---\"><sort><key macro=\"author\"/><key variable=\"title\"/></sort><layout suffix=\".\"><group delimiter=\". \"><text macro=\"author\"/><text macro=\"title\"/><date variable=\"original-date\" form=\"numeric\" date-parts=\"year\"/><group delimiter=\", \"><text macro=\"container-title\"/><text macro=\"other-contributors\"/><text macro=\"version\"/><text macro=\"number\"/><text macro=\"publisher\"/><text macro=\"publication-date\"/><text macro=\"location\"/></group><group delimiter=\", \"><text macro=\"container2-title\"/><text macro=\"container2-location\"/></group><text macro=\"accessed\"/></group></layout></bibliography></style>`\n","export default `<?xml version=\"1.0\" encoding=\"utf-8\"?><style xmlns=\"http://purl.org/net/xbiblio/csl\" class=\"in-text\" version=\"1.0\" demote-non-dropping-particle=\"display-and-sort\" page-range-format=\"chicago\"><info><title>Chicago Manual of Style 17th edition (author-date)</title><id>http://www.zotero.org/styles/chicago-author-date</id><link href=\"http://www.zotero.org/styles/chicago-author-date\" rel=\"self\"/><link href=\"http://www.chicagomanualofstyle.org/tools_citationguide.html\" rel=\"documentation\"/><author><name>Julian Onions</name><email>julian.onions@gmail.com</email></author><contributor><name>Sebastian Karcher</name></contributor><contributor><name>Richard Karnesky</name><email>karnesky+zotero@gmail.com</email><uri>http://arc.nucapt.northwestern.edu/Richard_Karnesky</uri></contributor><contributor><name>Andrew Dunning</name><email>andrew.dunning@utoronto.ca</email><uri>https://orcid.org/0000-0003-0464-5036</uri></contributor><contributor><name>Matthew Roth</name><email>matthew.g.roth@yale.edu</email><uri> https://orcid.org/0000-0001-7902-6331</uri></contributor><contributor><name>Brenton M. Wiernik</name></contributor><category citation-format=\"author-date\"/><category field=\"generic-base\"/><summary>The author-date variant of the Chicago style</summary><updated>2018-01-24T12:00:00+00:00</updated><rights license=\"http://creativecommons.org/licenses/by-sa/3.0/\">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights></info><locale xml:lang=\"en\"><terms><term name=\"editor\" form=\"verb-short\">ed.</term><term name=\"container-author\" form=\"verb\">by</term><term name=\"translator\" form=\"verb-short\">trans.</term><term name=\"editortranslator\" form=\"verb\">edited and translated by</term><term name=\"translator\" form=\"short\">trans.</term></terms></locale><macro name=\"secondary-contributors\"><choose><if type=\"chapter entry-dictionary entry-encyclopedia paper-conference\" match=\"none\"><group delimiter=\". \"><names variable=\"editor translator\" delimiter=\". \"><label form=\"verb\" text-case=\"capitalize-first\" suffix=\" \"/><name and=\"text\" delimiter=\", \"/></names><names variable=\"director\" delimiter=\". \"><label form=\"verb\" text-case=\"capitalize-first\" suffix=\" \"/><name and=\"text\" delimiter=\", \"/></names></group></if></choose></macro><macro name=\"container-contributors\"><choose><if type=\"chapter entry-dictionary entry-encyclopedia paper-conference\" match=\"any\"><group prefix=\", \" delimiter=\", \"><names variable=\"container-author\" delimiter=\", \"><label form=\"verb\" suffix=\" \"/><name and=\"text\" delimiter=\", \"/></names><names variable=\"editor translator\" delimiter=\", \"><label form=\"verb\" suffix=\" \"/><name and=\"text\" delimiter=\", \"/></names></group></if></choose></macro><macro name=\"editor\"><names variable=\"editor\"><name name-as-sort-order=\"first\" and=\"text\" sort-separator=\", \" delimiter=\", \" delimiter-precedes-last=\"always\"/><label form=\"short\" prefix=\", \"/></names></macro><macro name=\"translator\"><names variable=\"translator\"><name name-as-sort-order=\"first\" and=\"text\" sort-separator=\", \" delimiter=\", \" delimiter-precedes-last=\"always\"/><label form=\"short\" prefix=\", \"/></names></macro><macro name=\"recipient\"><choose><if type=\"personal_communication\"><choose><if variable=\"genre\"><text variable=\"genre\" text-case=\"capitalize-first\"/></if><else><text term=\"letter\" text-case=\"capitalize-first\"/></else></choose></if></choose><names variable=\"recipient\" delimiter=\", \"><label form=\"verb\" prefix=\" \" text-case=\"lowercase\" suffix=\" \"/><name and=\"text\" delimiter=\", \"/></names></macro><macro name=\"substitute-title\"><choose><if type=\"article-magazine article-newspaper review review-book\" match=\"any\"><text macro=\"container-title\"/></if></choose></macro><macro name=\"contributors\"><group delimiter=\". \"><names variable=\"author\"><name and=\"text\" name-as-sort-order=\"first\" sort-separator=\", \" delimiter=\", \" delimiter-precedes-last=\"always\"/><label form=\"short\" prefix=\", \"/><substitute><names variable=\"editor\"/><names variable=\"translator\"/><names variable=\"director\"/><text macro=\"substitute-title\"/><text macro=\"title\"/></substitute></names><text macro=\"recipient\"/></group></macro><macro name=\"contributors-short\"><names variable=\"author\"><name form=\"short\" and=\"text\" delimiter=\", \" initialize-with=\". \"/><substitute><names variable=\"editor\"/><names variable=\"translator\"/><names variable=\"director\"/><text macro=\"substitute-title\"/><text macro=\"title\"/></substitute></names></macro><macro name=\"interviewer\"><names variable=\"interviewer\" delimiter=\", \"><label form=\"verb\" prefix=\" \" text-case=\"capitalize-first\" suffix=\" \"/><name and=\"text\" delimiter=\", \"/></names></macro><macro name=\"archive\"><group delimiter=\". \"><text variable=\"archive_location\" text-case=\"capitalize-first\"/><text variable=\"archive\"/><text variable=\"archive-place\"/></group></macro><macro name=\"access\"><group delimiter=\". \"><choose><if type=\"graphic report\" match=\"any\"><text macro=\"archive\"/></if><else-if type=\"article-journal bill book chapter legal_case legislation motion_picture paper-conference\" match=\"none\"><text macro=\"archive\"/></else-if></choose><choose><if type=\"webpage post-weblog\" match=\"any\"><date variable=\"issued\" form=\"text\"/></if></choose><choose><if variable=\"issued\" match=\"none\"><group delimiter=\" \"><text term=\"accessed\" text-case=\"capitalize-first\"/><date variable=\"accessed\" form=\"text\"/></group></if></choose><choose><if type=\"legal_case\" match=\"none\"><choose><if variable=\"DOI\"><text variable=\"DOI\" prefix=\"https://doi.org/\"/></if><else><text variable=\"URL\"/></else></choose></if></choose></group></macro><macro name=\"title\"><choose><if variable=\"title\" match=\"none\"><choose><if type=\"personal_communication\" match=\"none\"><text variable=\"genre\" text-case=\"capitalize-first\"/></if></choose></if><else-if type=\"bill book graphic legislation motion_picture song\" match=\"any\"><text variable=\"title\" text-case=\"title\" font-style=\"italic\"/><group prefix=\" (\" suffix=\")\" delimiter=\" \"><text term=\"version\"/><text variable=\"version\"/></group></else-if><else-if variable=\"reviewed-author\"><choose><if variable=\"reviewed-title\"><group delimiter=\". \"><text variable=\"title\" text-case=\"title\" quotes=\"true\"/><group delimiter=\", \"><text variable=\"reviewed-title\" text-case=\"title\" font-style=\"italic\" prefix=\"Review of \"/><names variable=\"reviewed-author\"><label form=\"verb-short\" text-case=\"lowercase\" suffix=\" \"/><name and=\"text\" delimiter=\", \"/></names></group></group></if><else><group delimiter=\", \"><text variable=\"title\" text-case=\"title\" font-style=\"italic\" prefix=\"Review of \"/><names variable=\"reviewed-author\"><label form=\"verb-short\" text-case=\"lowercase\" suffix=\" \"/><name and=\"text\" delimiter=\", \"/></names></group></else></choose></else-if><else-if type=\"legal_case interview patent\" match=\"any\"><text variable=\"title\"/></else-if><else><text variable=\"title\" text-case=\"title\" quotes=\"true\"/></else></choose></macro><macro name=\"edition\"><choose><if type=\"bill book graphic legal_case legislation motion_picture report song\" match=\"any\"><choose><if is-numeric=\"edition\"><group delimiter=\" \" prefix=\". \"><number variable=\"edition\" form=\"ordinal\"/><text term=\"edition\" form=\"short\" strip-periods=\"true\"/></group></if><else><text variable=\"edition\" text-case=\"capitalize-first\" prefix=\". \"/></else></choose></if><else-if type=\"chapter entry-dictionary entry-encyclopedia paper-conference\" match=\"any\"><choose><if is-numeric=\"edition\"><group delimiter=\" \" prefix=\", \"><number variable=\"edition\" form=\"ordinal\"/><text term=\"edition\" form=\"short\"/></group></if><else><text variable=\"edition\" prefix=\", \"/></else></choose></else-if></choose></macro><macro name=\"locators\"><choose><if type=\"article-journal\"><choose><if variable=\"volume\"><text variable=\"volume\" prefix=\" \"/><group prefix=\" (\" suffix=\")\"><choose><if variable=\"issue\"><text variable=\"issue\"/></if><else><date variable=\"issued\"><date-part name=\"month\"/></date></else></choose></group></if><else-if variable=\"issue\"><group delimiter=\" \" prefix=\", \"><text term=\"issue\" form=\"short\"/><text variable=\"issue\"/><date variable=\"issued\" prefix=\"(\" suffix=\")\"><date-part name=\"month\"/></date></group></else-if><else><date variable=\"issued\" prefix=\", \"><date-part name=\"month\"/></date></else></choose></if><else-if type=\"legal_case\"><text variable=\"volume\" prefix=\", \"/><text variable=\"container-title\" prefix=\" \"/><text variable=\"page\" prefix=\" \"/></else-if><else-if type=\"bill book graphic legal_case legislation motion_picture report song\" match=\"any\"><group prefix=\". \" delimiter=\". \"><group><text term=\"volume\" form=\"short\" text-case=\"capitalize-first\" suffix=\" \"/><number variable=\"volume\" form=\"numeric\"/></group><group><number variable=\"number-of-volumes\" form=\"numeric\"/><text term=\"volume\" form=\"short\" prefix=\" \" plural=\"true\"/></group></group></else-if><else-if type=\"chapter entry-dictionary entry-encyclopedia paper-conference\" match=\"any\"><choose><if variable=\"page\" match=\"none\"><group prefix=\". \"><text term=\"volume\" form=\"short\" text-case=\"capitalize-first\" suffix=\" \"/><number variable=\"volume\" form=\"numeric\"/></group></if></choose></else-if></choose></macro><macro name=\"locators-chapter\"><choose><if type=\"chapter entry-dictionary entry-encyclopedia paper-conference\" match=\"any\"><choose><if variable=\"page\"><group prefix=\", \"><text variable=\"volume\" suffix=\":\"/><text variable=\"page\"/></group></if></choose></if></choose></macro><macro name=\"locators-article\"><choose><if type=\"article-newspaper\"><group prefix=\", \" delimiter=\", \"><group delimiter=\" \"><text variable=\"edition\"/><text term=\"edition\"/></group><group><text term=\"section\" form=\"short\" suffix=\" \"/><text variable=\"section\"/></group></group></if><else-if type=\"article-journal\"><choose><if variable=\"volume issue\" match=\"any\"><text variable=\"page\" prefix=\": \"/></if><else><text variable=\"page\" prefix=\", \"/></else></choose></else-if></choose></macro><macro name=\"point-locators\"><choose><if variable=\"locator\"><choose><if locator=\"page\" match=\"none\"><choose><if type=\"bill book graphic legal_case legislation motion_picture report song\" match=\"any\"><choose><if variable=\"volume\"><group><text term=\"volume\" form=\"short\" suffix=\" \"/><number variable=\"volume\" form=\"numeric\"/><label variable=\"locator\" form=\"short\" prefix=\", \" suffix=\" \"/></group></if><else><label variable=\"locator\" form=\"short\" suffix=\" \"/></else></choose></if><else><label variable=\"locator\" form=\"short\" suffix=\" \"/></else></choose></if><else-if type=\"bill book graphic legal_case legislation motion_picture report song\" match=\"any\"><number variable=\"volume\" form=\"numeric\" suffix=\":\"/></else-if></choose><text variable=\"locator\"/></if></choose></macro><macro name=\"container-prefix\"><text term=\"in\" text-case=\"capitalize-first\"/></macro><macro name=\"container-title\"><choose><if type=\"chapter entry-dictionary entry-encyclopedia paper-conference\" match=\"any\"><text macro=\"container-prefix\" suffix=\" \"/></if></choose><choose><if type=\"webpage\"><text variable=\"container-title\" text-case=\"title\"/></if><else-if type=\"legal_case\" match=\"none\"><group delimiter=\" \"><text variable=\"container-title\" text-case=\"title\" font-style=\"italic\"/><choose><if type=\"post-weblog\"><text value=\"(blog)\"/></if></choose></group></else-if></choose></macro><macro name=\"publisher\"><group delimiter=\": \"><text variable=\"publisher-place\"/><text variable=\"publisher\"/></group></macro><macro name=\"date\"><choose><if variable=\"issued\"><group delimiter=\" \"><date variable=\"original-date\" form=\"text\" date-parts=\"year\" prefix=\"(\" suffix=\")\"/><date variable=\"issued\"><date-part name=\"year\"/></date></group></if><else-if variable=\"status\"><text variable=\"status\" text-case=\"capitalize-first\"/></else-if><else><text term=\"no date\" form=\"short\"/></else></choose></macro><macro name=\"date-in-text\"><choose><if variable=\"issued\"><group delimiter=\" \"><date variable=\"original-date\" form=\"text\" date-parts=\"year\" prefix=\"[\" suffix=\"]\"/><date variable=\"issued\"><date-part name=\"year\"/></date></group></if><else-if variable=\"status\"><text variable=\"status\"/></else-if><else><text term=\"no date\" form=\"short\"/></else></choose></macro><macro name=\"day-month\"><date variable=\"issued\"><date-part name=\"month\"/><date-part name=\"day\" prefix=\" \"/></date></macro><macro name=\"collection-title\"><choose><if match=\"none\" type=\"article-journal\"><choose><if match=\"none\" is-numeric=\"collection-number\"><group delimiter=\", \"><text variable=\"collection-title\" text-case=\"title\"/><text variable=\"collection-number\"/></group></if><else><group delimiter=\" \"><text variable=\"collection-title\" text-case=\"title\"/><text variable=\"collection-number\"/></group></else></choose></if></choose></macro><macro name=\"collection-title-journal\"><choose><if type=\"article-journal\"><group delimiter=\" \"><text variable=\"collection-title\"/><text variable=\"collection-number\"/></group></if></choose></macro><macro name=\"event\"><group delimiter=\" \"><choose><if variable=\"genre\"><text term=\"presented at\"/></if><else><text term=\"presented at\" text-case=\"capitalize-first\"/></else></choose><text variable=\"event\"/></group></macro><macro name=\"description\"><choose><if variable=\"interviewer\" type=\"interview\" match=\"any\"><group delimiter=\". \"><text macro=\"interviewer\"/><text variable=\"medium\" text-case=\"capitalize-first\"/></group></if><else-if type=\"patent\"><group delimiter=\" \" prefix=\". \"><text variable=\"authority\"/><text variable=\"number\"/></group></else-if><else><text variable=\"medium\" text-case=\"capitalize-first\" prefix=\". \"/></else></choose><choose><if variable=\"title\" match=\"none\"/><else-if type=\"thesis personal_communication speech\" match=\"any\"/><else><group delimiter=\" \" prefix=\". \"><text variable=\"genre\" text-case=\"capitalize-first\"/><choose><if type=\"report\"><text variable=\"number\"/></if></choose></group></else></choose></macro><macro name=\"issue\"><choose><if type=\"legal_case\"><text variable=\"authority\" prefix=\". \"/></if><else-if type=\"speech\"><group prefix=\". \" delimiter=\", \"><group delimiter=\" \"><text variable=\"genre\" text-case=\"capitalize-first\"/><text macro=\"event\"/></group><text variable=\"event-place\"/><text macro=\"day-month\"/></group></else-if><else-if type=\"article-newspaper article-magazine personal_communication\" match=\"any\"><date variable=\"issued\" form=\"text\" prefix=\", \"/></else-if><else-if type=\"patent\"><group delimiter=\", \" prefix=\", \"><group delimiter=\" \"><text value=\"filed\"/><date variable=\"submitted\" form=\"text\"/></group><group delimiter=\" \"><choose><if variable=\"issued submitted\" match=\"all\"><text term=\"and\"/></if></choose><text value=\"issued\"/><date variable=\"issued\" form=\"text\"/></group></group></else-if><else-if type=\"article-journal\" match=\"any\"/><else><group prefix=\". \" delimiter=\", \"><choose><if type=\"thesis\"><text variable=\"genre\" text-case=\"capitalize-first\"/></if></choose><text macro=\"publisher\"/></group></else></choose></macro><citation et-al-min=\"4\" et-al-use-first=\"1\" disambiguate-add-year-suffix=\"true\" disambiguate-add-names=\"true\" disambiguate-add-givenname=\"true\" givenname-disambiguation-rule=\"primary-name\" collapse=\"year\" after-collapse-delimiter=\"; \"><layout prefix=\"(\" suffix=\")\" delimiter=\"; \"><group delimiter=\", \"><choose><if variable=\"issued accessed\" match=\"any\"><group delimiter=\" \"><text macro=\"contributors-short\"/><text macro=\"date-in-text\"/></group></if><else><group delimiter=\", \"><text macro=\"contributors-short\"/><text macro=\"date-in-text\"/></group></else></choose><text macro=\"point-locators\"/></group></layout></citation><bibliography hanging-indent=\"true\" et-al-min=\"11\" et-al-use-first=\"7\" subsequent-author-substitute=\"&#8212;&#8212;&#8212;\" entry-spacing=\"0\"><sort><key macro=\"contributors\"/><key variable=\"issued\"/><key variable=\"title\"/></sort><layout suffix=\".\"><group delimiter=\". \"><text macro=\"contributors\"/><text macro=\"date\"/><text macro=\"title\"/></group><text macro=\"description\"/><text macro=\"secondary-contributors\" prefix=\". \"/><text macro=\"container-title\" prefix=\". \"/><text macro=\"container-contributors\"/><text macro=\"edition\"/><text macro=\"locators-chapter\"/><text macro=\"collection-title-journal\" prefix=\", \" suffix=\", \"/><text macro=\"locators\"/><text macro=\"collection-title\" prefix=\". \"/><text macro=\"issue\"/><text macro=\"locators-article\"/><text macro=\"access\" prefix=\". \"/></layout></bibliography></style>`\n","export default `<?xml version=\"1.0\" encoding=\"utf-8\"?><style xmlns=\"http://purl.org/net/xbiblio/csl\" class=\"in-text\" version=\"1.0\" demote-non-dropping-particle=\"sort-only\"><info><title>Harvard Reference format 1 (author-date)</title><id>http://www.zotero.org/styles/harvard1</id><link href=\"http://www.zotero.org/styles/harvard1\" rel=\"self\"/><link href=\"http://libweb.anglia.ac.uk/referencing/harvard.htm\" rel=\"documentation\"/><author><name>Julian Onions</name><email>julian.onions@gmail.com</email></author><category citation-format=\"author-date\"/><category field=\"generic-base\"/><summary>The Harvard author-date style</summary><updated>2012-09-27T22:06:38+00:00</updated><rights license=\"http://creativecommons.org/licenses/by-sa/3.0/\">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights></info><macro name=\"editor\"><names variable=\"editor\" delimiter=\", \"><name and=\"symbol\" initialize-with=\". \" delimiter=\", \"/><label form=\"short\" prefix=\", \" text-case=\"lowercase\"/></names></macro><macro name=\"anon\"><text term=\"anonymous\" form=\"short\" text-case=\"capitalize-first\" strip-periods=\"true\"/></macro><macro name=\"author\"><names variable=\"author\"><name name-as-sort-order=\"all\" and=\"symbol\" sort-separator=\", \" initialize-with=\".\" delimiter-precedes-last=\"never\" delimiter=\", \"/><label form=\"short\" prefix=\" \" text-case=\"lowercase\"/><substitute><names variable=\"editor\"/><text macro=\"anon\"/></substitute></names></macro><macro name=\"author-short\"><names variable=\"author\"><name form=\"short\" and=\"symbol\" delimiter=\", \" delimiter-precedes-last=\"never\" initialize-with=\". \"/><substitute><names variable=\"editor\"/><names variable=\"translator\"/><text macro=\"anon\"/></substitute></names></macro><macro name=\"access\"><choose><if variable=\"URL\"><text value=\"Available at:\" suffix=\" \"/><text variable=\"URL\"/><group prefix=\" [\" suffix=\"]\"><text term=\"accessed\" text-case=\"capitalize-first\" suffix=\" \"/><date variable=\"accessed\"><date-part name=\"month\" suffix=\" \"/><date-part name=\"day\" suffix=\", \"/><date-part name=\"year\"/></date></group></if></choose></macro><macro name=\"title\"><choose><if type=\"bill book graphic legal_case legislation motion_picture report song thesis\" match=\"any\"><text variable=\"title\" font-style=\"italic\"/></if><else><text variable=\"title\"/></else></choose></macro><macro name=\"publisher\"><group delimiter=\": \"><text variable=\"publisher-place\"/><text variable=\"publisher\"/></group></macro><macro name=\"year-date\"><choose><if variable=\"issued\"><date variable=\"issued\"><date-part name=\"year\"/></date></if><else><text term=\"no date\" form=\"short\"/></else></choose></macro><macro name=\"edition\"><choose><if is-numeric=\"edition\"><group delimiter=\" \"><number variable=\"edition\" form=\"ordinal\"/><text term=\"edition\" form=\"short\"/></group></if><else><text variable=\"edition\" suffix=\".\"/></else></choose></macro><macro name=\"pages\"><group><label variable=\"page\" form=\"short\" suffix=\" \"/><text variable=\"page\"/></group></macro><citation et-al-min=\"3\" et-al-use-first=\"1\" disambiguate-add-year-suffix=\"true\" disambiguate-add-names=\"true\" disambiguate-add-givenname=\"true\"><layout prefix=\"(\" suffix=\")\" delimiter=\"; \"><group delimiter=\", \"><group delimiter=\" \"><text macro=\"author-short\"/><text macro=\"year-date\"/></group><group><label variable=\"locator\" form=\"short\"/><text variable=\"locator\"/></group></group></layout></citation><bibliography hanging-indent=\"true\" et-al-min=\"4\" et-al-use-first=\"1\"><sort><key macro=\"author\"/><key variable=\"title\"/></sort><layout><text macro=\"author\" suffix=\",\"/><date variable=\"issued\" prefix=\" \" suffix=\".\"><date-part name=\"year\"/></date><choose><if type=\"bill book graphic legal_case legislation motion_picture report song\" match=\"any\"><group prefix=\" \" delimiter=\" \" suffix=\",\"><text macro=\"title\"/><text macro=\"edition\"/><text macro=\"editor\"/></group><text prefix=\" \" suffix=\".\" macro=\"publisher\"/></if><else-if type=\"chapter paper-conference\" match=\"any\"><text macro=\"title\" prefix=\" \" suffix=\".\"/><group prefix=\" \" delimiter=\" \"><text term=\"in\" text-case=\"capitalize-first\"/><text macro=\"editor\"/><text variable=\"container-title\" font-style=\"italic\" suffix=\".\"/><text variable=\"collection-title\" suffix=\".\"/><text variable=\"event\" suffix=\".\"/><group suffix=\".\" delimiter=\", \"><text macro=\"publisher\" prefix=\" \"/><text macro=\"pages\"/></group></group></else-if><else-if type=\"thesis\"><group prefix=\" \" suffix=\".\" delimiter=\". \"><text macro=\"title\"/><text variable=\"genre\"/><text macro=\"publisher\"/></group></else-if><else><group suffix=\".\"><text macro=\"title\" prefix=\" \"/><text macro=\"editor\" prefix=\" \"/></group><group prefix=\" \" suffix=\".\"><text variable=\"container-title\" font-style=\"italic\"/><group prefix=\", \"><text variable=\"volume\"/><text variable=\"issue\" prefix=\"(\" suffix=\")\"/></group><group prefix=\", \"><label variable=\"page\" form=\"short\"/><text variable=\"page\"/></group></group></else></choose><text prefix=\" \" macro=\"access\" suffix=\".\"/></layout></bibliography></style>`\n","export default `<?xml version=\"1.0\" encoding=\"utf-8\"?><style xmlns=\"http://purl.org/net/xbiblio/csl\" class=\"in-text\" version=\"1.0\" demote-non-dropping-particle=\"sort-only\" page-range-format=\"minimal\"><info><title>Vancouver</title><id>http://www.zotero.org/styles/vancouver</id><link href=\"http://www.zotero.org/styles/vancouver\" rel=\"self\"/><link href=\"http://www.nlm.nih.gov/bsd/uniform_requirements.html\" rel=\"documentation\"/><author><name>Michael Berkowitz</name><email>mberkowi@gmu.edu</email></author><contributor><name>Sean Takats</name><email>stakats@gmu.edu</email></contributor><contributor><name>Sebastian Karcher</name></contributor><category citation-format=\"numeric\"/><category field=\"medicine\"/><summary>Vancouver style as outlined by International Committee of Medical Journal Editors Uniform Requirements for Manuscripts Submitted to Biomedical Journals: Sample References</summary><updated>2014-09-06T16:03:01+00:00</updated><rights license=\"http://creativecommons.org/licenses/by-sa/3.0/\">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights></info><locale xml:lang=\"en\"><date form=\"text\" delimiter=\" \"><date-part name=\"year\"/><date-part name=\"month\" form=\"short\" strip-periods=\"true\"/><date-part name=\"day\"/></date><terms><term name=\"collection-editor\" form=\"long\"><single>editor</single><multiple>editors</multiple></term><term name=\"presented at\">presented at</term><term name=\"available at\">available from</term><term name=\"section\" form=\"short\">sect.</term></terms></locale><locale xml:lang=\"fr\"><date form=\"text\" delimiter=\" \"><date-part name=\"day\"/><date-part name=\"month\" form=\"short\" strip-periods=\"true\"/><date-part name=\"year\"/></date></locale><macro name=\"author\"><names variable=\"author\"><name sort-separator=\" \" initialize-with=\"\" name-as-sort-order=\"all\" delimiter=\", \" delimiter-precedes-last=\"always\"/><label form=\"long\" prefix=\", \"/><substitute><names variable=\"editor\"/></substitute></names></macro><macro name=\"editor\"><names variable=\"editor\" suffix=\".\"><name sort-separator=\" \" initialize-with=\"\" name-as-sort-order=\"all\" delimiter=\", \" delimiter-precedes-last=\"always\"/><label form=\"long\" prefix=\", \"/></names></macro><macro name=\"chapter-marker\"><choose><if type=\"chapter paper-conference entry-dictionary entry-encyclopedia\" match=\"any\"><text term=\"in\" text-case=\"capitalize-first\"/></if></choose></macro><macro name=\"publisher\"><choose><if type=\"article-journal article-magazine article-newspaper\" match=\"none\"><group delimiter=\": \" suffix=\";\"><choose><if type=\"thesis\"><text variable=\"publisher-place\" prefix=\"[\" suffix=\"]\"/></if><else-if type=\"speech\"/><else><text variable=\"publisher-place\"/></else></choose><text variable=\"publisher\"/></group></if></choose></macro><macro name=\"access\"><choose><if variable=\"URL\"><group delimiter=\": \"><text term=\"available at\" text-case=\"capitalize-first\"/><text variable=\"URL\"/></group></if></choose></macro><macro name=\"accessed-date\"><choose><if variable=\"URL\"><group prefix=\"[\" suffix=\"]\" delimiter=\" \"><text term=\"cited\" text-case=\"lowercase\"/><date variable=\"accessed\" form=\"text\"/></group></if></choose></macro><macro name=\"container-title\"><choose><if type=\"article-journal article-magazine chapter paper-conference article-newspaper review review-book entry-dictionary entry-encyclopedia\" match=\"any\"><group suffix=\".\" delimiter=\" \"><choose><if type=\"article-journal review review-book\" match=\"any\"><text variable=\"container-title\" form=\"short\" strip-periods=\"true\"/></if><else><text variable=\"container-title\" strip-periods=\"true\"/></else></choose><choose><if variable=\"URL\"><text term=\"internet\" prefix=\"[\" suffix=\"]\" text-case=\"capitalize-first\"/></if></choose></group><text macro=\"edition\" prefix=\" \"/></if><else-if type=\"bill legislation\" match=\"any\"><group delimiter=\", \"><group delimiter=\". \"><text variable=\"container-title\"/><group delimiter=\" \"><text term=\"section\" form=\"short\" text-case=\"capitalize-first\"/><text variable=\"section\"/></group></group><text variable=\"number\"/></group></else-if><else-if type=\"speech\"><group delimiter=\": \" suffix=\";\"><group delimiter=\" \"><text variable=\"genre\" text-case=\"capitalize-first\"/><text term=\"presented at\"/></group><text variable=\"event\"/></group></else-if><else><group delimiter=\", \" suffix=\".\"><choose><if variable=\"collection-title\" match=\"none\"><group delimiter=\" \"><label variable=\"volume\" form=\"short\" text-case=\"capitalize-first\"/><text variable=\"volume\"/></group></if></choose><text variable=\"container-title\"/></group></else></choose></macro><macro name=\"title\"><text variable=\"title\"/><choose><if type=\"article-journal article-magazine chapter paper-conference article-newspaper review review-book entry-dictionary entry-encyclopedia\" match=\"none\"><choose><if variable=\"URL\"><text term=\"internet\" prefix=\" [\" suffix=\"]\" text-case=\"capitalize-first\"/></if></choose><text macro=\"edition\" prefix=\". \"/></if></choose><choose><if type=\"thesis\"><text variable=\"genre\" prefix=\" [\" suffix=\"]\"/></if></choose></macro><macro name=\"edition\"><choose><if is-numeric=\"edition\"><group delimiter=\" \"><number variable=\"edition\" form=\"ordinal\"/><text term=\"edition\" form=\"short\"/></group></if><else><text variable=\"edition\" suffix=\".\"/></else></choose></macro><macro name=\"date\"><choose><if type=\"article-journal article-magazine article-newspaper review review-book\" match=\"any\"><group suffix=\";\" delimiter=\" \"><date variable=\"issued\" form=\"text\"/><text macro=\"accessed-date\"/></group></if><else-if type=\"bill legislation\" match=\"any\"><group delimiter=\", \"><date variable=\"issued\" delimiter=\" \"><date-part name=\"month\" form=\"short\" strip-periods=\"true\"/><date-part name=\"day\"/></date><date variable=\"issued\"><date-part name=\"year\"/></date></group></else-if><else-if type=\"report\"><date variable=\"issued\" delimiter=\" \"><date-part name=\"year\"/><date-part name=\"month\" form=\"short\" strip-periods=\"true\"/></date><text macro=\"accessed-date\" prefix=\" \"/></else-if><else-if type=\"patent\"><group suffix=\".\"><group delimiter=\", \"><text variable=\"number\"/><date variable=\"issued\"><date-part name=\"year\"/></date></group><text macro=\"accessed-date\" prefix=\" \"/></group></else-if><else-if type=\"speech\"><group delimiter=\"; \"><group delimiter=\" \"><date variable=\"issued\" delimiter=\" \"><date-part name=\"year\"/><date-part name=\"month\" form=\"short\" strip-periods=\"true\"/><date-part name=\"day\"/></date><text macro=\"accessed-date\"/></group><text variable=\"event-place\"/></group></else-if><else><group suffix=\".\"><date variable=\"issued\"><date-part name=\"year\"/></date><text macro=\"accessed-date\" prefix=\" \"/></group></else></choose></macro><macro name=\"pages\"><choose><if type=\"article-journal article-magazine article-newspaper review review-book\" match=\"any\"><text variable=\"page\" prefix=\":\"/></if><else-if type=\"book\" match=\"any\"><text variable=\"number-of-pages\" prefix=\" \"/><choose><if is-numeric=\"number-of-pages\"><label variable=\"number-of-pages\" form=\"short\" prefix=\" \" plural=\"never\"/></if></choose></else-if><else><group prefix=\" \" delimiter=\" \"><label variable=\"page\" form=\"short\" plural=\"never\"/><text variable=\"page\"/></group></else></choose></macro><macro name=\"journal-location\"><choose><if type=\"article-journal article-magazine review review-book\" match=\"any\"><text variable=\"volume\"/><text variable=\"issue\" prefix=\"(\" suffix=\")\"/></if></choose></macro><macro name=\"collection-details\"><choose><if type=\"article-journal article-magazine article-newspaper review review-book\" match=\"none\"><choose><if variable=\"collection-title\"><group delimiter=\" \" prefix=\"(\" suffix=\")\"><names variable=\"collection-editor\" suffix=\".\"><name sort-separator=\" \" initialize-with=\"\" name-as-sort-order=\"all\" delimiter=\", \" delimiter-precedes-last=\"always\"/><label form=\"long\" prefix=\", \"/></names><group delimiter=\"; \"><text variable=\"collection-title\"/><group delimiter=\" \"><label variable=\"volume\" form=\"short\"/><text variable=\"volume\"/></group></group></group></if></choose></if></choose></macro><macro name=\"report-details\"><choose><if type=\"report\"><text variable=\"number\" prefix=\"Report No.: \"/></if></choose></macro><citation collapse=\"citation-number\"><sort><key variable=\"citation-number\"/></sort><layout prefix=\"(\" suffix=\")\" delimiter=\",\"><text variable=\"citation-number\"/></layout></citation><bibliography et-al-min=\"7\" et-al-use-first=\"6\" second-field-align=\"flush\"><layout><text variable=\"citation-number\" suffix=\". \"/><group delimiter=\". \" suffix=\". \"><text macro=\"author\"/><text macro=\"title\"/></group><group delimiter=\" \" suffix=\". \"><group delimiter=\": \"><text macro=\"chapter-marker\"/><group delimiter=\" \"><text macro=\"editor\"/><text macro=\"container-title\"/></group></group><text macro=\"publisher\"/><group><text macro=\"date\"/><text macro=\"journal-location\"/><text macro=\"pages\"/></group></group><text macro=\"collection-details\" suffix=\". \"/><text macro=\"report-details\" suffix=\". \"/><text macro=\"access\"/></layout></bibliography></style>`\n","import rehypeCitationGenerator from './generator.js'\n// @ts-ignore\nimport Cite from './cite.js'\nimport mla from '../styles/mla.js'\nimport chicago from '../styles/chicago.js'\nimport harvard1 from '../styles/harvard1.js'\nimport vancouver from '../styles/vancouver.js'\n\nconst config = Cite.plugins.config.get('@csl')\n\n// Citation.js comes with apa\nconfig.templates.add('vancouver', vancouver)\nconfig.templates.add('harvard1', harvard1)\nconfig.templates.add('mla', mla)\nconfig.templates.add('chicago', chicago)\n\nconst rehypeCitation = rehypeCitationGenerator(Cite)\n\nexport default rehypeCitation\n"],"names":["citeExtractorRe","citeKeyRe","citeBracketRe","locatorMapping","book","chapter","column","figure","folio","number","line","note","opus","page","paragraph","part","section","verse","volume","parseCitation","citeString","entries","properties","test","noteIndex","citeItems","substr","length","split","citeItem","prefix","locator","label","suffix","citeChunk","Error","trim","suppressAuthor","indexOf","commaIndex","undefined","citeKey","match","afterKey","locatorMatch","push","id","mode","map","str","readFile","path","isValidHttpUrl","fetch","then","response","text","data","fs","readFileSync","url","URL","_","protocol","getBibliography","options","file","bibliography","frontmatter","join","cwd","htmlToHast","html","p5ast","parse5","parseFragment","fromParse5","children","defaultCiteFormat","permittedTags","genCitation","citeproc","citationId","citationPre","c","processCitationCluster","citationID","citationItems","result","filter","x","citeNode","textNode","genBiblioNode","bibBody","makeBibliography","biblioNode","rehypeCitationGenerator","Cite","tree","bibtexFile","citeFormat","csl","citations","citationIds","config","plugins","get","engine","lang","visit","node","idx","parent","value","includes","tagName","citeStartIdx","index","citeEndIdx","newChildren","type","slice","citedTextNode","noCite","updateItems","replace","suppressBibliography","registry","mylist","bilioInserted","currentVersion","log","retrieveVersion","versnum","image","JSON","parse","undo","retrieveLastVersion","save","stringify","_options","formats","types","styles","wrapperTypes","validateOutputOptions","TypeError","format","style","append","prepend","validateOptions","output","maxChainLength","forceType","generateGraph","strict","target","defaultOptions","validate","Object","assign","typeOf","thing","constructor","name","dataTypeOf","Array","isArray","applyGraph","entry","graph","_graph","findIndex","splice","removeGraph","logger","_output","level","scope","msg","_log","_levels","_console","console","Console","process","stderr","dataTypes","unregExts","parseNativeTypes","input","dataType","every","matchType","typeList","predicate","extensions","addTypeParser","extends","extend","debug","object","parentTypeParser","hasTypeParser","prototype","hasOwnProperty","call","removeTypeParser","typeLists","keys","key","list","forEach","listTypeParser","treeTypeParser","attachNode","typeMatcher","_defineProperty","obj","defineProperty","enumerable","configurable","writable","TypeParser","validateDataType","validDataTypes","RangeError","validateParseType","RegExp","validateTokenList","tokenList","validatePropertyConstraint","propertyConstraint","validateElementConstraint","elementConstraint","validateExtends","parseTokenList","token","trimInput","testTokens","parsePropertyConstraint","constraints","concat","props","some","prop","parseElementConstraint","constraint","parsePredicate","bind","getCombinedPredicate","predicates","getDataType","DataParser","parser","async","FormatParser","parsers","parseType","typeParser","dataParser","parseAsync","asyncDataParser","validateFormat","ownKeys","enumerableOnly","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","apply","_objectSpread","i","arguments","source","getOwnPropertyDescriptors","defineProperties","NAME","NAME_LIST","DATE","TYPE","entryTypes","article","bill","broadcast","classic","collection","dataset","document","event","graphic","hearing","interview","legal_case","legislation","manuscript","motion_picture","musical_score","pamphlet","patent","performance","periodical","personal_communication","post","regulation","report","review","software","song","speech","standard","thesis","treaty","webpage","fieldTypes","author","composer","editor","director","interviewer","illustrator","recipient","translator","accessed","container","issued","submitted","categories","language","journalAbbreviation","shortTitle","abstract","annote","archive","archive_location","authority","dimensions","DOI","edition","genre","ISBN","ISSN","issue","jurisdiction","keyword","medium","PMCID","PMID","publisher","references","scale","status","title","version","correctName","bestGuessConversions","literal","given","family","parseName","correctNameList","nameList","names","Boolean","correctDateParts","dateParts","isNaN","parseInt","correctDate","date","dp","range","correctType","correctField","fieldName","fieldType","parseFloat","toString","parseCsl","clean","field","correction","deepCopy","seen","Set","has","add","copy","delete","prepareParseGraph","reduce","array","next","last","count","element","ChainParser","iteration","iterate","typeInfo","getTypeInfo","outputs","error","end","message","chain","args","parseData","e","chainLink","chainAsync","parseDataAsync","catch","chainLinkAsync","flatten","asyncParsers","nativeParsers","nativeAsyncParsers","Promise","all","dataAsync","hasDataParser","addDataParser","removeDataParser","listDataParser","formatParser","asyncData","remove","util","fetchId","Math","random","parseInput","getIds","addAsync","parseInputAsync","set","setAsync","reset","getLabel","res","getComparisonValue","getName","num","Infinity","compareProp","entryA","entryB","flip","a","b","getSortCallback","shift","sort","method","callback","promise","Register","formatter","register","formatData","parsedOptions","styleType","styleFormat","newStyle","newType","formatOptions","template","_newOptions","createElement","tmp","innerHTML","firstChild","staticMethods","dict","entryName","bibliographyContainer","listItem","htmlDict","wr_start","wr_end","en_start","en_end","ul_start","ul_end","li_start","li_end","textDict","configs","ref","registers","indices","mainIndex","typeIndex","typePlugins","typePlugin","conversions","sign","evenRound","floor","round","createNumberConversion","bitLength","typeOpts","unsigned","lowerBound","pow","upperBound","moduloVal","moduloBitLength","moduloBound","V","opts","enforceRange","Number","isFinite","abs","clamp","val","treatNullAsEmptyString","String","codePointAt","S","n","U","charCodeAt","fromCodePoint","d","Date","module","mixin","getOwnPropertyNames","Symbol","impl","exports","wrapperSymbol","wrapper","implSymbol","PROCESSING_OPTIONS","TRANSITIONAL","NONTRANSITIONAL","normalize","s","findStatus","start","mappingTable","mid","regexAstralSymbols","countSymbols","string","mapChars","domain_name","useSTD3","processing_option","hasError","processed","len","codePoint","combiningMarksRegex","validateLabel","punycode","toUnicode","search","processing","labels","validation","verifyDnsLength","l","toASCII","total","domain","specialSchemes","ftp","gopher","http","https","ws","wss","failure","ucs2","decode","at","isASCIIDigit","isASCIIAlpha","isASCIIAlphanumeric","isASCIIHex","isSingleDot","buffer","toLowerCase","isDoubleDot","isWindowsDriveLetterCodePoints","cp1","cp2","isWindowsDriveLetterString","isNormalizedWindowsDriveLetterString","containsForbiddenHostCodePoint","containsForbiddenHostCodePointExcludingPercent","isSpecialScheme","scheme","isSpecial","defaultPort","percentEncode","hex","toUpperCase","utf8PercentEncode","buf","Buffer","utf8PercentDecode","isC0ControlPercentEncode","extraPathPercentEncodeSet","isPathPercentEncode","extraUserinfoPercentEncodeSet","isUserinfoPercentEncode","percentEncodeChar","encodeSetPredicate","cStr","parseIPv4Number","R","charAt","substring","regex","parseIPv4","parts","pop","numbers","ipv4","counter","serializeIPv4","address","parseIPv6","pieceIndex","compress","pointer","numbersSeen","ipv4Piece","swaps","temp","serializeIPv6","seqResult","findLongestZeroSequence","ignore0","separator","parseHost","isSpecialArg","parseOpaqueHost","asciiDomain","tr46","ipv4Host","decoded","arr","maxIdx","maxLen","currStart","currLen","serializeHost","host","trimControlChars","trimTabAndNewline","shortenPath","isNormalizedWindowsDriveLetter","includesCredentials","username","password","cannotHaveAUsernamePasswordPort","cannotBeABaseURL","URLStateMachine","base","encodingOverride","stateOverride","parseError","port","query","fragment","state","atFlag","arrFlag","passwordTokenSeenFlag","ret","parseSchemeStart","parseScheme","parseNoScheme","parseSpecialRelativeOrAuthority","parsePathOrAuthority","parseRelative","parseRelativeSlash","parseSpecialAuthoritySlashes","parseSpecialAuthorityIgnoreSlashes","parseAuthority","encodedCodePoints","parseHostName","parsePort","fileOtherwiseCodePoints","parseFile","parseFileSlash","parseFileHost","parsePathStart","parsePath","parseCannotBeABaseURLPath","parseQuery","serializeURL","excludeFragment","serializeOrigin","tuple","serializeURLOrigin","parseURL","usm","baseURL","integer","basicURLParse","URLImpl","constructorArgs","parsedBase","parsedURL","_url","href","v","origin","setTheUsername","setThePassword","serializeInteger","hostname","pathname","hash","toJSON","utils","setup","is","Impl","implementation","create","privateData","interface","expose","Window","Worker","require$$0","require$$1","Readable","Stream","BUFFER","Blob","blobParts","buffers","ArrayBuffer","isView","from","byteOffset","byteLength","size","resolve","arrayBuffer","ab","stream","readable","_read","relativeStart","relativeEnd","max","min","span","slicedBuffer","blob","toStringTag","FetchError","systemError","code","errno","captureStackTrace","convert","require","INTERNALS","PassThrough","Body","body","_this","_ref","_ref$size","_ref$timeout","timeout","isURLSearchParams","isBlob","isBuffer","disturbed","on","err","bodyUsed","consumeBody","ct","headers","json","_this2","reject","textConverted","_this3","convertBody","mixIn","proto","desc","_this4","alloc","accum","accumBytes","abort","resTimeout","setTimeout","chunk","clearTimeout","charset","exec","getAll","clone","instance","p1","p2","getBoundary","pipe","extractContentType","getTotalBytes","getLengthSync","_lengthRetrievers","hasKnownLength","writeToStream","dest","write","global","invalidTokenRegex","invalidHeaderCharRegex","validateName","validateValue","find","MAP","Headers","init","rawHeaders","raw","headerNames","headerName","iterator","pairs","pair","thisArg","getHeaders","_pairs$i","createHeadersIterator","values","kind","k","INTERNAL","HeadersIteratorPrototype","setPrototypeOf","getPrototypeOf","_INTERNAL","done","exportNodeCompatibleHeaders","__proto__","hostHeaderKey","createHeadersLenient","INTERNALS$1","STATUS_CODES","Response","contentType","statusText","ok","redirected","INTERNALS$2","Url","whatwgUrl","parse_url","format_url","urlStr","streamDestructionSupported","isRequest","isAbortSignal","signal","Request","inputBody","redirect","follow","agent","getNodeRequestOptions","request","contentLengthValue","totalBytes","AbortError","URL$1","PassThrough$1","isDomainOrSubdomain","destination","original","orig","endsWith","send","destroy","emit","aborted","abortAndFinalize","finalize","req","reqTimeout","addEventListener","removeEventListener","once","socket","isRedirect","statusCode","location","locationURL","requestOpts","response_options","statusMessage","codings","zlibOptions","flush","zlib","Z_SYNC_FLUSH","finishFlush","createGunzip","createInflate","createInflateRaw","createBrotliDecompress","serializeHeaders","deserializeHeaders","old","serializeRequest","credentials","cache","referrer","referrerPolicy","integrity","keepalive","deserializeRequest","resource","serializeResponse","deserializeResponse","bodyError","createStream","errors","serializeError","deserializeError","parseBodyType","parseBody","Transform","read","execFileSync","shared","_fetch","sendMessage","execPath","__dirname","windowsHide","maxBuffer","shell","_body","_bodyError","SyncRequest","defineBuffer","checkBody","SyncResponse","defineBodyError","_super","self","realFetch","corsEnabled","userAgent","normaliseHeaders","syncFetch","header","parseOpts","reqOpts","accept","checkContentType","isJson","sameType","checkResponse","fetchFile","fetchFileAsync","setUserAgent","newUserAgent","TokenStack","stack","current","getPatternText","pattern","getMatchCallback","matches","matchCallback","Function","tokensLeft","matchesSequence","sequence","consumeToken","inverse","spaced","consumeWhitespace","SyntaxError","optional","consume","consumeN","consumeSequence","tokenMap","tokenFilter","consumed","Grammar","rules","defaultState","mainRule","lexer","consumeRule","matchEndOfFile","matchToken","got","formatError","rule","createConditionEval","condition","conditionEval","parsePropStatement","toSource","inputProp","outputProp","toTarget","when","createConverter","Translator","CONVERT_TO_SOURCE","converter","outputData","converted","cause","convertToSource","convertToTarget","CONVERT_TO_TARGET","substituters","parseJSON","subst","textContent","empty","jquery","jQuery","HTMLElement","appendCommas","getJsonObject","src","getJsonValue","getJson","warn","ndjson","nameProps","person","firstname","lastname","firstName","lastName","identifiers","journalIdentifiers","idProps","upperCaseProp","identifier","typeMap","booklet","proceedings","mastersthesis","inbook","incollection","conference","inproceedings","online","phdthesis","techreport","unpublished","manual","misc","quickscrapeSpecificProps","generalProps","reviewer","keywords","dates","parseDate","published","year","journal","firstpage","pages","lastpage","link","cid","parseContentMine","parseBibJson","scraperLinks","links","authors","records","metadata","root","factory","moo","this","hasSticky","sticky","isRegExp","o","isObject","reEscape","reGroups","re","reCapture","reUnion","regexps","regexpOrLiteral","ignoreCase","multiline","objectToRules","j","include","ruleOptions","arrayToRules","defaultType","lineBreaks","fallback","shouldThrow","toRules","spec","defaultErrorRule","compileRules","hasStates","errorRule","fast","fastAllowed","unicodeFlag","groups","word","unicode","pat","regexp","groupCount","fallbackRule","flags","combined","compile","Lexer","checkStateGroup","g","compileStates","states","$all","ruleMap","included","newRules","newRule","fastKeys","keywordTransform","reverseMap","byLength","tokenType","item","keywordList","startState","info","col","queuedToken","queuedThrow","setState","popState","pushState","eat","_getGroup","tokenToString","queuedGroup","_token","queuedText","group","lastIndex","offset","matchNL","nl","LexerIterator","eol","firstLine","freeze","required","biblatex","mvbook","mvcollection","mvproceedings","electronic","www","bibtex","addendum","afterword","annotation","annotator","authortype","bookauthor","bookpagination","booksubtitle","booktitle","booktitleaddon","commentator","doi","editora","editorb","editorc","editortype","editoratype","editorbtype","editorctype","eid","entrysubtype","eprint","eprintclass","eprinttype","eventdate","eventtitle","eventtitleaddon","foreword","holder","howpublished","indextitle","institution","introduction","isan","isbn","ismn","isrn","issn","issuesubtitle","issuetitle","iswc","journalsubtitle","journaltitle","library","mainsubtitle","maintitle","maintitleaddon","month","nameaddon","organization","origdate","origlanguage","origlocation","origpublisher","origtitle","pagetotal","pagination","pubstate","reprinttitle","series","shortauthor","shorteditor","shorthand","shorthandintro","shortjournal","shortseries","shorttitle","subtitle","titleaddon","urldate","venue","volumes","crossref","entryset","execute","gender","langid","langidopts","ids","indexsorttitle","presort","related","relatedoptions","relatedtype","relatedstring","sortkey","sortname","sortshorthand","sorttitle","sortyear","xdata","xref","namea","nameb","namec","nameatype","namebtype","namectype","lista","listb","listc","listd","liste","listf","usera","userb","userc","userd","usere","userf","verba","verbb","verbc","archiveprefix","pdf","primaryclass","school","numpages","pmid","pmcid","diacritics","u","r","H","t","textcommabelow","commands","textquotesingle","textasciigrave","textquotedbl","textdollar","textless","textgreater","textbackslash","textasciicircum","textunderscore","textbraceleft","textbar","textbraceright","textasciitilde","textexclamdown","textcent","textsterling","textcurrency","textyen","textbrokenbar","textsection","textasciidieresis","textcopyright","textordfeminine","guillemetleft","guillemotleft","textlnot","textregistered","textasciimacron","textdegree","textpm","texttwosuperior","textthreesuperior","textasciiacute","textmu","textparagraph","textperiodcentered","textonesuperior","textordmasculine","guillemetright","guillemotright","textonequarter","textonehalf","textthreequarters","textquestiondown","AE","DH","texttimes","O","TH","ss","ae","dh","textdiv","th","DJ","dj","IJ","ij","L","NG","ng","OE","oe","textflorin","textasciicaron","textasciibreve","textacutedbl","textgravedbl","texttildelow","textbaht","SS","textcompwordmark","textendash","textemdash","textbardbl","textquoteleft","textquoteright","quotesinglbase","textquotedblleft","textquotedblright","quotedblbase","textdagger","textdaggerdbl","textbullet","textellipsis","textperthousand","textpertenthousand","guilsinglleft","guilsinglright","textreferencemark","textinterrobang","textfractionsolidus","textlquill","textrquill","textdiscount","textcolonmonetary","textlira","textnaira","textwon","textdong","texteuro","textpeso","textcelsius","textnumero","textcircledP","textrecipe","textservicemark","texttrademark","textohm","textmho","textestimated","textleftarrow","textuparrow","textrightarrow","textdownarrow","textminus","Hwithstroke","hwithstroke","textasteriskcentered","textsurd","textlangle","textrangle","textblank","textvisiblespace","textopenbullet","textbigcircle","textmusicalnote","textmarried","textdivorced","textinterrobangdown","copyright","Gamma","Delta","Theta","Lambda","Xi","Pi","Sigma","Phi","Psi","Omega","alpha","beta","gamma","delta","varepsilon","zeta","eta","theta","iota","kappa","lambda","mu","nu","xi","pi","rho","varsigma","sigma","tau","upsilon","varphi","chi","psi","omega","vartheta","Upsilon","phi","varpi","varrho","epsilon","_required","_fieldTypes","defaultStrings","jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec","acmcs","acta","cacm","ibmjrd","ibmsj","ieeese","ieeetc","ieeetcad","ipl","jacm","jcss","scp","sicomp","tocs","tods","tog","toms","toois","toplas","tcs","formattingEnvs","it","itshape","sl","slshape","em","bf","bfseries","sc","scshape","rm","sf","tt","formattingCommands","textit","textsl","emph","mkbibitalic","mkbibemph","textbf","strong","mkbibbold","textsc","textsuperscript","textsubscript","enquote","mkbibquote","textmd","textrm","textsf","texttt","textup","formatting","italics","bold","superscript","subscript","smallcaps","nocase","quotes","argumentCommands","ElsevierGlyph","glyph","fromCharCode","ligaturePattern","ligatures","mathScriptFormatting","sp","sb","mathrm","mathScripts","h","m","p","sentenceCaseLanguages","whitespace","comment","main","junk","otherEntryType","dataEntryType","otherEntryContents","lbrace","dataEntryContents","comma","fields","equals","quote","rbrace","quotedLiteral","bracedLiteral","delimiters","bibtexGrammar","Main","oldToken","Entry","openBrace","strings","closeBrace","EntryBody","Field","Expression","ExpressionPart","QuoteString","BracketString","Text","bibTxtRegex","splitEntries","parseEntry","splitPairs","splitPair","parseBibTxtEntry","out","parseBibTxt","biblatexTypes","bookinbook","reference","mvreference","inreference","artwork","audio","legal","letter","movie","music","video","bibtexTypes","constants","sentenceCase","useIdAsLabel","stopWords","unsafeChars","firstWord","months","LABEL","MONTHS","january","february","march","april","june","july","august","september","october","november","december","TYPE_KEYS","bathesis","mathesis","candthesis","resreport","datacd","audiocd","patentde","patenteu","patentfr","patentuk","patentus","patreq","patreqde","patreqeu","patreqfr","patrequk","patrequs","STANDARD_NUMBERS_PATTERN","day","parseMonth","formatLabel","Converters","PICK","datePart","padStart","YEAR_MONTH","EPRINT","HOW_PUBLISHED","howPublished","startsWith","KEYWORDS","safeId","NAMES","STANDARD_NUMBERS","STATUS","TITLE","addon","nonSpec","formatDate","aliases","subtype","typeKey","sourceType","subType","targetType","_objectWithoutProperties","excluded","_objectWithoutPropertiesLoose","sourceSymbolKeys","propertyIsEnumerable","sourceKeys","_toPropertyKey","arg","_toPrimitive","hint","prim","toPrimitive","_parse","_format","_spec$convertToSource","parseBibtex","formatBibtex","getStringCase","formatNameParts","piece","hyphenated","orderNameParts","orderGiven","undecided","upperCase","unshift","orderNamePieces","pieces","commandKeywords","command","mathShift","stringLiteral","namesLiteral","and","hyphen","listLiteral","separatedLiteral","mathLiteral","script","flattenConsString","applyFormatting","valueGrammar","StringNames","Name","NamePiece","NameToken","StringList","StringSeparated","StringVerbatim","StringUri","uri","decodeURI","encodeURI","StringTitleCase","_this$state","partlyLowercase","topLevel","protectCase","MathString","char","formatName","ligature","afterPunctuation","_this$state2","first","otherCharacters","rest","restLowerCase","Command","commandToken","diacritic","func","arity","Env","EnclosedEnv","beginEnv","endEnv","singleLanguageIsEnglish","isEnglish","languages","getMainRule","option","getLexerState","requirements","problems","missing","problem","parseEntryValues","parseValue","property","mapBiblatex","mapBibtex","parseEntries","parseBibtxt","UNSAFE_UNICODE","DIACRITIC_PATTERN","listDelimiters","separated","richTextMappings","sup","sub","escapeValue","subject","formatRichText","closingTags","tokens","formatTitle","formatSingleValue","valueType","formatList","listType","delimiter","formatted","formatEntryValues","formatValue","formatEntry","mapper","bibtxt","formatBibtxt","defaultLocales","locales","defaultTemplates","apa","templates","proxied","for","getWrapperProxy","proxy","sys","wrapBibliographyEntry","postfix","system_id","CSL","Output","Formats","retrieveLocale","unnormalised","engines","fetchEngine","retrieveItem","engineHash","Engine","prepareEngine","templateName","items","store","setOutputFormat","getAttributedEntry","getPrefixedEntry","getAffix","affix","nosort","sortedIds","bibstart","bibend","asEntryArray","citation","citationsPre","citationsPost","previewCitationCluster","attr","getWrappedEntry","affixes","core","inputAsync","cite","PROCESSOR_VERSION","locale","addTemplate","getTemplate","hasTemplate","addLocale","getLocale","hasLocale","bibjson","bibjsonParsers","record","parsed","textEntry","coreParsers","formatters","converters","asHtml","bibtexOutput","bibtexOutputEntries","bibtxtFormat","coreOutput","vancouver","harvard1","mla","chicago","rehypeCitation"],"mappings":"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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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"}