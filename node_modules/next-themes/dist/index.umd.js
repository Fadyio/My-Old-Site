!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("next/head")):"function"==typeof define&&define.amd?define(["exports","react","next/head"],t):t((e=e||self).nextThemes={},e.react,e.NextHead)}(this,function(e,t,n){var r="default"in t?t.default:t;n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n;var o=t.createContext({setTheme:function(e){},themes:[]}),a=["light","dark"],i="(prefers-color-scheme: dark)",c=t.memo(function(e){var t=e.forcedTheme,o=e.storageKey,a=e.attribute,c=e.enableSystem,s=e.defaultTheme,u=e.value,d="class"===a?"var d=document.documentElement.classList;d.remove("+e.attrs.map(function(e){return"'"+e+"'"}).join(",")+");":"var d=document.documentElement;",m=function(e,t){e=(null==u?void 0:u[e])||e;var n=t?e:"'"+e+"'";return"class"===a?"d.add("+n+")":"d.setAttribute('"+a+"', "+n+")"},l="system"===s;return r.createElement(n,null,r.createElement("script",t?{key:"next-themes-script",dangerouslySetInnerHTML:{__html:"!function(){"+d+m(t)+"}()"}}:c?{key:"next-themes-script",dangerouslySetInnerHTML:{__html:"!function(){try {"+d+"var e=localStorage.getItem('"+o+"');"+(l?"":m(s)+";")+'if("system"===e||(!e&&'+l+')){var t="'+i+'",m=window.matchMedia(t);m.media!==t||m.matches?'+m("dark")+":"+m("light")+"}else if(e) "+(u?"var x="+JSON.stringify(u)+";":"")+m(u?"x[e]":"e",!0)+"}catch(e){}}()"}}:{key:"next-themes-script",dangerouslySetInnerHTML:{__html:"!function(){try{"+d+'var e=localStorage.getItem("'+o+'");if(e){'+(u?"var x="+JSON.stringify(u)+";":"")+m(u?"x[e]":"e",!0)+"}else{"+m(s)+";}}catch(t){}}();"}}))},function(e,t){return e.forcedTheme===t.forcedTheme}),s=function(e,t){if("undefined"!=typeof window){var n;try{n=localStorage.getItem(e)||void 0}catch(e){}return n||t}},u=function(e){return e||(e=window.matchMedia(i)),e.matches?"dark":"light"};e.ThemeProvider=function(e){var n=e.forcedTheme,d=e.disableTransitionOnChange,m=void 0!==d&&d,l=e.enableSystem,f=void 0===l||l,h=e.enableColorScheme,v=void 0===h||h,y=e.storageKey,p=void 0===y?"theme":y,g=e.themes,T=void 0===g?["light","dark"]:g,b=e.defaultTheme,w=void 0===b?f?"system":"light":b,x=e.attribute,S=void 0===x?"data-theme":x,E=e.value,k=e.children,C=t.useState(function(){return s(p,w)}),L=C[0],I=C[1],M=t.useState(function(){return s(p)}),O=M[0],_=M[1],j=E?Object.values(E):T,H=t.useCallback(function(e){var t=u(e);_(t),"system"!==L||n||P(t,!1)},[L,n]),N=t.useRef(H);N.current=H;var P=t.useCallback(function(e,t,n){void 0===t&&(t=!0),void 0===n&&(n=!0);var r,o=(null==E?void 0:E[e])||e,a=m&&n?((r=document.createElement("style")).appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(r),function(){window.getComputedStyle(document.body),setTimeout(function(){document.head.removeChild(r)},1)}):null;if(t)try{localStorage.setItem(p,e)}catch(e){}if("system"===e&&f){var i=u();o=(null==E?void 0:E[i])||i}if(n){var c,s=document.documentElement;"class"===S?((c=s.classList).remove.apply(c,j),s.classList.add(o)):s.setAttribute(S,o),null==a||a()}},[]);t.useEffect(function(){var e=function(){return N.current.apply(N,[].slice.call(arguments))},t=window.matchMedia(i);return t.addListener(e),e(t),function(){return t.removeListener(e)}},[]);var K=t.useCallback(function(e){n?P(e,!0,!1):P(e),I(e)},[n]);return t.useEffect(function(){var e=function(e){e.key===p&&K(e.newValue)};return window.addEventListener("storage",e),function(){return window.removeEventListener("storage",e)}},[K]),t.useEffect(function(){if(v){var e=n&&a.includes(n)?n:L&&a.includes(L)?L:"system"===L&&O||null;document.documentElement.style.setProperty("color-scheme",e)}},[v,L,O,n]),r.createElement(o.Provider,{value:{theme:L,setTheme:K,forcedTheme:n,resolvedTheme:"system"===L?O:L,themes:f?[].concat(T,["system"]):T,systemTheme:f?O:void 0}},r.createElement(c,{forcedTheme:n,storageKey:p,attribute:S,value:E,enableSystem:f,defaultTheme:w,attrs:j}),k)},e.useTheme=function(){return t.useContext(o)}});
